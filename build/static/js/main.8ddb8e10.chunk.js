(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{130:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEkSURBVEhL7dY/SAJhHMbxI6nEqSGIlgh3QXBqEoSIcHNraozExdZam6RBJ3eHIGpwdkxosKnN0bE/grREFOn3BYcjHo/Lfq+TX/hw090jd3BesOwPrUyPCymPW7xhPD22sAlvXcCNKU+oIAXT9vEDNRrWhekj6EANKQcwaRUfUCNKHSZtQQ3McgeT1vEFNaJcw6xHqBHlFGYNoEaUc5i0hk+oEaUJsy6hRn57QQ6mxXnOJzDvEFFvrz6S8FIVavQZaXgrAzV8D69loYYf4K0NuNehGv7GEcxKoIAGhlCjYT2cYRdztYMrvEINxOF+xDHcv1usSniHutg83MfBNiLbg3te6gL/4V4+kV8mbagTLRQxsxHUSRZqkLlbceNRGcsWXRBMAEq4HznHoPN0AAAAAElFTkSuQmCC"},135:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAQ1SURBVGhD7ZpJyE5RGMc/85ApQxlW2EhJhoQFUSQLkY2hELJRpoVYmC2QaWXKjthhJ0NhIUTJnCkUG2XMPP9/N0/d3t577jn33ve+3+L91W9xT3d6vnuG5zzv19SgQfOnt5wj98sL8pX8JP/KP/KtfCBPyo1yvGwrmwXt5Hx5Sf6WvHSlP6u0me/kQTlS1oXWcrl8Ke2lPspTkvYJsq9sI41OcpCcIbfL65IvZdefkaNkaYyVd6S9wFU5V3aQoQyUW+Ubyb34qgdkF1kzWsq10rrKXTlJFkFnuUF+kdz7kaxJd2NQHpM85JfkofFuUxQD5BXJcwhqmiwMgjgtuTldYJysJYy/PdL+aLNlblrIo5KbMrAHy7JYLXnudzmRhjwwJrjZazmEhpJZL3k+03R/GrIwRvJpsdbdyYX1iGuSbhcEA9mm2HU01BHWn4eSd2GNCoILuJApthazUyiMEd7ng+xJgw/MUrZi+6wT/MXyBNtNskalcULyTluiIw8WSC6gT6ZBEO/lTdmLhkBmym9yX3TkZpgkpWHge2URZK4EQtqRBl+CIDj/lgwJhiCYWrl2GQ0ekJxy/qzoyEEfSb5DAtiRBg94eYIICSYexCYaPFksuYZu5oT9BCeSxYYQEkzWIIA9D9fRvVrRkAR9lRNXREdh+ASTJwiDzRnXD42OErgoOYndWxZcwRQRBFjy6szB2J5yUr/oKBvVgikqCNgsuQ/pSyK2x867l44H81QWFQQsldyLDDkRTuChRUAwjyX3xB2yCOZJ7nc4OkrACghFEO9OWDlmsmJTsHMRZZXmJFbsPMSD2Ckrx0weVkruRQEjkfuSk/JsoKoN7PiYyRvMXsl9nJkwCyEnUbLJgmt2igdz+/9xFmzbPTU6SoAKICc5P1sCPlMsL08QWYMhS6ZiyfWkU4mwE+Qkimch+ARh5AmGEhHXMQScUAIlYtJlimc+hARhZA2GKZxrdkdHKVDp42QqgGl0l+wnQoIw4sEcoSGF+IaPvUkqIyQnU8NKm4bJQA/JLEkmEMxxOT06crNQ8l43oiNPzkoucuYzJdJePpO8U9CMSlWcVf6rpIxZbyxRpGBO0TAIGyuXZT0rKaMlkwn1Nbp9MF3lE0kwzkyzhjCGnkvewbt6Uo3h8rPkRmtoKBH+kDarnZPOra0PlPb5rNywrMHP3tyqMwRDUIVAUcIWPWqxebNjF4yJF5JnkZs5U5EsTJZUL3gAtdjcpf4KKLqxqP6QPOO8pApZEyjtk4fxIKS+5LXKOmDFXiRtnWDaZ7rNPSbSsF90bRNGXkYFkJ2bbzcgiyUBJHeyggdSpmWCKZUekinRupt5T5J20E0oFPA7/BK5SrIpYj9hqbjJVyZNCV7sioS+TS2WblYZlEtS8V2y9C/gA/2aCiCB8csvCyn/2YDbJPvtKbLwmahBg5rQ1PQPENhcJgqP0KIAAAAASUVORK5CYII="},136:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAINSURBVGhD7Zk9SFVhGIBvP5hDZDhIIoKLEUjgErUotCRBOom09DMVNLQ4KDhES4KL0KJtjbZEbrakLoJgRNTSYoNCPygEaWaF9TynexeRuOa93vvW98CD93u955zv9Xw/7znmEolEIpH4DziE17A5awVmEH/ig6wVlFbcwC3sNBCRAziL3o1xA1G5iSaxjHUGItKEn9BEegxEZRJNYiJrBaUPTWIVGwxEpB4/oIlcNRCVh2gST7NWUC6gSXzGFgMROYqLaCK3DURlFE1iDq2tQnIOf+AmthmISA2+Qu/GHQNRsfMm8RpNKiQOI4eTw8rhFRIntBPbu+FED4tLrEm45Lr0lo3LePr3x5LjZuemZyJugmXDEtqLrOMlAyVmCj2/5UjZGUEv9h2vGygRFoKe9z1aIO4L/eizsg4Z2COW5CtoIpbq+8oV/IZe/D4exL/FhyTP8yRrVYCLuIZ24hEewd3SjR7v46tzsGKcxcKweIbHsFj87hJ67A0DleYUvkU79AJPYDGMocdMo694qoJGfIl2zM3sJP6JDnSx+IK+bKsqjuMMmsxHPIM7UYtv0O8NGKhG7ORjtJPu0l24nXvo75/jYQPVioWfL5btrEu0S3WBdnQzVT+H4C6ajHPBTdS//kI+NoyhuIU+V9j5+fxP54dDMBy9+BULdyfsvwHkPL5Di85EIpFI/Mvkcr8AKZx2HqSxMFUAAAAASUVORK5CYII="},137:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAASOSURBVGhD1ZlbqBdVFIePZZmlpUSlZnZFyqiHxC4W0YXqpQLJS0FkYGX1YqKhkRVomkQSVvSgPUUUFUVZCUUXoZQCTdSHoMLI0EpJUsusrPy+zdkwyJn5z/zZc2b6wQdn7zOXteY/e6211/Q0pOPhJngcXoVP4Rv4Hf7r5V9YDUdA6zQR3oQ/IBpcxN9wArRGw+ENiAYegI9hMdwJV8Jp4HFXwK/gcQuhNRoLvjYa9gPcD8OgL10K0YmlTrRFJ8H3oGGvwxDIU9aJJ5xoiwbB56BhL8ORkKesE75urdJc0LAv4FgnctRqJ4w0e8Co4xrJ03iITixyom26GzRuZRjl6wPwuFZFp6zeAw28Kozy9S143MAwqq7z4Bbo9vyO2gG/QdECVzGidaPrYT94/iwnUsuSwot/HUbF+go81pKliq6DbDlTS7h2oXvxL8OoWBvAY0eGUTlFJ6zFjIi1OeIvYi31YxgVK5Ytl4dRZ10L8ZeYDQ/0/v0w1KIt8A+cHEb5ehI05I4wKtbVEJ2Y4wSaD9GpWrQcvMGMMMqXBaPHPRdG+TL6RScedKJXT4Fz08KoBlnBeoPNULSfGAV/gcduB/PK8/AQ3Af+Uj7t6ITzWVn6OG/1XJvWgDeZGUb5mgLrwVfR4/Poax18Bv7v7DCqSZYc3sSnebETHTQYzgd3jvfAPLD2WgA3wOEyCXrtfdApX3UtjTA8uoHSmZ/ALJxSl4HX/jCMEmsALANvYPi9EJ7tHad2Ji50Q3BSHQUvghe3hjoLlM65gFM6Y9LdDVbXpzqRSu433gGN3QgjIKvUzjwDXuuFMEokGwZrwQsbqfK6HqmcmQ5eYxfYsEgi84BZ3Au/BcdAkbLOaEjV+G8QOQjmHmuuJHLn9x1olD9x2RCoM3EtaZBNuk69K+/lg/IctweTIIncou4EL2zbRuPK6hwwi3tu3E/8Aj4MN0kXgQnOZt5d8Da4qD1uK/j/JLIC3QvmiVi8ldXpsA006hGwfPdViyVIHq4pM7tJM4kmg0nOJ1SmYs3KHlds1C1xIqPjYCr46/oK2QOzjnoMzOpJM/e94ELz6d3oRAW5BiwgdaJTpVurHgWNMAlZ2VbR0fAReP5LUGU9JZMleEw+NhQugCrylbD77vk6o1P9Lm/6CmiEjYQzoKpizrB1WtRtrE02m98HjbBBcApUlU03z3eBu9D7XSdCbD77DaNqq0a5u/N8PyOMcaK/Ze0Se02+23bUq8owanSzp1t1TSXROIjJagV0E7uvgT/BEF22xZNUZ0IsOax9ugmRPn1/BX+Nm51oQm4XdaLb1v5ocD14DddHI/JDiwasg25ep2zWbvST2dOgEXYvqqoVWTsq9p+GhlF5abTGe66vZiNZOyubY25wqsrXSCcay9qH6zXQICNXWcWE11jW7kt29TTKsFtGhlZDrOHa3V5r5K7rZzCRGcGKZAlvspNLnGib/B7nU3bvnNed8BOBfdZGE14ZuXV1G+te/F1wHdwGbjc3ga+fX6JuhdZrAnwCGp3Flv8qOBf+V9Lg28FAYDVb5WNlA+rpOQR7fk6Y9tt82AAAAABJRU5ErkJggg=="},138:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGbSURBVGhD7Zq7SgNBGEbXS2HjtbJRsBZLC8EHUCysBLETX8B0gr1oZyMoll56X0AQQVsRrLSytPCCFgrezjciu4adJCTr7Cb8Bw7knwwz80GyEzITGS3MAO7hE35V8QYXsZAcYdqiKzmDhaIHP/ABB9VQhWVUkENXFYhh1MIuXVWdSVT/U1cFoAP7a3AMtbCrRFslp1H9zxNtlezGulGIa9SERXAF66INj1Gfew30ifcBfUbN+4Z3uIQN0Ysa8NFV4dATTfMeuCoDLEiDWBAftQZRv86fl3/oQ1+7now+cgmiRel9/UxJol3+BcsXM4KvuOuqdHIJ4tvZfzfK8h28lp3dgviwIGBBwIL4sCBgQcCC+LAgYEHAgviwIGBBwIL4sCBgQcCC+LAg0HRBhlB9LlwVM4pqP3FVzASqXccWPnIJ0o4bOO+qGP1Vuomzrorpwi2cclU6uQT5DyyIj5YJohNVDagbDSHR90rz7rsqI25Rg67hXAAX8Aw15ypmhp5G76iBQ6o7Kzpnz5RxXMedAG5jCXU1xGhCougbH+POAcZoK5gAAAAASUVORK5CYII="},140:function(e,t,a){e.exports=a.p+"static/media/logo.96ebfbf9.png"},142:function(e,t,a){e.exports=a(255)},151:function(e,t,a){},225:function(e,t,a){},255:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),l=a(10),s=a.n(l),i=(a(151),a(13)),c=a(14),u=a(16),m=a(15),p=a(17),E=a(78),d=a(115),h=a(47),A=a(264),g=a(257),y=a(235),f=a(268),b=a(267),v=a(126),w=a(261),D=a(253),C=a(262),I=a(128),S=a.n(I),k=a(118),O=a.n(k),j=a(129),R=a.n(j),L=function(e){return{type:"UPDATE_EMPLOYEES",payload:e}},T=function(e){return{type:"SHOW_DELETE_EMPLOYEE",payload:e}},U=function(){return{type:"HIDE_DELETE_EMPLOYEE"}},P=function(e){return{type:"SHOW_EDIT_EMPLOYEE",payload:e}},N=function(){return{type:"HIDE_EDIT_EMPLOYEE"}},M=function(){return{type:"SHOW_REGISTER_EMPLOYEE"}},B=function(){return{type:"HIDE_REGISTER_EMPLOYEE"}},x=a(117),J=a.n(x),G=a(45),Q=a(141),Y=a(12),F={employees:[],deleteEmployee:{show:!1,employee:{}},editEmployee:{show:!1,employee:{}},registerEmployee:{show:!1}},H=Object(G.b)({employees:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_EMPLOYEES":return Object(Y.a)({},e,{employees:Object(Q.a)(t.payload)});case"SHOW_DELETE_EMPLOYEE":return Object(Y.a)({},e,{deleteEmployee:Object(Y.a)({},e.deleteEmployee,{show:!0,employee:t.payload})});case"HIDE_DELETE_EMPLOYEE":return Object(Y.a)({},e,{deleteEmployee:Object(Y.a)({},e.deleteEmployee,{show:!1,employee:{}})});case"SHOW_EDIT_EMPLOYEE":return Object(Y.a)({},e,{editEmployee:Object(Y.a)({},e.editEmployee,{show:!0,employee:t.payload})});case"HIDE_EDIT_EMPLOYEE":return Object(Y.a)({},e,{editEmployee:Object(Y.a)({},e.editEmployee,{show:!1,employee:{}})});case"SHOW_REGISTER_EMPLOYEE":return Object(Y.a)({},e,{registerEmployee:Object(Y.a)({},e.registerEmployee,{show:!0})});case"HIDE_REGISTER_EMPLOYEE":return Object(Y.a)({},e,{registerEmployee:Object(Y.a)({},e.registerEmployee,{show:!1})});default:return e}}});var z=Object(G.c)(H,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),V="http://localhost:8080/",K={headers:{"Content-Type":"application/json"}},Z=function(){return J.a.post(V+"getEmployees")},W=function(e){return J.a.post(V+"getEmployee",{id:e},K)},X=function(e){return J.a.post(V+"getEmployeeWorkLog",{id:e},K)},q=function(e){return J.a.post(V+"addEmployee",e)},_=function(e,t){return J.a.post(V+"setEmployeeWorking",{id:e,working:t})},$=function(e){return J.a.post(V+"deleteEmployee",{id:e})},ee=function(){Z().then(function(e){z.dispatch(L(e.data))})},te=function(e){return e<10&&(e="0"+e),e},ae=a(130),ne=a.n(ae),re=(a(60),a(223),a(225),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-box"},r.a.createElement("div",{className:"container-box-header"},this.props.header),r.a.createElement("div",{className:"container-box-body"},this.props.children))}}]),t}(r.a.Component));var oe=Object(o.b)(function(e){return{}},function(e){return{}})(re),le=a(266),se=a(265),ie=a(258),ce=a(256),ue=a(259),me=a(124),pe=(a(233),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(se.a.Control,{onClick:this.props.onClick,onChange:this.props.onChange,placeholder:this.props.value,value:this.props.value})}}]),t}(r.a.Component)),Ee=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).fetchWorkLog=function(){var e=a.props.userId;W(a.props.userId).then(function(t){a.props.userId===e&&a.setState({employee:t.data})}),X(a.props.userId).then(function(t){a.props.userId===e&&a.setState({workLog:t.data})}),a.setState({updateInterval:setInterval(function(){W(a.props.userId).then(function(t){a.props.userId===e&&a.setState({employee:t.data})}),X(a.props.userId).then(function(t){a.props.userId===e&&a.setState({workLog:t.data})})},5e3)})},a.onModalHide=function(){clearInterval(a.state.updateInterval),a.setState({employee:{name:"Iel\u0101d\u0113...",surname:" "},workLog:[]})},a.handleDateChangeStart=function(e){var t=new Date(e);t.setHours(0,0,0),a.setState({startDate:t})},a.handleDateChangeEnd=function(e){var t=new Date(e);t.setHours(23,59,59),a.setState({endDate:t})},a.onClickFilter=function(e){switch(e){case 0:a.handleDateChangeStart(new Date),a.handleDateChangeEnd(new Date);break;case 1:var t=new Date;t.setDate(t.getDate()-1),a.handleDateChangeStart(t),a.handleDateChangeEnd(t);break;case 2:var n=new Date;n.setDate(n.getDate()-7),a.handleDateChangeStart(n),a.handleDateChangeEnd(new Date);break;case 3:var r=new Date;r.setDate(r.getDate()-30),a.handleDateChangeStart(r),a.handleDateChangeEnd(new Date);break;default:a.handleDateChangeStart(new Date),a.handleDateChangeEnd(new Date)}a.setState({dropdown:Object(Y.a)({},a.state.dropdown,{currentFilter:a.state.dropdown.filters[e]})})};var n=new Date;n.setHours(0,0,0);var r=new Date;return r.setHours(23,59,59),a.state={employee:{name:"Iel\u0101d\u0113...",surname:" "},workLog:[],results:0,updateInterval:null,startDate:n,endDate:r,dropdown:{currentFilter:"\u0160odiena",filters:["\u0160odiena","Vakardiena","P\u0113d\u0113j\u0101s 7 dienas","P\u0113d\u0113j\u0101s 30 dienas"]}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.userId!==e.userId&&null!==this.props.userId&&this.fetchWorkLog()}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.updateInterval)}},{key:"render",value:function(){var e=this,t=0,a=this.state.workLog.filter(function(a){var n=new Date(a.start_time);return!(n<e.state.startDate||n>e.state.endDate)&&(t++,!0)}).map(function(e,t){var a=null===e.end_time,n=new Date(e.start_time),o=a?new Date:new Date(e.end_time),l=te(n.getDate())+"."+te(n.getMonth()+1)+"."+te(n.getFullYear())+" "+te(n.getHours())+":"+te(n.getMinutes()),s=a?" - ":te(o.getDate())+"."+te(o.getMonth()+1)+"."+te(o.getFullYear())+" "+te(o.getHours())+":"+te(o.getMinutes()),i=Math.floor((o-n)/1e3),c=Math.floor(i/60),u=Math.floor(c/60),m=Math.floor(u/24);i=i-24*m*60*60-60*(u-=24*m)*60-60*(c=c-24*m*60-60*u);var p=+u+" st. "+c+" min. ";return r.a.createElement("tr",{key:t,style:a?{backgroundColor:"#ffffe6"}:null},r.a.createElement("td",null,l),r.a.createElement("td",null,s),r.a.createElement("td",null,p))});return r.a.createElement(le.a,{show:this.props.showWorkLogModal,onHide:function(){return e.props.handleWorkLogClose()},onExited:function(){return e.onModalHide()},size:"lg"},r.a.createElement(le.a.Header,{closeButton:!0},r.a.createElement(le.a.Title,null,this.state.employee.name+" "+this.state.employee.surname)),r.a.createElement(le.a.Body,null,r.a.createElement(se.a,null,r.a.createElement(g.a,null,r.a.createElement(y.a,{sm:4},r.a.createElement(se.a.Group,{as:g.a},r.a.createElement(se.a.Label,{column:!0,sm:2},"No"),r.a.createElement(y.a,{sm:10},r.a.createElement(me.a,{dateFormat:"yyyy/MM/dd",customInput:r.a.createElement(pe,null),selected:this.state.startDate,onChange:this.handleDateChangeStart,maxDate:new Date})))),r.a.createElement(y.a,{sm:4},r.a.createElement(se.a.Group,{as:g.a},r.a.createElement(se.a.Label,{column:!0,sm:2},"L\u012bdz"),r.a.createElement(y.a,{sm:10},r.a.createElement(me.a,{dateFormat:"yyyy/MM/dd",customInput:r.a.createElement(pe,null),selected:this.state.endDate,onChange:this.handleDateChangeEnd,maxDate:new Date})))),r.a.createElement(y.a,{sm:4},r.a.createElement(ie.a,{variant:"secondary",title:this.state.dropdown.currentFilter,className:"text-right"},this.state.dropdown.filters.map(function(t,a){return r.a.createElement(ce.a.Item,{key:a,onClick:function(){return e.onClickFilter(a)}},t)}))))),this.state.workLog.length&&t?r.a.createElement(ue.a,{hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ATSKAITE S\u0100KTA"),r.a.createElement("th",null,"ATSKAITE BEIGTA"),r.a.createElement("th",null,"NOSTR\u0100D\u0100TS"))),r.a.createElement("tbody",null,a)):r.a.createElement("div",{className:"text-center"},"Netika atrasts neviens ieraksts...")))}}]),t}(r.a.Component);var de=Object(o.b)(function(e){return{}},function(e){return{}})(Ee),he=a(269),Ae=a(260),ge=a(135),ye=a.n(ge),fe=a(136),be=a.n(fe),ve=a(137),we=a.n(ve),De=a(138),Ce=a.n(De);var Ie=Object(o.b)(function(e){return{deleteEmployee:e.employees.deleteEmployee}},function(e){return{showDeleteEmployee:function(t){return e(T(t))},hideDeleteEmployee:function(){return e(U())},showEditEmployee:function(t){return e(P(t))},hideEditEmployee:function(){return e(N())}}})(function(e){var t={filter:"invert(100%)"};return r.a.createElement("div",null,r.a.createElement(D.a,{variant:e.employee.working?"secondary":"success",size:"sm",className:"mr-1",onClick:function(){return _(e.employee.id,!e.employee.working).then(function(){ee()})}},r.a.createElement(he.a,{placement:"top",overlay:r.a.createElement(Ae.a,{id:"tooltip-top"},"Atz\u012bm\u0113t k\u0101 ",e.employee.working?"izg\u0101ju\u0161u":"ien\u0101ku\u0161u")},r.a.createElement("span",null,e.employee.working?r.a.createElement(w.a,{src:ye.a,width:"20",height:"auto",style:t}):r.a.createElement(w.a,{src:be.a,width:"20",height:"auto",style:t})))),r.a.createElement(D.a,{variant:"warning",size:"sm",className:"mr-1",onClick:function(){return e.showEditEmployee(e.employee)}},r.a.createElement(he.a,{placement:"top",overlay:r.a.createElement(Ae.a,{id:"tooltip-top"},"Redi\u0123\u0113t")},r.a.createElement("span",null,r.a.createElement(w.a,{src:we.a,width:"20",height:"auto",style:t})))),r.a.createElement(D.a,{variant:"danger",size:"sm",className:"mr-1",onClick:function(){return e.showDeleteEmployee(e.employee)}},r.a.createElement(he.a,{placement:"top",overlay:r.a.createElement(Ae.a,{id:"tooltip-top"},"Dz\u0113st")},r.a.createElement("span",null,r.a.createElement(w.a,{src:Ce.a,width:"20",height:"auto",style:t})))))}),Se=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).onTableChange=function(t,a){e.formatTable(function(){e.setState({filter:{type:t,filters:a.filters?a.filters:""}});var n=e.state.tableData.filter(function(e){var t=!0;for(var n in a.filters){var r=a.filters[n],o=r.filterVal,l=r.filterType,s=r.comparator;if("TEXT"===l&&(t=s===k.Comparator.LIKE?e[n].toString().toLowerCase().indexOf(o.toLowerCase())>-1:e[n]===o),!t)break}return t});e.setState({tableData:n})})},e.formatTable=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return null};e.setState({tableData:e.props.employees.map(function(e){var t=e.working?new Date(e.last_work_start):new Date(e.last_work_end),a=+te(t.getHours())+":"+te(t.getMinutes()),n=e.working?"IEN\u0100CA: "+a:"IZG\u0100JA: "+a;return{employee:e,id:e.id,name:e.name+" "+e.surname,personalCode:e.personalCode,status:n,commands:e}})},function(){t()})},e.showWorkLog=function(t){e.setState({workLogUserId:t,showWorkLogModal:!0})},e.handleWorkLogClose=function(){e.setState({showWorkLogModal:!1,workLogUserId:null})},e.state={workLogUserId:null,showWorkLogModal:!1,updateInterval:null,tableData:[],filter:{type:"",filters:""}},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){ee(),this.setState({updateInterval:setInterval(function(){ee()},5e3)})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.updateInterval)}},{key:"componentDidUpdate",value:function(e,t){if(e.employees!==this.props.employees){var a=this.state.filter.filters;this.onTableChange(this.state.filter.type,{filters:a})}}},{key:"render",value:function(){var e=this,t=[{dataField:"id",text:"#",sort:!0,classes:"align-middle"},{dataField:"name",text:"V\u0101rds",sort:!0,classes:"align-middle",formatter:function(t,a){return r.a.createElement("div",null,r.a.createElement(w.a,{src:ne.a,width:"20",height:"20",className:"mr-2"}),r.a.createElement(D.a,{variant:"link",onClick:function(){return e.showWorkLog(a.employee.id)}},t))},filter:Object(k.textFilter)({placeholder:"V\u0101rds...",caseSensitive:!1,delay:1}),filterRenderer:null},{dataField:"status",text:"Status",sort:!0,classes:"align-middle",formatter:function(e,t){return r.a.createElement(C.a,{style:{fontSize:"14px"},variant:t.employee.working?"success":"info"},e)}},{dataField:"commands",text:"Komandas",classes:"align-middle",formatter:function(e,t){return r.a.createElement(Ie,{employee:t.employee})}}],a=R()({page:1,alwaysShowAllBtns:!0,showTotal:!0,sizePerPage:10,paginationTotalRenderer:function(e,t,a){return 0===t?r.a.createElement("span",{className:"react-bootstrap-table-pagination-total"},"\xa0Netika atrasts neviens rezult\u0101ts"):r.a.createElement("span",{className:"react-bootstrap-table-pagination-total"},"\xa0R\u0101da ",t-e+1," no ",a," rezult\u0101tiem")},sizePerPageList:[{text:"10",value:10},{text:"25",value:25},{text:"50",value:50},{text:"100",value:100},{text:"Visi",value:this.props.employees.length}]});return r.a.createElement(oe,{header:"Darbinieku Saraksts"},r.a.createElement(S.a,{bootstrap4:!0,keyField:"id",data:this.state.tableData,columns:t,bordered:!1,hover:!0,filter:O()(),defaultSorted:[{dataField:"id",order:"asc"}],remote:{filter:!0},onTableChange:this.onTableChange,pagination:a}),r.a.createElement(de,{showWorkLogModal:this.state.showWorkLogModal,handleWorkLogClose:this.handleWorkLogClose,userId:this.state.workLogUserId}))}}]),t}(r.a.Component);var ke=Object(o.b)(function(e){return{employees:e.employees.employees}},function(e){return{updateEmployees:function(t){return e(L(t))}}})(Se),Oe=a(263),je={DATA_INPUT:0,RFID_WAIT:1,COMPLETE:2},Re=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onNameChange=function(e){a.setState({name:e.target.value})},a.onSurnameChange=function(e){a.setState({surname:e.target.value})},a.onPersonalCodeChange=function(e){a.setState({personalCode:e.target.value})},a.onFormSubmit=function(e){e.preventDefault(),e.stopPropagation();var t={name:a.state.name,surname:a.state.surname,personalCode:a.state.personalCode};a.state.registrationState===je.DATA_INPUT?(q(t).then(function(e){var t=e.data,n=null;t&&(a.setState({newEmployee:t}),n=setInterval(function(){W(t.id).then(function(e){null!==e.data.uid&&(clearInterval(n),a.setState({newEmployee:t,registrationState:je.COMPLETE}))})},1e3)),Z().then(function(e){a.props.updateEmployees(e.data)})}),a.setState({registrationState:je.RFID_WAIT})):a.state.registrationState===je.COMPLETE&&a.props.hideRegisterEmployee()},a.hideRegisterEmployeeAndDelete=function(){a.state.registrationState>=je.RFID_WAIT&&($(a.state.newEmployee.id),a.props.hideRegisterEmployee())},a.onExited=function(){a.setState({registrationState:je.DATA_INPUT,checkInterval:null,newEmployee:{},name:"",surname:"",personalCode:"",uid:""})},a.state={registrationState:je.DATA_INPUT,checkInterval:null,newEmployee:{},name:"",surname:"",personalCode:"",uid:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(le.a,{centered:!0,show:this.props.registerEmployee.show,onHide:function(){return e.props.hideRegisterEmployee()},onExit:this.deleteAndCancel,onExited:this.onExited},r.a.createElement(se.a,{onSubmit:this.onFormSubmit},r.a.createElement(le.a.Header,{closeButton:!0},r.a.createElement(le.a.Title,null,"Pievienot Darbinieku")),r.a.createElement(le.a.Body,null,r.a.createElement(se.a.Group,null,r.a.createElement(se.a.Label,null,"* V\u0101rds"),r.a.createElement(se.a.Control,{required:!0,disabled:this.state.registrationState!==je.DATA_INPUT,value:this.state.name,onChange:this.onNameChange})),r.a.createElement(se.a.Group,null,r.a.createElement(se.a.Label,null,"* Uzv\u0101rds"),r.a.createElement(se.a.Control,{required:!0,disabled:this.state.registrationState!==je.DATA_INPUT,value:this.state.surname,onChange:this.onSurnameChange})),r.a.createElement(se.a.Group,null,r.a.createElement(se.a.Label,null,"Personas Kods"),r.a.createElement(se.a.Control,{disabled:this.state.registrationState!==je.DATA_INPUT,value:this.state.personalCode,onChange:this.onPersonalCodeChange})),r.a.createElement(Oe.a,{variant:"primary",show:this.state.registrationState===je.RFID_WAIT,onClose:function(){return null}},"Nosken\u0113jiet v\u0113lamo RFID karti\u0146u!"),r.a.createElement(Oe.a,{variant:"success",show:this.state.registrationState===je.COMPLETE,onClose:function(){return null}},"Darbinieks veiksm\u012bgi pievienots darbinieku sarakstam!")),r.a.createElement(le.a.Footer,null,r.a.createElement(Le,{registrationState:this.state.registrationState,hideRegisterEmployee:this.props.hideRegisterEmployee,hideRegisterEmployeeAndDelete:this.hideRegisterEmployeeAndDelete}))))}}]),t}(r.a.Component);function Le(e){switch(e.registrationState){case je.DATA_INPUT:return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{variant:"secondary",onClick:function(){return e.hideRegisterEmployee()}},"Atcelt"),r.a.createElement(D.a,{type:"submit"},"T\u0101l\u0101k"));case je.RFID_WAIT:return r.a.createElement(D.a,{variant:"secondary",onClick:function(){return e.hideRegisterEmployeeAndDelete()}},"Atcelt");case je.COMPLETE:return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{variant:"success",type:"submit"},"Pabeigt"));default:return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{variant:"secondary",onClick:function(){return e.hideRegisterEmployee()}},"Atcelt"),r.a.createElement(D.a,{type:"submit"},"T\u0101l\u0101k"))}}var Te=Object(o.b)(function(e){return{employees:e.employees.employees,registerEmployee:e.employees.registerEmployee}},function(e){return{updateEmployees:function(t){return e(L(t))},showRegisterEmployee:function(){return e(M())},hideRegisterEmployee:function(){return e(B())}}})(Re),Ue=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).getDateTime=function(){var t=new Date,a=t.getFullYear().toString()+". gada "+t.getDate().toString()+". "+["Janv\u0101ris","Febru\u0101ris","Marts","Apr\u012blis","Maijs","J\u016bnijs","J\u016blijs","Augusts","Septembris","Oktobris","Novembris","Decembris"][t.getMonth()].toLocaleLowerCase(),n=" "+te(t.getHours())+":"+te(t.getMinutes());e.setState({currentDate:a,currentTime:n})},e.state={currentDate:null,currentTime:null},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getDateTime(),setInterval(function(){e.getDateTime()},1e3)}},{key:"render",value:function(){return r.a.createElement(g.a,null,r.a.createElement(y.a,null,this.state.currentDate,this.state.currentTime))}}]),t}(r.a.Component),Pe=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,null,r.a.createElement(y.a,null,"404"))}}]),t}(r.a.Component),Ne=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(le.a,{centered:!0,show:this.props.deleteEmployee.show,onHide:function(){return e.props.hideDeleteEmployee()}},r.a.createElement(le.a.Header,{closeButton:!0},r.a.createElement(le.a.Title,null,this.props.deleteEmployee.employee.name+" "+this.props.deleteEmployee.employee.surname)),r.a.createElement(le.a.Body,null,"Vai esiet p\u0101rliecin\u0101ts ka v\u0113laties dz\u0113st \u0161o darbinieku?"),r.a.createElement(le.a.Footer,null,r.a.createElement(D.a,{variant:"secondary",onClick:function(){return e.props.hideDeleteEmployee()}},"Atcelt"),r.a.createElement(D.a,{variant:"danger",onClick:function(){$(e.props.deleteEmployee.employee.id).then(function(){ee()}),e.props.hideDeleteEmployee()}},"Dz\u0113st")))}}]),t}(r.a.Component);var Me=Object(o.b)(function(e){return{deleteEmployee:e.employees.deleteEmployee}},function(e){return{showDeleteEmployee:function(){return e(T())},hideDeleteEmployee:function(){return e(U())}}})(Ne),Be=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onNameChange=function(e){a.setState({employee:Object(Y.a)({},a.state.employee,{name:e.target.value})})},a.onSurnameChange=function(e){a.setState({employee:Object(Y.a)({},a.state.employee,{surname:e.target.value})})},a.onPersonalCodeChange=function(e){a.setState({employee:Object(Y.a)({},a.state.employee,{personalCode:e.target.value})})},a.onEnter=function(){a.setState({employee:Object(Y.a)({},a.props.editEmployee.employee,{name:a.props.editEmployee.employee.name,surname:a.props.editEmployee.employee.surname,personalCode:a.props.editEmployee.employee.personalCode})})},a.state={employee:{name:"",surname:"",personalCode:""}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(le.a,{centered:!0,show:this.props.editEmployee.show,onHide:function(){return e.props.hideEditEmployee()},onEnter:function(){return e.onEnter()}},r.a.createElement(le.a.Header,{closeButton:!0},r.a.createElement(le.a.Title,null,this.props.editEmployee.employee.name+" "+this.props.editEmployee.employee.surname)),r.a.createElement(le.a.Body,null,r.a.createElement(se.a.Group,null,r.a.createElement(se.a.Label,null,"V\u0101rds"),r.a.createElement(se.a.Control,{required:!0,value:this.state.employee.name,onChange:this.onNameChange})),r.a.createElement(se.a.Group,null,r.a.createElement(se.a.Label,null,"Uzv\u0101rds"),r.a.createElement(se.a.Control,{required:!0,value:this.state.employee.surname,onChange:this.onSurnameChange})),r.a.createElement(se.a.Group,null,r.a.createElement(se.a.Label,null,"Personas Kods"),r.a.createElement(se.a.Control,{value:this.state.employee.personalCode,onChange:this.onPersonalCodeChange}))),r.a.createElement(le.a.Footer,null,r.a.createElement(D.a,{variant:"secondary",onClick:function(){return e.props.hideEditEmployee()}},"Atcelt"),r.a.createElement(D.a,{variant:"success",onClick:function(){var t;(t=e.state.employee,J.a.post(V+"editEmployee",{employee:t})).then(function(){ee()}),e.props.hideEditEmployee()}},"Redi\u0123\u0113t")))}}]),t}(r.a.Component);var xe=Object(o.b)(function(e){return{editEmployee:e.employees.editEmployee}},function(e){return{showEditEmployee:function(){return e(P())},hideEditEmployee:function(){return e(N())}}})(Be),Je=a(140),Ge=a.n(Je),Qe=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,null,r.a.createElement(A.a,{className:"container"},r.a.createElement(g.a,null,r.a.createElement(y.a,null,r.a.createElement(f.a,{bg:"dark",variant:"dark",fixed:"top",expand:"md"},r.a.createElement(f.a.Brand,null,r.a.createElement("img",{src:Ge.a,alt:"",width:"30",height:"30",className:"d-inline-block align-top"})," V\u0100RPAS 1"),r.a.createElement(f.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(f.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(b.a,{className:"mr-auto"},r.a.createElement(v.LinkContainer,{exact:!0,to:"/"},r.a.createElement(b.a.Link,null,"Darbinieki")),r.a.createElement(b.a.Link,{onClick:this.props.showRegisterEmployee},"Re\u0123istr\u0101cija")),r.a.createElement(f.a.Text,null,r.a.createElement(Ue,null)))))),r.a.createElement(g.a,null,r.a.createElement(y.a,null,r.a.createElement(d.a,null,r.a.createElement(h.a,{exact:!0,path:"/",component:ke}),r.a.createElement(h.a,{component:Pe})),r.a.createElement(Te,null),r.a.createElement(Me,null),r.a.createElement(xe,null))),r.a.createElement(g.a,null,r.a.createElement(y.a,{className:"footer"},"V\u0101rpas 1 \xa9 2019"))))}}]),t}(r.a.Component);var Ye=Object(o.b)(function(e){return{}},function(e){return{showRegisterEmployee:function(){return e(M())}}})(Qe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(o.a,{store:z},r.a.createElement(Ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},60:function(e,t,a){}},[[142,2,1]]]);
//# sourceMappingURL=main.8ddb8e10.chunk.js.map