(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,t,a){e.exports=a(247)},143:function(e,t,a){},211:function(e,t,a){},247:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),l=a(20),s=a.n(l),i=(a(143),a(10)),c=a(11),u=a(13),m=a(12),d=a(14),p=a(79),h=a(114),E=a(66),g=a(255),f=a(256),y=a(250),v=a(219),b=a(260),w=a(259),k=a(121),C=a(244),D=a(253),O=a(245),I=a(257),S=a(123),j=a.n(S),T=a(124),L=a.n(T),_=a(125),N=a.n(_),A=function(e){return{type:"UPDATE_EMPLOYEES",payload:e}},M=function(e){return{type:"SHOW_DELETE_EMPLOYEE",payload:e}},P=function(){return{type:"HIDE_DELETE_EMPLOYEE"}},x=function(e){return{type:"SHOW_EDIT_EMPLOYEE",payload:e}},F=function(){return{type:"HIDE_EDIT_EMPLOYEE"}},R=function(){return{type:"SHOW_REGISTER_EMPLOYEE"}},H=function(){return{type:"HIDE_REGISTER_EMPLOYEE"}},W=a(40),z=a(132),U=a(16),G={employees:[],deleteEmployee:{show:!1,employee:{}},editEmployee:{show:!1,employee:{}},registerEmployee:{show:!1}},B=Object(W.b)({employees:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_EMPLOYEES":return Object(U.a)({},e,{employees:Object(z.a)(t.payload)});case"SHOW_DELETE_EMPLOYEE":return Object(U.a)({},e,{deleteEmployee:Object(U.a)({},e.deleteEmployee,{show:!0,employee:t.payload})});case"HIDE_DELETE_EMPLOYEE":return Object(U.a)({},e,{deleteEmployee:Object(U.a)({},e.deleteEmployee,{show:!1,employee:{}})});case"SHOW_EDIT_EMPLOYEE":return Object(U.a)({},e,{editEmployee:Object(U.a)({},e.editEmployee,{show:!0,employee:t.payload})});case"HIDE_EDIT_EMPLOYEE":return Object(U.a)({},e,{editEmployee:Object(U.a)({},e.editEmployee,{show:!1,employee:{}})});case"SHOW_REGISTER_EMPLOYEE":return Object(U.a)({},e,{registerEmployee:Object(U.a)({},e.registerEmployee,{show:!0})});case"HIDE_REGISTER_EMPLOYEE":return Object(U.a)({},e,{registerEmployee:Object(U.a)({},e.registerEmployee,{show:!1})});default:return e}}});var Y=Object(W.c)(B,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),K=a(126),V=a.n(K).a.create({baseURL:"http://192.168.1.150:8080",withCredentials:!0}),q=function(){return V.post("/getEmployees")},X=function(e){return V.post("/getEmployee",{id:e})},J=function(e){return V.post("/getEmployeeWorkLog",{id:e})},$=function(e,t,a){return V.post("/getEmployeeWorkLogFromTo",{id:e,from:t,to:a})},Q=function(e){return V.post("/addEmployee",e)},Z=function(e,t){return V.post("/setEmployeeWorking",{id:e,working:t})},ee=function(e){return V.post("/deleteEmployee",{id:e})},te=function(){return V.get("/export",{responseType:"blob"})},ae=function(){q().then(function(e){Y.dispatch(A(e.data))})},ne=function(e){return e<10&&(e="0"+e),e},re=function(e){var t=Math.floor(e/1e3),a=Math.floor(t/60),n=Math.floor(a/60);return{seconds:t=t-60*n*60-60*(a-=60*n),minutes:a,hours:n}},oe=(a(56),a(209),a(211),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-box"},r.a.createElement("div",{className:"container-box-header"},this.props.header),r.a.createElement("div",{className:"container-box-body"},this.props.children))}}]),t}(r.a.Component));var le=Object(o.b)(function(e){return{}},function(e){return{}})(oe),se=a(258),ie=a(251),ce=a(248),ue=a(252),me=a(119),de=(a(217),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(I.a.Control,{onClick:this.props.onClick,onChange:this.props.onChange,placeholder:this.props.value,value:this.props.value})}}]),t}(r.a.Component)),pe=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).fetchWorkLog=function(){var e=a.props.userId;X(a.props.userId).then(function(t){a.props.userId===e&&a.setState({employee:t.data})}),J(a.props.userId).then(function(t){a.props.userId===e&&a.setState({workLog:t.data})}),a.setState({updateInterval:setInterval(function(){X(a.props.userId).then(function(t){a.props.userId===e&&a.setState({employee:t.data})}),J(a.props.userId).then(function(t){a.props.userId===e&&a.setState({workLog:t.data})})},5e3)})},a.onModalHide=function(){clearInterval(a.state.updateInterval),a.setState({employee:{name:"Iel\u0101d\u0113...",surname:" "},workLog:[]})},a.handleDateChangeStart=function(e){var t=new Date(e);t.setHours(0,0,0),a.setState({startDate:t})},a.handleDateChangeEnd=function(e){var t=new Date(e);t.setHours(23,59,59),a.setState({endDate:t})},a.onClickFilter=function(e){switch(e){case 0:a.handleDateChangeStart(new Date),a.handleDateChangeEnd(new Date);break;case 1:var t=new Date;t.setDate(t.getDate()-1),a.handleDateChangeStart(t),a.handleDateChangeEnd(t);break;case 2:var n=new Date;n.setDate(n.getDate()-7),a.handleDateChangeStart(n),a.handleDateChangeEnd(new Date);break;case 3:var r=new Date;r.setDate(r.getDate()-30),a.handleDateChangeStart(r),a.handleDateChangeEnd(new Date);break;default:a.handleDateChangeStart(new Date),a.handleDateChangeEnd(new Date)}a.setState({dropdown:Object(U.a)({},a.state.dropdown,{currentFilter:a.state.dropdown.filters[e]})})};var n=new Date;n.setHours(0,0,0);var r=new Date;return r.setHours(23,59,59),a.state={employee:{name:"Iel\u0101d\u0113...",surname:" "},workLog:[],results:0,updateInterval:null,startDate:n,endDate:r,dropdown:{currentFilter:"\u0160odiena",filters:["\u0160odiena","Vakardiena","P\u0113d\u0113j\u0101s 7 dienas","P\u0113d\u0113j\u0101s 30 dienas"]}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.userId!==e.userId&&null!==this.props.userId&&this.fetchWorkLog()}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.updateInterval)}},{key:"render",value:function(){var e=this,t=0,a=this.state.workLog.filter(function(a){var n=new Date(a.start_time);return!(n<e.state.startDate||n>e.state.endDate)&&(t++,!0)}).map(function(e,t){var a=null===e.end_time,n=new Date(e.start_time),o=a?new Date:new Date(e.end_time),l=ne(n.getDate())+"."+ne(n.getMonth()+1)+"."+ne(n.getFullYear())+" "+ne(n.getHours())+":"+ne(n.getMinutes()),s=a?" - ":ne(o.getDate())+"."+ne(o.getMonth()+1)+"."+ne(o.getFullYear())+" "+ne(o.getHours())+":"+ne(o.getMinutes()),i=re(o-n),c=+i.hours+" st. "+i.minutes+" min. ";return r.a.createElement("tr",{key:t,style:a?{backgroundColor:"#ffffe6"}:null},r.a.createElement("td",null,l),r.a.createElement("td",null,s),r.a.createElement("td",null,c))});return r.a.createElement(se.a,{show:this.props.showWorkLogModal,onHide:function(){return e.props.handleWorkLogClose()},onExited:function(){return e.onModalHide()},size:"lg"},r.a.createElement(se.a.Header,{closeButton:!0},r.a.createElement(se.a.Title,null,this.state.employee.name+" "+this.state.employee.surname)),r.a.createElement(se.a.Body,null,r.a.createElement(I.a,null,r.a.createElement(y.a,null,r.a.createElement(v.a,{sm:4},r.a.createElement(I.a.Group,{as:y.a},r.a.createElement(I.a.Label,{column:!0,sm:2},"No"),r.a.createElement(v.a,{sm:10},r.a.createElement(me.a,{dateFormat:"yyyy/MM/dd",customInput:r.a.createElement(de,null),selected:this.state.startDate,onChange:this.handleDateChangeStart,maxDate:new Date})))),r.a.createElement(v.a,{sm:4},r.a.createElement(I.a.Group,{as:y.a},r.a.createElement(I.a.Label,{column:!0,sm:2},"L\u012bdz"),r.a.createElement(v.a,{sm:10},r.a.createElement(me.a,{dateFormat:"yyyy/MM/dd",customInput:r.a.createElement(de,null),selected:this.state.endDate,onChange:this.handleDateChangeEnd,maxDate:new Date})))),r.a.createElement(v.a,{sm:4},r.a.createElement(ie.a,{variant:"secondary",title:this.state.dropdown.currentFilter,className:"text-right"},this.state.dropdown.filters.map(function(t,a){return r.a.createElement(ce.a.Item,{key:a,onClick:function(){return e.onClickFilter(a)}},t)}))))),this.state.workLog.length&&t?r.a.createElement(ue.a,{hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ATSKAITE S\u0100KTA"),r.a.createElement("th",null,"ATSKAITE BEIGTA"),r.a.createElement("th",null,"NOSTR\u0100D\u0100TS"))),r.a.createElement("tbody",null,a)):r.a.createElement("div",{className:"text-center"},"Netika atrasts neviens ieraksts...")))}}]),t}(r.a.Component);var he=Object(o.b)(function(e){return{}},function(e){return{}})(pe),Ee=a(22),ge=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(C.a,{variant:"link",onClick:this.props.onClick},r.a.createElement(Ee.h,null))}}]),t}(r.a.Component);var fe=Object(o.b)(function(e){return{deleteEmployee:e.employees.deleteEmployee}},function(e){return{showDeleteEmployee:function(t){return e(M(t))},hideDeleteEmployee:function(){return e(P())},showEditEmployee:function(t){return e(x(t))},hideEditEmployee:function(){return e(F())}}})(function(e){return r.a.createElement(ce.a,{alignRight:!0},r.a.createElement(ce.a.Toggle,{as:ge,id:"dropdown-custom-components"}),r.a.createElement(ce.a.Menu,null,r.a.createElement(ce.a.Item,{eventKey:"1"},r.a.createElement(C.a,{variant:"link",size:"sm",onClick:function(){return Z(e.employee.id,!e.employee.working).then(function(){ae()})}},e.employee.working?r.a.createElement(Ee.m,{className:"mr-2 mb-1"}):r.a.createElement(Ee.k,{className:"mr-2 mb-1"}),"Atz\u012bm\u0113t k\u0101 ",e.employee.working?"izg\u0101ju\u0161u":"ien\u0101ku\u0161u")),r.a.createElement(ce.a.Item,{eventKey:"2"},r.a.createElement(C.a,{variant:"link",size:"sm",onClick:function(){return e.showEditEmployee(e.employee)}},r.a.createElement("span",null,r.a.createElement(Ee.d,{className:"mr-2 mb-1"}),"Redi\u0123\u0113t"))),r.a.createElement(ce.a.Item,{eventKey:"3"},r.a.createElement(C.a,{variant:"link",size:"sm",onClick:function(){return(t=e.employee.id,a=!e.employee.archived,V.post("/setArchivedEmployee",{id:t,archived:a})).then(function(){ae()});var t,a}},r.a.createElement(Ee.a,{height:"100%",width:"auto",className:"mr-2 mb-1"}),e.employee.archived?"Iz\u0146emt no arh\u012bva":"Arhiv\u0113t")),r.a.createElement(ce.a.Item,{eventKey:"4"},r.a.createElement(C.a,{variant:"link",size:"sm",onClick:function(){return(t=e.employee.id,a=!e.employee.active,V.post("/setActiveEmployee",{id:t,active:a})).then(function(){ae()});var t,a}},e.employee.active?r.a.createElement(Ee.n,{height:"100%",width:"auto",className:"mr-2 mb-1"}):r.a.createElement(Ee.b,{height:"100%",width:"auto",className:"mr-2 mb-1"}),e.employee.active?"Deaktiviz\u0113t":"Aktiviz\u0113t")),r.a.createElement(ce.a.Item,{eventKey:"5"},r.a.createElement(C.a,{variant:"link",size:"sm",onClick:function(){return e.showDeleteEmployee(e.employee)}},r.a.createElement(Ee.i,{height:"100%",width:"auto",className:"mr-2 mb-1"}),"Dz\u0113st"))))}),ye=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).onTableChange=function(){e.formatTable(function(){e.applyNameFilter()})},e.applyNameFilter=function(){var t=e.state.tableData.filter(function(t){return t.name.toString().toLowerCase().indexOf(e.state.nameFilter.toLowerCase())>-1});e.setState({tableData:t})},e.formatTable=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return null},a=e.props.employees.filter(function(t){return!(t.archived&&!e.state.showArchive)&&!(!t.active&&!e.state.showInactive)}),n=new Date;n.setHours(0,0,0);var r=new Date;r.setHours(23,59,59);var o=a.map(function(e){return $(e.id,n,r).then(function(t){return{id:e.id,name:e.name+" "+e.surname,personalCode:e.personalCode,status:{time:new Date,lastWorkStart:new Date(e.last_work_start),lastWorkEnd:new Date(e.last_work_end),working:e.working,workLogs:t.data},commands:e}})});Promise.all(o).then(function(a){e.setState({tableData:a},function(){t()})})},e.showWorkLog=function(t){e.setState({workLogUserId:t,showWorkLogModal:!0})},e.handleWorkLogClose=function(){e.setState({showWorkLogModal:!1,workLogUserId:null})},e.onToggleArchive=function(){e.setState({showArchive:!e.state.showArchive})},e.onToggleInactive=function(){e.setState({showInactive:!e.state.showInactive})},e.onToggleFilters=function(){e.setState({showFilters:!e.state.showFilters})},e.onChangeNameFilter=function(t){e.setState({nameFilter:t.target.value})},e.exportExcel=function(){te().then(function(e){var t=e.headers["content-type"];N()(e.data,"Varpas 1.xlsx",t)})},e.state={workLogUserId:null,showWorkLogModal:!1,updateInterval:null,tableData:[],filter:{type:"",filters:""},showFilters:!1,showArchive:!1,showInactive:!0,nameFilter:""},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){ae(),this.setState({updateInterval:setInterval(function(){ae()},1e3)})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.updateInterval)}},{key:"componentDidUpdate",value:function(e,t){e.employees===this.props.employees&&t.showArchive===this.state.showArchive&&t.showInactive===this.state.showInactive&&t.nameFilter===this.state.nameFilter||this.onTableChange()}},{key:"render",value:function(){var e=this,t=[{dataField:"id",text:"#",sort:!0,classes:"align-middle"},{dataField:"name",text:"V\u0101rds",sort:!0,classes:"align-middle",formatter:function(t,a){return r.a.createElement("div",null,r.a.createElement("nobr",null,r.a.createElement(Ee.j,null),r.a.createElement(C.a,{variant:"link",onClick:function(){return e.showWorkLog(a.id)}},t)))}},{dataField:"status",text:"\u0160odien",sort:!0,classes:"align-middle",formatter:function(e,t){var a=[],n=0,o={hours:0,minutes:0,seconds:0};return e.workLogs.forEach(function(t,l){null===t.end_time&&(t.end_time=new Date),n+=new Date(t.end_time)-new Date(t.start_time),o=re(n);var s=ne(new Date(t.start_time).getHours())+":"+ne(new Date(t.start_time).getMinutes()),i=ne(new Date(t.end_time).getHours())+":"+ne(new Date(t.end_time).getMinutes()),c=o.hours+" st. "+o.minutes+" min. ";a.push(r.a.createElement("div",{key:l},r.a.createElement(D.a,{style:{fontSize:"14px"},variant:e.working&&l===e.workLogs.length-1?"success":"info",className:"mr-2"},"Ien\u0101ca: ",s),e.working&&l===e.workLogs.length-1?null:r.a.createElement(D.a,{style:{fontSize:"14px"},variant:"info",className:"mr-2"},"Izg\u0101ja: ",i),r.a.createElement("br",null),l===e.workLogs.length-1&&null!==o?r.a.createElement(D.a,{style:{fontSize:"14px"},variant:"dark",className:"mr-2"},"Kop\u0101 nostr\u0101d\u0101ts: ",c):null))}),a}},{dataField:"commands",text:"",classes:"align-middle",formatter:function(e,t){return r.a.createElement(fe,{employee:e})}}],a=L()({page:1,alwaysShowAllBtns:!0,showTotal:!0,sizePerPage:10,paginationTotalRenderer:function(e,t,a){return 0===t?r.a.createElement("span",{className:"react-bootstrap-table-pagination-total"},"\xa0Netika atrasts neviens rezult\u0101ts"):r.a.createElement("span",{className:"react-bootstrap-table-pagination-total"},"\xa0R\u0101da ",t-e+1," no ",a," rezult\u0101tiem")},sizePerPageList:[{text:"10",value:10},{text:"25",value:25},{text:"50",value:50},{text:"100",value:100},{text:"Visi",value:this.state.tableData.length}]});return r.a.createElement(le,{header:"Darbinieku Saraksts"},r.a.createElement(y.a,null,r.a.createElement(v.a,{xs:8},r.a.createElement(C.a,{variant:"success",onClick:this.props.showRegisterEmployee,className:"mr-2"},r.a.createElement(Ee.l,{className:"mr-2 mb-1"}),"Pievienot darbinieku"),r.a.createElement(C.a,{variant:"info",onClick:this.exportExcel},r.a.createElement(Ee.c,{className:"mr-2 mb-1"}),"Eksport\u0113t Excel")),r.a.createElement(v.a,{xs:4},r.a.createElement(C.a,{variant:"link",onClick:this.onToggleFilters,className:"float-right"},this.state.showFilters?r.a.createElement(Ee.g,{className:"mr-2 mb-1"}):r.a.createElement(Ee.f,{className:"mr-2 mb-1"}),"Filtri"))),r.a.createElement(O.a,{in:this.state.showFilters,className:"w-75"},r.a.createElement(I.a,{className:"mt-2"},r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Check,{type:"checkbox",label:"R\u0101d\u012bt arh\u012bv\u0101 eso\u0161os darbiniekus",checked:this.state.showArchive,onChange:this.onToggleArchive})),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Check,{type:"checkbox",label:"R\u0101d\u012bt deaktiviz\u0113tus darbiniekus",checked:this.state.showInactive,onChange:this.onToggleInactive})),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Control,{placeholder:"V\u0101rds...",onChange:this.onChangeNameFilter,value:this.state.nameFilter}),r.a.createElement(I.a.Text,null,"Mekl\u0113t darbinieku p\u0113c v\u0101rda")))),r.a.createElement(j.a,{bootstrap4:!0,keyField:"id",data:this.state.tableData,columns:t,bordered:!1,hover:!0,defaultSorted:[{dataField:"id",order:"asc"}],remote:{filter:!0},onTableChange:this.onTableChange,pagination:a,rowStyle:function(e,t){return e.commands.active?e.commands.archived?{backgroundColor:"rgba(255, 255, 0, 0.1)"}:void 0:{backgroundColor:"rgba(255, 0, 0, 0.1)"}}}),r.a.createElement(he,{showWorkLogModal:this.state.showWorkLogModal,handleWorkLogClose:this.handleWorkLogClose,userId:this.state.workLogUserId}))}}]),t}(r.a.Component);var ve=Object(o.b)(function(e){return{employees:e.employees.employees}},function(e){return{updateEmployees:function(t){return e(A(t))},showRegisterEmployee:function(){return e(R())}}})(ye),be=a(254),we={DATA_INPUT:0,RFID_WAIT:1,COMPLETE:2},ke=!1,Ce=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onNameChange=function(e){a.setState({name:e.target.value})},a.onSurnameChange=function(e){a.setState({surname:e.target.value})},a.onPersonalCodeChange=function(e){a.setState({personalCode:e.target.value})},a.onFormSubmit=function(e){e.preventDefault(),e.stopPropagation();var t={name:a.state.name,surname:a.state.surname,personalCode:a.state.personalCode};a.state.registrationState===we.DATA_INPUT?(Q(t).then(function(e){var t=e.data,n=null;t&&(a.setState({newEmployee:t}),n=setInterval(function(){X(t.id).then(function(e){(null!==e.data.uid||ke)&&(clearInterval(n),a.setState({newEmployee:t,registrationState:we.COMPLETE}))})},1e3)),q().then(function(e){a.props.updateEmployees(e.data)})}),a.setState({registrationState:we.RFID_WAIT})):a.state.registrationState===we.COMPLETE&&a.props.hideRegisterEmployee()},a.hideRegisterEmployeeAndDelete=function(){a.state.registrationState>=we.RFID_WAIT&&(ee(a.state.newEmployee.id),a.props.hideRegisterEmployee())},a.onExited=function(){a.setState({registrationState:we.DATA_INPUT,checkInterval:null,newEmployee:{},name:"",surname:"",personalCode:"",uid:""})},a.state={registrationState:we.DATA_INPUT,checkInterval:null,newEmployee:{},name:"",surname:"",personalCode:"",uid:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(se.a,{centered:!0,show:this.props.registerEmployee.show,onHide:function(){return e.props.hideRegisterEmployee()},onExit:this.deleteAndCancel,onExited:this.onExited},r.a.createElement(I.a,{onSubmit:this.onFormSubmit},r.a.createElement(se.a.Header,{closeButton:!0},r.a.createElement(se.a.Title,null,"Pievienot Darbinieku")),r.a.createElement(se.a.Body,null,r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,null,"* V\u0101rds"),r.a.createElement(I.a.Control,{required:!0,disabled:this.state.registrationState!==we.DATA_INPUT,value:this.state.name,onChange:this.onNameChange})),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,null,"* Uzv\u0101rds"),r.a.createElement(I.a.Control,{required:!0,disabled:this.state.registrationState!==we.DATA_INPUT,value:this.state.surname,onChange:this.onSurnameChange})),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,null,"Personas Kods"),r.a.createElement(I.a.Control,{disabled:this.state.registrationState!==we.DATA_INPUT,value:this.state.personalCode,onChange:this.onPersonalCodeChange})),r.a.createElement(be.a,{variant:"primary",show:this.state.registrationState===we.RFID_WAIT,onClose:function(){return null}},"Nosken\u0113jiet v\u0113lamo RFID karti\u0146u!"),r.a.createElement(be.a,{variant:"success",show:this.state.registrationState===we.COMPLETE,onClose:function(){return null}},"Darbinieks veiksm\u012bgi pievienots darbinieku sarakstam!")),r.a.createElement(se.a.Footer,null,r.a.createElement(De,{registrationState:this.state.registrationState,hideRegisterEmployee:this.props.hideRegisterEmployee,hideRegisterEmployeeAndDelete:this.hideRegisterEmployeeAndDelete}))))}}]),t}(r.a.Component);function De(e){switch(e.registrationState){case we.DATA_INPUT:return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{variant:"secondary",onClick:function(){return e.hideRegisterEmployee()}},"Atcelt"),r.a.createElement(C.a,{type:"submit"},"T\u0101l\u0101k"));case we.RFID_WAIT:return r.a.createElement(C.a,{variant:"secondary",onClick:function(){return e.hideRegisterEmployeeAndDelete()}},"Atcelt");case we.COMPLETE:return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{variant:"success",type:"submit"},"Pabeigt"));default:return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{variant:"secondary",onClick:function(){return e.hideRegisterEmployee()}},"Atcelt"),r.a.createElement(C.a,{type:"submit"},"T\u0101l\u0101k"))}}var Oe=Object(o.b)(function(e){return{employees:e.employees.employees,registerEmployee:e.employees.registerEmployee}},function(e){return{updateEmployees:function(t){return e(A(t))},showRegisterEmployee:function(){return e(R())},hideRegisterEmployee:function(){return e(H())}}})(Ce),Ie=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(y.a,null,r.a.createElement(v.a,null,"404"))}}]),t}(r.a.Component),Se=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(se.a,{centered:!0,show:this.props.deleteEmployee.show,onHide:function(){return e.props.hideDeleteEmployee()}},r.a.createElement(se.a.Header,{closeButton:!0},r.a.createElement(se.a.Title,null,this.props.deleteEmployee.employee.name+" "+this.props.deleteEmployee.employee.surname)),r.a.createElement(se.a.Body,null,"Vai esiet p\u0101rliecin\u0101ts ka v\u0113laties dz\u0113st \u0161o darbinieku?"),r.a.createElement(se.a.Footer,null,r.a.createElement(C.a,{variant:"secondary",onClick:function(){return e.props.hideDeleteEmployee()}},"Atcelt"),r.a.createElement(C.a,{variant:"danger",onClick:function(){ee(e.props.deleteEmployee.employee.id).then(function(){ae()}),e.props.hideDeleteEmployee()}},"Dz\u0113st")))}}]),t}(r.a.Component);var je=Object(o.b)(function(e){return{deleteEmployee:e.employees.deleteEmployee}},function(e){return{showDeleteEmployee:function(){return e(M())},hideDeleteEmployee:function(){return e(P())}}})(Se),Te=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onNameChange=function(e){a.setState({employee:Object(U.a)({},a.state.employee,{name:e.target.value})})},a.onSurnameChange=function(e){a.setState({employee:Object(U.a)({},a.state.employee,{surname:e.target.value})})},a.onPersonalCodeChange=function(e){a.setState({employee:Object(U.a)({},a.state.employee,{personalCode:e.target.value})})},a.onEnter=function(){a.setState({employee:Object(U.a)({},a.props.editEmployee.employee,{name:a.props.editEmployee.employee.name,surname:a.props.editEmployee.employee.surname,personalCode:a.props.editEmployee.employee.personalCode})})},a.state={employee:{name:"",surname:"",personalCode:""}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(se.a,{centered:!0,show:this.props.editEmployee.show,onHide:function(){return e.props.hideEditEmployee()},onEnter:function(){return e.onEnter()}},r.a.createElement(se.a.Header,{closeButton:!0},r.a.createElement(se.a.Title,null,this.props.editEmployee.employee.name+" "+this.props.editEmployee.employee.surname)),r.a.createElement(se.a.Body,null,r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,null,"V\u0101rds"),r.a.createElement(I.a.Control,{required:!0,value:this.state.employee.name,onChange:this.onNameChange})),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,null,"Uzv\u0101rds"),r.a.createElement(I.a.Control,{required:!0,value:this.state.employee.surname,onChange:this.onSurnameChange})),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,null,"Personas Kods"),r.a.createElement(I.a.Control,{value:this.state.employee.personalCode,onChange:this.onPersonalCodeChange}))),r.a.createElement(se.a.Footer,null,r.a.createElement(C.a,{variant:"secondary",onClick:function(){return e.props.hideEditEmployee()}},"Atcelt"),r.a.createElement(C.a,{variant:"success",onClick:function(){var t;(t=e.state.employee,V.post("/editEmployee",{employee:t})).then(function(){ae()}),e.props.hideEditEmployee()}},"Redi\u0123\u0113t")))}}]),t}(r.a.Component);var Le=Object(o.b)(function(e){return{editEmployee:e.employees.editEmployee}},function(e){return{showEditEmployee:function(){return e(x())},hideEditEmployee:function(){return e(F())}}})(Te),_e=a(133),Ne=a(64),Ae=a.n(Ne),Me=function(e,t,a){return V.post("/authenticate",{username:e,password:t,rememberMe:a})},Pe=function(){return V.post("/logOut")},xe=function(e){function t(){var e;Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).onUsernameChange=function(t){e.setState({username:t.target.value})},e.onPasswordChange=function(t){e.setState({password:t.target.value})},e.onRememberMeChange=function(){e.setState({rememberMe:!e.state.rememberMe})},e.logIn=function(t){t.preventDefault(),Me(e.state.username,e.state.password,e.state.rememberMe).then(function(t){t.data?window.location.reload():e.setState({authenticationError:!0})})};new _e.a;return e.state={username:"",password:"",rememberMe:!0,authenticationError:!1},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement(se.a,{centered:!0,show:!0,onHide:function(){return null}},r.a.createElement(I.a,{onSubmit:function(t){return e.logIn(t)}},r.a.createElement(se.a.Header,{className:"justify-content-center"},r.a.createElement(se.a.Title,null,r.a.createElement("img",{src:Ae.a,alt:"",width:"auto",height:"40px",className:"d-inline-block align-top mr-2",style:{filter:"invert(100%)"}}),"Autentifik\u0101cija")),r.a.createElement(se.a.Body,null,r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,null,"Lietot\u0101jv\u0101rds"),r.a.createElement(I.a.Control,{required:!0,value:this.state.username,onChange:this.onUsernameChange,name:"username"})),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,null,"Parole"),r.a.createElement(I.a.Control,{required:!0,value:this.state.password,onChange:this.onPasswordChange,name:"password",type:"password"})),r.a.createElement(I.a.Group,{controlId:"formBasicChecbox"},r.a.createElement(I.a.Check,{type:"checkbox",label:"Atcer\u0113ties mani",name:"rememberMe",checked:this.state.rememberMe,onChange:this.onRememberMeChange})),r.a.createElement(be.a,{variant:"danger",show:this.state.authenticationError,onClose:function(){return null}},"Nepareizs lietot\u0101jv\u0101rds un/vai parole.")),r.a.createElement(se.a.Footer,null,r.a.createElement(C.a,{variant:"success",type:"submit"},"Ielogoties"))))}}]),t}(r.a.Component);var Fe=Object(o.b)(function(e){return{}},function(e){return{}})(xe),Re=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).logOut=function(){Pe(),window.location.reload()},e.state={loading:!0,authenticated:!1,user:{username:""}},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;V.post("/checkSession").then(function(t){e.setState({loading:!1,authenticated:t.data})}).then(function(){V.post("/getUserByKey").then(function(t){e.setState({user:t.data})})})}},{key:"render",value:function(){return this.state.loading?r.a.createElement("div",{className:"text-center"},r.a.createElement(g.a,{animation:"border"})):this.state.authenticated?r.a.createElement(p.a,null,r.a.createElement(f.a,{className:"container"},r.a.createElement(y.a,null,r.a.createElement(v.a,null,r.a.createElement(b.a,{bg:"dark",variant:"dark",fixed:"top",expand:"md"},r.a.createElement(b.a.Brand,null,r.a.createElement("img",{src:Ae.a,alt:"",width:"30",height:"30",className:"d-inline-block align-top"})," V\u0100RPAS 1"),r.a.createElement(b.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(b.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(w.a,{className:"mr-auto"},r.a.createElement(k.LinkContainer,{exact:!0,to:"/"},r.a.createElement(w.a.Link,null,"Darbinieki"))),r.a.createElement(w.a,null,r.a.createElement(b.a.Text,{className:"ml-md-4"},r.a.createElement("u",null,this.state.user.username)),r.a.createElement(w.a.Link,{className:"ml-md-2",onClick:this.logOut},"Iziet",r.a.createElement(Ee.e,{className:"ml-1"}))))))),r.a.createElement(y.a,null,r.a.createElement(v.a,null,r.a.createElement(h.a,null,r.a.createElement(E.a,{exact:!0,path:"/",component:ve}),r.a.createElement(E.a,{component:Ie})),r.a.createElement(Oe,null),r.a.createElement(je,null),r.a.createElement(Le,null))),r.a.createElement(y.a,null,r.a.createElement(v.a,{className:"footer"},"V\u0101rpas 1 \xa9 2019")))):r.a.createElement(Fe,null)}}]),t}(r.a.Component);var He=Object(o.b)(function(e){return{}},function(e){return{}})(Re);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(o.a,{store:Y},r.a.createElement(He,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},56:function(e,t,a){},64:function(e,t,a){e.exports=a.p+"static/media/logo.96ebfbf9.png"}},[[134,2,1]]]);
//# sourceMappingURL=main.be17b957.chunk.js.map