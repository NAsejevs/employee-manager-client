{"version":3,"sources":["utils/config.js","components/ContainerBox.js","actions/employeeActions.js","actions/actionTypes.js","store/initialState.js","reducers/index.js","reducers/employeeReducer.js","store/store.js","utils/employeeUtils.js","components/Commands.js","utils/commonUtils.js","components/Employees.js","components/BoostrapDatePicker.js","components/Report.js","components/RegisterEmployee.js","components/NotFound.js","components/ViewEmployee.js","components/DeleteEmployee.js","components/EditEmployee.js","components/ExportExcel.js","utils/userUtils.js","components/LogIn.js","components/CheckCard.js","components/CommentEmployee.js","components/App.js","serviceWorker.js","index.js","images/logo.png"],"names":["production","serverURL","employeeUpdateInterval","workLogUpdateInterval","request","axios","create","baseURL","withCredentials","ContainerBox","props","react_default","a","createElement","className","header","children","showEmployeeWorkLog","employee","type","payload","hideEmployeeWorkLog","showDeleteEmployee","hideDeleteEmployee","showEditEmployee","hideEditEmployee","showRegisterEmployee","hideRegisterEmployee","showExportExcel","hideExportExcel","showCheckCard","hideCheckCard","showCommentEmployee","hideCommentEmployee","initialState","employees","employeeWorkLog","show","id","deleteEmployee","editEmployee","registerEmployee","exportExcel","checkCard","commentEmployee","rootReducer","combineReducers","state","arguments","length","undefined","action","Object","objectSpread","toConsumableArray","map","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","storeUpdateEmployees","getServerEmployees","then","res","dispatch","data","storeUpdateEmployee","getServerEmployee","post","getServerEmployeeWorkLog","order","getServerEmployeeWorkLogFromTo","from","to","deleteServerWorkLog","working","employeeId","editServerWorkLog","startDate","endDate","addServerEmployee","deleteServerEmployee","exportServerEmployees","settings","get","responseType","getEmployeeComments","cardScanned","uid","admin","getEmployeeByUID","setEmployeeUID","removeEmployeeUID","awaitCard","CommandButton","forwardRef","ref","Button","variant","onClick","fi","connect","Row","Col","xs","Dropdown","Toggle","as","Menu","flip","alignRight","Item","eventKey","archived","height","width","active","OverlayTrigger","placement","overlay","Tooltip","pingServer","addZero","i","millisecondConverter","ms","seconds","Math","floor","minutes","hours","convertSpecialCharacters","string","special","normal","output","letter","toUpperCase","charAt","indexOf","Employees","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onTableChange","formatTable","applyNameFilter","applyPositionFilter","applyCompanyFilter","callback","result","tableData","filter","row","name","surname","toString","toLowerCase","nameFilter","setState","company","companyFilter","position","positionFilter","showArchive","showInactive","showNotWorking","showWorking","workLogFrom","Date","setHours","workLogTo","promise","workLogs","comments","today","commands","Promise","all","onToggleArchive","onToggleInactive","onToggleShowWorking","onToggleShowNotWorking","onToggleFilters","showFilters","onChangeNameFilter","e","target","value","onChangePositionFilter","onChangeCompanyFilter","clearAllFilters","workLogUserId","showWorkLogModal","filters","prevProps","prevState","_this2","companyFormatter","cell","style","maxWidth","columns","dataField","text","sort","classes","headerClasses","sortFunc","b","formatter","commentBorderStyle","borderBottom","comment","index","key","size","commentId","Badge","fontSize","color","trigger","rootClose","Popover","aData","start_time","end_time","bData","badges","totalWorkTime","totalWorkTimeConverted","forEach","workLog","workTime","workTimeConverted","workTimeStartFormatted","getHours","getMinutes","workTimeEndFormatted","workTimeFormatted","push","totalWorkTimeFormatted","borderTop","components_Commands","pagination","paginationFactory","page","alwaysShowAllBtns","showTotal","sizePerPage","paginationTotalRenderer","sizePerPageList","components_ContainerBox","Collapse","in","Form","Group","Check","label","checked","onChange","Control","placeholder","Text","react_bootstrap_table_next_lib_default","bootstrap4","keyField","bordered","hover","defaultSorted","remote","rowStyle","backgroundColor","React","Component","BoostrapDatePicker","react_datepicker_es","assign","customInput","locale","en","handleDateChangeStart","date","startOfDay","handleDateChangeEnd","endOfDay","onClickFilter","yesterday","setDate","getDate","last7Days","last30Days","dropdown","currentFilter","startDateFormatted","getMonth","getFullYear","endDateFormatted","displayOneDay","Label","column","components_BoostrapDatePicker","dateFormat","selected","maxDate","minDate","DropdownButton","title","REGISTER_STATE","DATA_INPUT","RFID_WAIT","COMPLETE","RegisterEmployee","onNameChange","event","onSurnameChange","onCompanyChange","onPositionChange","onNumberChange","number","onPersonalCodeChange","personalCode","onAddCardChange","addCard","onFormSubmit","preventDefault","stopPropagation","registrationState","hideRegisterEmployeeAndDelete","newEmployee","onExited","checkInterval","Modal","onHide","onExit","deleteAndCancel","onSubmit","Header","closeButton","Title","Body","required","disabled","controlId","Alert","onClose","Footer","Buttons","Fragment","NotFound","ViewEmployee","fetchWorkLog","updateInterval","setInterval","onModalHide","clearInterval","editWorkLog","deleteWorkLog","confirmEditWorkLog","cancelEditWorkLog","onStartDateChange","onEndDateChange","results","filterResults","lastStartDate","totalDayWorkTime","totalDays","workLogFiltered","log","startTimePure","stillWorking","endTimePure","startTimeFormatted","endTimeFormatted","employee_id","workRow","timeIntervals","showTimeSelect","timeFormat","dateRow","totalDayRow","totalRow","dateFormatted","nextStartDate","totalDayWorkTimeConverted","totalDayWorkTimeFormatted","fromDateFormatted","toDateFormatted","colSpan","Table","DeleteEmployee","CHANGE_CARD_STATE","OFF","DELETED","EditEmployee","onEnter","console","changeCard","status","uid_added","deleteCard","uidAddedDate","uidAdded","ExportExcel","handleDateChange","month","onToggleIncludeNoHours","includeNoHours","onToggleIncludeInactive","includeInactive","onToggleIncludeArchived","includeArchived","onEmployeeCheck","newList","employeeList","onCheckAll","checkAll","export","response","content","headers","download","showMonthYearPicker","checkSession","authenticate","username","password","rememberMe","logOut","getUserByKey","DEBUG","LogIn","onUsernameChange","onPasswordChange","onRememberMeChange","logIn","location","reload","authenticationError","centered","src","logo","alt","CheckCard","res2","hideModal","notFound","onEntered","CommentEmployee","onCommentChange","onExpiryDateChange","expires","onManualDeleteChange","manualDelete","rows","App","establishConnection","serverConnectionEstablished","server","scannerConnectionEstablished","scanner","pingInterval","loading","authenticated","onAuthentification","user","scanCard","Spinner","animation","BrowserRouter","Container","fluid","Navbar","bg","fixed","expand","Brand","aria-controls","Nav","lib","exact","Link","Switch","Route","path","component","Report","components_ViewEmployee","components_RegisterEmployee","components_DeleteEmployee","components_EditEmployee","components_ExportExcel","components_CheckCard","components_CommentEmployee","components_LogIn","Boolean","hostname","match","ReactDOM","render","es","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.d42c0c41.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const production = true;\r\n\r\nexport const serverURL = production\r\n\t? \"http://192.168.1.150:8080\"\r\n\t: \"http://localhost:8080\";\r\nexport const employeeUpdateInterval = 5000;\r\nexport const workLogUpdateInterval = 5000;\r\n\r\nexport const request = axios.create({\r\n\tbaseURL: serverURL,\r\n\twithCredentials: true,\r\n});\r\n","import React from \"react\";\r\n\r\nconst ContainerBox = (props) => {\r\n\treturn (\r\n\t\t<div className=\"container-box\">\r\n\t\t\t<div className=\"container-box-header\">\r\n\t\t\t\t{props.header}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"container-box-body\">\r\n\t\t\t\t{props.children}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ContainerBox;\r\n","import { \r\n\tUPDATE_EMPLOYEES,\r\n\tUPDATE_EMPLOYEE,\r\n\tSHOW_DELETE_EMPLOYEE, \r\n\tHIDE_DELETE_EMPLOYEE, \r\n\tSHOW_EDIT_EMPLOYEE, \r\n\tHIDE_EDIT_EMPLOYEE,\r\n\tSHOW_REGISTER_EMPLOYEE,\r\n\tHIDE_REGISTER_EMPLOYEE,\r\n\tSHOW_EXPORT_EXCEL,\r\n\tHIDE_EXPORT_EXCEL,\r\n\tSHOW_CHECK_CARD,\r\n\tHIDE_CHECK_CARD,\r\n\tSHOW_EMPLOYEE_WORK_LOG,\r\n\tHIDE_EMPLOYEE_WORK_LOG,\r\n\tSHOW_COMMENT_EMPLOYEE,\r\n\tHIDE_COMMENT_EMPLOYEE,\r\n} from \"./actionTypes\";\r\n\r\nexport const updateEmployees = (employees) => {\r\n\treturn {\r\n\t\ttype: UPDATE_EMPLOYEES,\r\n\t\tpayload: employees,\r\n\t}\r\n}\r\n\r\nexport const updateEmployee = (employee) => {\r\n\treturn {\r\n\t\ttype: UPDATE_EMPLOYEE,\r\n\t\tpayload: employee,\r\n\t}\r\n}\r\n\r\nexport const showEmployeeWorkLog = (employee) => {\r\n\treturn {\r\n\t\ttype: SHOW_EMPLOYEE_WORK_LOG,\r\n\t\tpayload: employee,\r\n\t}\r\n}\r\n\r\nexport const hideEmployeeWorkLog = () => {\r\n\treturn {\r\n\t\ttype: HIDE_EMPLOYEE_WORK_LOG,\r\n\t}\r\n}\r\n\r\nexport const showDeleteEmployee = (employee) => {\r\n\treturn {\r\n\t\ttype: SHOW_DELETE_EMPLOYEE,\r\n\t\tpayload: employee,\r\n\t}\r\n}\r\n\r\nexport const hideDeleteEmployee = () => {\r\n\treturn {\r\n\t\ttype: HIDE_DELETE_EMPLOYEE,\r\n\t}\r\n}\r\n\r\nexport const showEditEmployee = (employee) => {\r\n\treturn {\r\n\t\ttype: SHOW_EDIT_EMPLOYEE,\r\n\t\tpayload: employee,\r\n\t}\r\n}\r\n\r\nexport const hideEditEmployee = () => {\r\n\treturn {\r\n\t\ttype: HIDE_EDIT_EMPLOYEE,\r\n\t}\r\n}\r\n\r\nexport const showRegisterEmployee = () => {\r\n\treturn {\r\n\t\ttype: SHOW_REGISTER_EMPLOYEE,\r\n\t}\r\n}\r\n\r\nexport const hideRegisterEmployee = () => {\r\n\treturn {\r\n\t\ttype: HIDE_REGISTER_EMPLOYEE,\r\n\t}\r\n}\r\n\r\nexport const showExportExcel = () => {\r\n\treturn {\r\n\t\ttype: SHOW_EXPORT_EXCEL,\r\n\t}\r\n}\r\n\r\nexport const hideExportExcel = () => {\r\n\treturn {\r\n\t\ttype: HIDE_EXPORT_EXCEL,\r\n\t}\r\n}\r\n\r\nexport const showCheckCard = () => {\r\n\treturn {\r\n\t\ttype: SHOW_CHECK_CARD,\r\n\t}\r\n}\r\n\r\nexport const hideCheckCard = () => {\r\n\treturn {\r\n\t\ttype: HIDE_CHECK_CARD,\r\n\t}\r\n}\r\n\r\nexport const showCommentEmployee = (employee) => {\r\n\treturn {\r\n\t\ttype: SHOW_COMMENT_EMPLOYEE,\r\n\t\tpayload: employee,\r\n\t}\r\n}\r\n\r\nexport const hideCommentEmployee = () => {\r\n\treturn {\r\n\t\ttype: HIDE_COMMENT_EMPLOYEE,\r\n\t}\r\n}","export const UPDATE_EMPLOYEES = \"UPDATE_EMPLOYEES\";\r\nexport const UPDATE_EMPLOYEE = \"UPDATE_EMPLOYEE\";\r\n\r\nexport const SHOW_EMPLOYEE_WORK_LOG = \"SHOW_EMPLOYEE_WORK_LOG\";\r\nexport const HIDE_EMPLOYEE_WORK_LOG = \"HIDE_EMPLOYEE_WORK_LOG\";\r\n\r\nexport const SHOW_DELETE_EMPLOYEE = \"SHOW_DELETE_EMPLOYEE\";\r\nexport const HIDE_DELETE_EMPLOYEE = \"HIDE_DELETE_EMPLOYEE\";\r\n\r\nexport const SHOW_EDIT_EMPLOYEE = \"SHOW_EDIT_EMPLOYEE\";\r\nexport const HIDE_EDIT_EMPLOYEE = \"HIDE_EDIT_EMPLOYEE\";\r\n\r\nexport const SHOW_REGISTER_EMPLOYEE = \"SHOW_REGISTER_EMPLOYEE\";\r\nexport const HIDE_REGISTER_EMPLOYEE = \"HIDE_REGISTER_EMPLOYEE\";\r\n\r\nexport const SHOW_EXPORT_EXCEL = \"SHOW_EXPORT_EXCEL\";\r\nexport const HIDE_EXPORT_EXCEL = \"HIDE_EXPORT_EXCEL\";\r\n\r\nexport const SHOW_CHECK_CARD = \"SHOW_CHECK_CARD\";\r\nexport const HIDE_CHECK_CARD = \"HIDE_CHECK_CARD\";\r\n\r\nexport const SHOW_COMMENT_EMPLOYEE = \"SHOW_COMMENT_EMPLOYEE\";\r\nexport const HIDE_COMMENT_EMPLOYEE = \"HIDE_COMMENT_EMPLOYEE\";","const initialState = {\r\n\temployees: [],\r\n\temployeeWorkLog: {\r\n\t\tshow: false,\r\n\t\tid: null,\r\n\t},\r\n\tdeleteEmployee: {\r\n\t\tshow: false,\r\n\t\temployee: {},\r\n\t},\r\n\teditEmployee: {\r\n\t\tshow: false,\r\n\t\temployee: {},\r\n\t},\r\n\tregisterEmployee: {\r\n\t\tshow: false,\r\n\t},\r\n\texportExcel: {\r\n\t\tshow: false,\r\n\t},\r\n\tcheckCard: {\r\n\t\tshow: false,\r\n\t},\r\n\tcommentEmployee: {\r\n\t\tshow: false,\r\n\t\temployee: {},\r\n\t},\r\n};\r\n\r\nexport default initialState;","import { combineReducers } from 'redux';\r\n\r\nimport { employees } from './employeeReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n\temployees: employees,\r\n});\r\n\r\nexport default rootReducer;","import initialState from \"../store/initialState\";\r\n\r\nimport { \r\n\tUPDATE_EMPLOYEES,\r\n\tUPDATE_EMPLOYEE,\r\n\tSHOW_DELETE_EMPLOYEE, \r\n\tHIDE_DELETE_EMPLOYEE, \r\n\tSHOW_EDIT_EMPLOYEE, \r\n\tHIDE_EDIT_EMPLOYEE,\r\n\tSHOW_REGISTER_EMPLOYEE,\r\n\tHIDE_REGISTER_EMPLOYEE,\r\n\tSHOW_EXPORT_EXCEL,\r\n\tHIDE_EXPORT_EXCEL,\r\n\tSHOW_CHECK_CARD,\r\n\tHIDE_CHECK_CARD,\r\n\tSHOW_EMPLOYEE_WORK_LOG,\r\n\tHIDE_EMPLOYEE_WORK_LOG,\r\n\tSHOW_COMMENT_EMPLOYEE,\r\n\tHIDE_COMMENT_EMPLOYEE,\r\n} from '../actions/actionTypes';\r\n\r\nexport const employees = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_EMPLOYEES:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\temployees: [...action.payload],\r\n\t\t\t}\r\n\t\tcase UPDATE_EMPLOYEE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\temployees: state.employees.map((employee) => {\r\n\t\t\t\t\treturn employee.id === action.payload.id\r\n\t\t\t\t\t? action.payload\r\n\t\t\t\t\t: employee\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SHOW_EMPLOYEE_WORK_LOG:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\temployeeWorkLog: {\r\n\t\t\t\t\t...state.employeeWorkLog,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\tid: action.payload,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_EMPLOYEE_WORK_LOG:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\temployeeWorkLog: {\r\n\t\t\t\t\t...state.employeeWorkLog,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\tid: null,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_DELETE_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdeleteEmployee: {\r\n\t\t\t\t\t...state.deleteEmployee,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\temployee: action.payload,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_DELETE_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdeleteEmployee: {\r\n\t\t\t\t\t...state.deleteEmployee,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\temployee: {},\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_EDIT_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditEmployee: {\r\n\t\t\t\t\t...state.editEmployee,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\temployee: action.payload,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_EDIT_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditEmployee: {\r\n\t\t\t\t\t...state.editEmployee,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\temployee: {},\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_REGISTER_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tregisterEmployee: {\r\n\t\t\t\t\t...state.registerEmployee,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_REGISTER_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tregisterEmployee: {\r\n\t\t\t\t\t...state.registerEmployee,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_EXPORT_EXCEL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\texportExcel: {\r\n\t\t\t\t\t...state.exportExcel,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_EXPORT_EXCEL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\texportExcel: {\r\n\t\t\t\t\t...state.exportExcel,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_CHECK_CARD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcheckCard: {\r\n\t\t\t\t\t...state.checkCard,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_CHECK_CARD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcheckCard: {\r\n\t\t\t\t\t...state.checkCard,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_COMMENT_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcommentEmployee: {\r\n\t\t\t\t\t...state.commentEmployee,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\temployee: action.payload,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_COMMENT_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcommentEmployee: {\r\n\t\t\t\t\t...state.commentEmployee,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\temployee: {},\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}","import { createStore } from \"redux\";\r\nimport rootReducer from \"../reducers\";\r\n\r\nconst store = configureStore();\r\n\r\nfunction configureStore() {\r\n\treturn createStore(\r\n\t\trootReducer,\r\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\r\n\t);\r\n}\r\n\r\nexport default store;","import { request } from \"./config\";\r\nimport store from \"../store/store\";\r\nimport { updateEmployees, updateEmployee } from \"../actions/employeeActions\";\r\n\r\nexport const storeUpdateEmployees = () => {\r\n\treturn getServerEmployees().then((res) => {\r\n\t\tstore.dispatch(updateEmployees(res.data));\r\n\t});\r\n}\r\n\r\nexport const storeUpdateEmployee = (id) => {\r\n\treturn getServerEmployee(id).then((res) => {\r\n\t\tstore.dispatch(updateEmployee(res.data));\r\n\t});\r\n}\r\n\r\n// ------------ Server requests ------------\r\nexport const getServerEmployees = () => {\r\n\treturn request.post(\"/getEmployees\");\r\n}\r\n\r\nexport const getServerEmployee = (id) => {\r\n\treturn request.post(\"/getEmployee\", { \r\n\t\tid \r\n\t});\r\n}\r\n\r\nexport const getServerEmployeeWorkLog = (id, order = \"DESC\") => {\r\n\treturn request.post(\"/getEmployeeWorkLog\", { \r\n\t\tid,\r\n\t\torder\r\n\t});\r\n}\r\n\r\nexport const getServerEmployeeWorkLogFromTo = (id, from, to) => {\r\n\treturn request.post(\"/getEmployeeWorkLogFromTo\", { \r\n\t\tid,\r\n\t\tfrom,\r\n\t\tto\r\n\t});\r\n}\r\n\r\nexport const deleteServerWorkLog = (id, working, employeeId) => {\r\n\treturn request.post(\"/deleteWorkLog\", { \r\n\t\tid,\r\n\t\tworking,\r\n\t\temployeeId,\r\n\t});\r\n}\r\n\r\nexport const editServerWorkLog = (id, startDate, endDate, working) => {\r\n\treturn request.post(\"/editWorkLog\", { \r\n\t\tid,\r\n\t\tstartDate,\r\n\t\tendDate,\r\n\t\tworking,\r\n\t});\r\n}\r\n\r\nexport const addServerEmployee = (employee) => {\r\n\treturn request.post(\"/addEmployee\", {\r\n\t\temployee\r\n\t});\r\n}\r\n\r\nexport const setServerEmployeeWorking = (id, working) => {\r\n\treturn request.post(\"/setEmployeeWorking\", {\r\n\t\tid, \r\n\t\tworking\r\n\t});\r\n}\r\n\r\nexport const setServerEmployeeArchived = (id, archived) => {\r\n\treturn request.post(\"/setArchivedEmployee\", {\r\n\t\tid, \r\n\t\tarchived\r\n\t});\r\n}\r\n\r\nexport const setServerEmployeeActive = (id, active) => {\r\n\treturn request.post(\"/setActiveEmployee\", {\r\n\t\tid, \r\n\t\tactive\r\n\t});\r\n}\r\n\r\nexport const deleteServerEmployee = (id) => {\r\n\treturn request.post(\"/deleteEmployee\", {\r\n\t\tid\r\n\t});\r\n}\r\n\r\nexport const editServerEmployee = (employee) => {\r\n\treturn request.post(\"/editEmployee\", {\r\n\t\temployee\r\n\t});\r\n}\r\n\r\nexport const exportServerEmployees = (settings) => {\r\n\treturn request.post(\"/export\", {\r\n\t\tsettings\r\n\t}).then(() => {\r\n\t\treturn request.get(\"/export\", {\r\n\t\t\tresponseType: \"blob\"\r\n\t\t})\r\n\t});\r\n}\r\n\r\nexport const addEmployeeComment = (employee, comment) => {\r\n\treturn request.post(\"/addEmployeeComment\", {\r\n\t\temployee,\r\n\t\tcomment,\r\n\t});\r\n}\r\n\r\nexport const getEmployeeComments = (id) => {\r\n\treturn request.post(\"/getEmployeeComments\", {\r\n\t\tid,\r\n\t});\r\n}\r\n\r\nexport const deleteEmployeeComment = (commentId) => {\r\n\treturn request.post(\"/deleteEmployeeComment\", {\r\n\t\tcommentId,\r\n\t});\r\n}\r\n\r\n// ------------ Card manipulation ------------\r\n\r\nexport const cardScanned = (uid) => {\r\n\treturn request.post(\"/cardScanned\", { \r\n\t\tuid: uid,\r\n\t\tadmin: 1,\r\n\t});\r\n}\r\n\r\nexport const getEmployeeByUID = (uid) => {\r\n\treturn request.post(\"/getEmployeeByUID\", {\r\n\t\tuid,\r\n\t});\r\n}\r\n\r\nexport const setEmployeeUID = (uid, id) => {\r\n\treturn request.post(\"/setEmployeeUID\", {\r\n\t\tuid,\r\n\t\tid\r\n\t});\r\n}\r\n\r\nexport const removeEmployeeUID = (id) => {\r\n\treturn request.post(\"/removeEmployeeUID\", {\r\n\t\tid\r\n\t});\r\n}\r\n\r\nexport const awaitCard = () => {\r\n\treturn request.post(\"/awaitCard\");\r\n}\r\n","import React, { forwardRef } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Button, Dropdown, Row, Col, Tooltip, OverlayTrigger} from \"react-bootstrap\";\r\n\r\nimport { \r\n\tshowDeleteEmployee,\r\n\tshowEditEmployee,\r\n\tshowCommentEmployee,\r\n} from \"../actions/employeeActions\";\r\n\r\nimport { \r\n\tsetServerEmployeeWorking, \r\n\tsetServerEmployeeArchived, \r\n\tsetServerEmployeeActive,\r\n\tstoreUpdateEmployee\r\n} from \"../utils/employeeUtils\";\r\n\r\nimport { FiMoreHorizontal, FiTrash, FiEdit,FiArchive, FiX,FiCheck } from \"react-icons/fi\";\r\n\r\nconst CommandButton = forwardRef((props, ref) => {\r\n\treturn <Button ref={ref} variant=\"link\" onClick={props.onClick}>\r\n\t\t<FiMoreHorizontal/>\r\n\t</Button>\r\n});\r\n\r\nconst Commands = (props) => {\r\n\treturn (\r\n\t\t<Row className=\"justify-content-end\">\r\n\t\t\t<Col xs=\"auto\" className=\"d-inline-block\">\r\n\t\t\t\t<Dropdown>\r\n\t\t\t\t\t<Dropdown.Toggle as={CommandButton}/>\r\n\t\t\t\t\t<Dropdown.Menu flip={true} alignRight={true}>\r\n\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\teventKey=\"1\"\r\n\t\t\t\t\t\t\tonClick={() => props.showEditEmployee(props.employee)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FiEdit className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\tRediģēt\r\n\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\teventKey=\"2\"\r\n\t\t\t\t\t\t\tonClick={() => setServerEmployeeArchived(props.employee.id, !props.employee.archived).then(() => {\r\n\t\t\t\t\t\t\t\tstoreUpdateEmployee(props.employee.id);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FiArchive height=\"100%\" width=\"auto\" className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\t{ props.employee.archived ? \"Izņemt no arhīva\" : \"Arhivēt\" }\r\n\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\teventKey=\"3\"\r\n\t\t\t\t\t\t\tonClick={() => setServerEmployeeActive(props.employee.id, !props.employee.active).then(() => {\r\n\t\t\t\t\t\t\t\tstoreUpdateEmployee(props.employee.id);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\t\tprops.employee.active \r\n\t\t\t\t\t\t\t\t? <FiX height=\"100%\" width=\"auto\" className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\t\t: <FiCheck height=\"100%\" width=\"auto\" className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\t\tprops.employee.active \r\n\t\t\t\t\t\t\t\t? \"Deaktivizēt\" \r\n\t\t\t\t\t\t\t\t: \"Aktivizēt\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\teventKey=\"4\"\r\n\t\t\t\t\t\t\tonClick={() => props.showDeleteEmployee(props.employee)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FiTrash height=\"100%\" width=\"auto\" className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\tDzēst\r\n\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\teventKey=\"5\"\r\n\t\t\t\t\t\t\tonClick={() => props.showCommentEmployee(props.employee)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FiEdit className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\tPievienot Komentāru\r\n\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t</Dropdown>\r\n\t\t\t</Col>\r\n\t\t\t<Col xs=\"auto\" className=\"d-inline-block\">\r\n\t\t\t\t<OverlayTrigger\r\n\t\t\t\t\tplacement={\"top\"}\r\n\t\t\t\t\toverlay={\r\n\t\t\t\t\t\t<Tooltip>\r\n\t\t\t\t\t\t\tAtzīmēt kā {props.employee.working ? \"izgājušu\" : \"ienākušu\"}\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={() => setServerEmployeeWorking(props.employee.id, !props.employee.working).then(() => {\r\n\t\t\t\t\t\t\tstoreUpdateEmployee(props.employee.id);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\tvariant={props.employee.working ? \"danger\" : \"success\"}\r\n\t\t\t\t\t>\r\n\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tprops.employee.working \r\n\t\t\t\t\t\t\t? <FiX/>\r\n\t\t\t\t\t\t\t: <FiCheck/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</OverlayTrigger>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n};\r\n\r\nfunction mapStateToProps() {\r\n\treturn {};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowDeleteEmployee: (employee) => dispatch(showDeleteEmployee(employee)),\r\n\t\tshowEditEmployee: (employee) => dispatch(showEditEmployee(employee)),\r\n\t\tshowCommentEmployee: (employee) => dispatch(showCommentEmployee(employee)),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Commands);\r\n","import { request } from \"./config\";\r\n\r\nexport const pingServer = () => {\r\n\treturn request.post(\"/ping\");\r\n}\r\n\r\nexport const addZero = (i) => {\r\n\tif (i < 10) {\r\n\t\ti = \"0\" + i;\r\n\t}\r\n\treturn i;\r\n}\r\n\r\nexport const millisecondConverter = (ms) => {\r\n\tlet seconds = Math.floor(ms/1000);\r\n\tlet minutes = Math.floor(seconds/60);\r\n\tlet hours = Math.floor(minutes/60);\r\n\r\n\tminutes = minutes-(hours*60);\r\n\tseconds = seconds-(hours*60*60)-(minutes*60);\r\n\r\n\treturn {\r\n\t\tseconds,\r\n\t\tminutes,\r\n\t\thours\r\n\t}\r\n}\r\n\r\nexport const getMonthName = (month) => {\r\n\tconst months = [\r\n\t\t\"Janvāris\",\r\n\t\t\"Februāris\",\r\n\t\t\"Marts\",\r\n\t\t\"Aprīlis\",\r\n\t\t\"Maijs\",\r\n\t\t\"Jūnijs\",\r\n\t\t\"Jūlijs\",\r\n\t\t\"Augusts\",\r\n\t\t\"Septembris\",\r\n\t\t\"Oktobris\",\r\n\t\t\"Novembris\",\r\n\t\t\"Decembris\"\r\n\t];\r\n\r\n\treturn months[month];\r\n}\r\n\r\nexport const convertSpecialCharacters = (string) => {\r\n\tconst special = [\"Ā\", \"Č\", \"Ē\", \"Ģ\", \"Ī\", \"Ķ\", \"Ļ\", \"Ņ\", \"Š\", \"Ū\", \"Ž\"];\r\n\tconst normal = [\"A\", \"C\", \"E\", \"G\", \"I\", \"K\", \"L\", \"N\", \"S\", \"U\", \"Z\"];\r\n\r\n\tlet output = \"\";\r\n\tfor (let i = 0; i < string.length; i++) {\r\n\t\tconst letter = string.toUpperCase().charAt(i);\r\n\t\tif(special.indexOf(letter) !== -1) {\r\n\t\t\toutput += normal[special.indexOf(letter)]; \r\n\t\t} else {\r\n\t\t\toutput += letter;\r\n\t\t}\r\n\t}\r\n\treturn output;\r\n}\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\n\r\nimport { Badge, Form, Button, Collapse, Row, Col, Dropdown, OverlayTrigger, Popover } from \"react-bootstrap\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\r\n\r\nimport ContainerBox from \"./ContainerBox\";\r\nimport Commands from \"./Commands\";\r\n\r\nimport {\r\n\tshowRegisterEmployee,\r\n\tshowExportExcel,\r\n\tshowCheckCard,\r\n\tshowEmployeeWorkLog\r\n} from \"../actions/employeeActions\";\r\n\r\nimport {\r\n\tstoreUpdateEmployee,\r\n\tgetServerEmployeeWorkLogFromTo,\r\n\tgetEmployeeComments,\r\n\tdeleteEmployeeComment,\r\n} from \"../utils/employeeUtils\";\r\nimport { addZero, millisecondConverter, convertSpecialCharacters } from \"../utils/commonUtils\";\r\n\r\nimport { FiUser, FiMinimize2, FiMaximize2, FiMessageSquare, FiXCircle } from \"react-icons/fi\";\r\n\r\nclass Employees extends React.Component {\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\tworkLogUserId: null,\r\n\t\t\tshowWorkLogModal: false,\r\n\t\t\ttableData: [],\r\n\t\t\tfilter: {\r\n\t\t\t\ttype: \"\",\r\n\t\t\t\tfilters: \"\",\r\n\t\t\t},\r\n\t\t\tshowFilters: false,\r\n\t\t\tshowArchive: false,\r\n\t\t\tshowInactive: false,\r\n\t\t\tshowWorking: false,\r\n\t\t\tshowNotWorking: false,\r\n\t\t\tnameFilter: \"\",\r\n\t\t\tpositionFilter: \"\",\r\n\t\t\tcompanyFilter: \"\"\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.onTableChange();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif(prevProps.employees !== this.props.employees\r\n\t\t\t|| prevState.showArchive !== this.state.showArchive\r\n\t\t\t|| prevState.showInactive !== this.state.showInactive\r\n\t\t\t|| prevState.showWorking !== this.state.showWorking\r\n\t\t\t|| prevState.showNotWorking !== this.state.showNotWorking\r\n\t\t\t|| prevState.nameFilter !== this.state.nameFilter\r\n\t\t\t|| prevState.positionFilter !== this.state.positionFilter\r\n\t\t\t|| prevState.companyFilter !== this.state.companyFilter) {\r\n\t\t\tthis.onTableChange();\r\n\t\t}\r\n\t}\r\n\r\n\tonTableChange = () => {\r\n\t\tthis.formatTable(() => {\r\n\t\t\tthis.applyNameFilter(() => {\r\n\t\t\t\tthis.applyPositionFilter(() => {\r\n\t\t\t\t\tthis.applyCompanyFilter();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tapplyNameFilter = (callback = () => null) => {\r\n\t\tconst result = this.state.tableData.filter((row) => {\r\n\t\t\treturn (row.name.name + \" \" + row.name.surname).toString().toLowerCase().indexOf(this.state.nameFilter.toLowerCase()) > -1;\r\n\t\t});\r\n\r\n\t\tthis.setState({\r\n\t\t\ttableData: result\r\n\t\t}, callback);\r\n\t}\r\n\r\n\tapplyCompanyFilter = (callback = () => null) => {\r\n\t\tconst result = this.state.tableData.filter((row) => {\r\n\r\n\t\t\tconst company = row.company ? row.company : \"\";\r\n\r\n\t\t\treturn (company).toString().toLowerCase().indexOf(this.state.companyFilter.toLowerCase()) > -1;\r\n\t\t});\r\n\r\n\t\tthis.setState({\r\n\t\t\ttableData: result\r\n\t\t}, callback);\r\n\t}\r\n\r\n\tapplyPositionFilter = (callback = () => null) => {\r\n\t\tconst result = this.state.tableData.filter((row) => {\r\n\t\t\tconst position = row.position ? row.position : \"\";\r\n\r\n\t\t\treturn (position).toString().toLowerCase().indexOf(this.state.positionFilter.toLowerCase()) > -1;\r\n\t\t});\r\n\r\n\t\tthis.setState({\r\n\t\t\ttableData: result\r\n\t\t}, callback);\r\n\t}\r\n\r\n\tformatTable = (callback = () => null) => {\r\n\t\tconst employees = this.props.employees.filter((employee) => {\r\n\t\t\tif(employee.archived && !this.state.showArchive) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif(!employee.active && !this.state.showInactive) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif(employee.working && this.state.showNotWorking) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif(!employee.working && this.state.showWorking) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\r\n\t\tconst workLogFrom = new Date();\r\n\t\tworkLogFrom.setHours(0, 0, 0);\r\n\r\n\t\tconst workLogTo = new Date();\r\n\t\tworkLogTo.setHours(23, 59, 59);\r\n\r\n\t\tconst promise = employees.map((employee) => {\r\n\t\t\treturn getServerEmployeeWorkLogFromTo(employee.id, workLogFrom, workLogTo).then((workLogs) => {\r\n\t\t\t\treturn getEmployeeComments(employee.id).then((comments) => {\r\n\t\t\t\t\treturn({\r\n\t\t\t\t\t\tid: employee.id,\r\n\t\t\t\t\t\tposition: employee.position ? employee.position.toString() : null,\r\n\t\t\t\t\t\tcompany: employee.company ? employee.company.toString() : null,\r\n\t\t\t\t\t\tname: {\r\n\t\t\t\t\t\t\tid: employee.id,\r\n\t\t\t\t\t\t\tname: employee.name,\r\n\t\t\t\t\t\t\tsurname: employee.surname,\r\n\t\t\t\t\t\t\tworking: employee.working,\r\n\t\t\t\t\t\t\tcomments: comments.data,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttoday: {\r\n\t\t\t\t\t\t\tworking: employee.working,\r\n\t\t\t\t\t\t\tworkLogs: workLogs.data,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcommands: employee,\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tPromise.all(promise).then((res) => {\r\n\t\t\tthis.setState({ tableData: res,\r\n\t\t\t}, () => {\r\n\t\t\t\tcallback();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tonToggleArchive = () => {\r\n\t\tthis.setState({ showArchive: !this.state.showArchive });\r\n\t}\r\n\r\n\tonToggleInactive = () => {\r\n\t\tthis.setState({ showInactive: !this.state.showInactive });\r\n\t}\r\n\r\n\tonToggleShowWorking = () => {\r\n\t\tthis.setState({ showWorking: !this.state.showWorking });\r\n\t}\r\n\r\n\tonToggleShowNotWorking = () => {\r\n\t\tthis.setState({ showNotWorking: !this.state.showNotWorking });\r\n\t}\r\n\r\n\tonToggleFilters = () => {\r\n\t\tthis.setState({ showFilters: !this.state.showFilters });\r\n\t}\r\n\r\n\tonChangeNameFilter = (e) => {\r\n\t\tthis.setState({ nameFilter: e.target.value });\r\n\t}\r\n\r\n\tonChangePositionFilter = (e) => {\r\n\t\tthis.setState({ positionFilter: e.target.value });\r\n\t}\r\n\r\n\tonChangeCompanyFilter = (e) => {\r\n\t\tthis.setState({ companyFilter: e.target.value });\r\n\t}\r\n\r\n\tclearAllFilters = () => {\r\n\t\tconst startDate = new Date();\r\n\t\tstartDate.setHours(0,0,0);\r\n\r\n\t\tconst endDate = new Date();\r\n\t\tendDate.setHours(23,59,59);\r\n\r\n\t\tthis.setState({\r\n\t\t\tnameFilter: \"\",\r\n\t\t\tpositionFilter: \"\",\r\n\t\t\tcompanyFilter: \"\",\r\n\t\t\tshowArchive: false,\r\n\t\t\tshowInactive: false,\r\n\t\t\tstartDate: startDate,\r\n\t\t\tendDate: endDate,\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst nameFormatter = (cell, row) => {\r\n\t\t\tconst commentBorderStyle = {\r\n\t\t\t\tborderBottom: \"solid 1px gray\"\r\n\t\t\t}\r\n\r\n\t\t\tconst comments = cell.comments.length \r\n\t\t\t? cell.comments.map((comment, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Row \r\n\t\t\t\t\t\tkey={index} \r\n\t\t\t\t\t\tstyle={index < cell.comments.length - 1 ? commentBorderStyle : null} \r\n\t\t\t\t\t\tclassName=\"ml-1 mr-1 pt-1 pb-2\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Col className=\"align-self-center\">\r\n\t\t\t\t\t\t\t<span>{comment.text}</span>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs=\"auto\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tsize={\"sm\"}\r\n\t\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\t\tonClick={() => deleteEmployeeComment(comment.id).then(() => {\r\n\t\t\t\t\t\t\t\t\tstoreUpdateEmployee(cell.id);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FiXCircle className=\"mb-1\" />\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t\t: null;\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<nobr>\r\n\t\t\t\t\t\t<Badge \r\n\t\t\t\t\t\t\tstyle={{ fontSize: \"14px\" }}\r\n\t\t\t\t\t\t\tvariant={ cell.working ? \"success\" : \"danger\" }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FiUser/>\r\n\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\tvariant=\"link\" \r\n\t\t\t\t\t\t\tonClick={() => this.props.showEmployeeWorkLog(cell.id)}\r\n\t\t\t\t\t\t\tstyle={{ color: \"#0000FF\" }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{cell.surname + \" \" + cell.name}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcell.comments.length\r\n\t\t\t\t\t\t\t? \r\n\t\t\t\t\t\t\t<OverlayTrigger\r\n\t\t\t\t\t\t\t\ttrigger=\"click\"\r\n\t\t\t\t\t\t\t\trootClose\r\n\t\t\t\t\t\t\t\tplacement=\"bottom\"\r\n\t\t\t\t\t\t\t\toverlay={\r\n\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t{comments}\r\n\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tsize={\"sm\"}\r\n\t\t\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<FiMessageSquare/>\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t: \r\n\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</nobr>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\tconst companyFormatter = (cell, row) => {\r\n\t\t\treturn (\r\n\t\t\t\t<span className=\"d-none d-md-inline-block text-truncate\" style={{ maxWidth: \"14vw\" }}>\r\n\t\t\t\t\t{cell}\r\n\t\t\t\t</span>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tconst todayFormatter = (cell, row) => {\r\n\t\t\tlet badges = [];\r\n\t\t\tlet totalWorkTime = 0;\r\n\t\t\tlet totalWorkTimeConverted = {\r\n\t\t\t\thours: 0,\r\n\t\t\t\tminutes: 0,\r\n\t\t\t\tseconds: 0\r\n\t\t\t};\r\n\r\n\t\t\tcell.workLogs.forEach((workLog, index) => {\r\n\t\t\t\tlet workTime = 0;\r\n\t\t\t\tlet workTimeConverted = {\r\n\t\t\t\t\thours: 0,\r\n\t\t\t\t\tminutes: 0,\r\n\t\t\t\t\tseconds: 0\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif(workLog.end_time === null) {\r\n\t\t\t\t\tworkLog.end_time = new Date();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Calculate each row data\r\n\t\t\t\tworkTime = new Date(workLog.end_time) - new Date(workLog.start_time);\r\n\t\t\t\tworkTimeConverted = millisecondConverter(workTime);\r\n\r\n\t\t\t\tconst workTimeStartFormatted =\r\n\t\t\t\t\t  addZero(new Date(workLog.start_time).getHours()) + \":\" \r\n\t\t\t\t\t+ addZero(new Date(workLog.start_time).getMinutes());\r\n\t\t\t\t\r\n\t\t\t\tconst workTimeEndFormatted =\r\n\t\t\t\t\t  addZero(new Date(workLog.end_time).getHours()) + \":\" \r\n\t\t\t\t\t+ addZero(new Date(workLog.end_time).getMinutes());\r\n\t\r\n\t\t\t\tconst workTimeFormatted =\r\n\t\t\t\t\tworkTimeConverted.hours + \" st. \" \r\n\t\t\t\t\t+ workTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\t// Calculate the total\r\n\t\t\t\ttotalWorkTime += new Date(workLog.end_time) - new Date(workLog.start_time);\r\n\t\t\t\ttotalWorkTimeConverted = millisecondConverter(totalWorkTime);\r\n\r\n\t\t\t\t// Each work log entry formatted and applied in HTML format\r\n\t\t\t\tbadges.push(\r\n\t\t\t\t\t<Row key={index} style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t\t<Col xs={6}>\r\n\t\t\t\t\t\t\t<nobr>\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{workTimeStartFormatted}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tcell.working && index === cell.workLogs.length - 1\r\n\t\t\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t\t\t: <span>\r\n\t\t\t\t\t\t\t\t\t\t&#8594; {workTimeEndFormatted}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</nobr>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs={\"auto\"} className=\"text-center\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tworkTimeFormatted !== null\r\n\t\t\t\t\t\t\t\t? <span>\r\n\t\t\t\t\t\t\t\t\t{workTimeFormatted}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\t\t//Total row formatted\r\n\t\t\tif(badges.length) {\r\n\t\t\t\tconst totalWorkTimeFormatted =\r\n\t\t\t\ttotalWorkTimeConverted.hours + \" st. \" \r\n\t\t\t\t+ totalWorkTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\tbadges.push(\r\n\t\t\t\t\t<Row key={badges.length} style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t\t<Col xs={6}>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs={\"auto\"} className=\"text-center\" style={{ borderTop: \"solid 1px\" }}>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttotalWorkTimeFormatted !== null\r\n\t\t\t\t\t\t\t\t? <span>\r\n\t\t\t\t\t\t\t\t\t<b>{totalWorkTimeFormatted}</b>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn (badges);\r\n\t\t};\r\n\r\n\t\tconst commandFormatter = (cell, row) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Commands employee={cell}/>\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\tconst columns = [{\r\n\t\t\tdataField: \"id\",\r\n\t\t\ttext: \"#\",\r\n\t\t\tsort: true,\r\n\t\t\tclasses: \"align-middle d-none d-md-table-cell\",\r\n\t\t\theaderClasses: \"d-none d-md-table-cell\",\r\n\t\t\t// hidden: true,\r\n\t\t}, {\r\n\t\t\tdataField: \"name\",\r\n\t\t\ttext: \"Darbinieks\",\r\n\t\t\tsort: true,\r\n\t\t\tsortFunc: (a, b, order) => {\r\n\t\t\t\tif(convertSpecialCharacters(a.surname) < convertSpecialCharacters(b.surname)) {\r\n\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t} else if(convertSpecialCharacters(a.surname) > convertSpecialCharacters(b.surname)) {\r\n\t\t\t\t\treturn order === \"asc\" ? 1 : -1;\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\tformatter: nameFormatter,\r\n\t\t}, {\r\n\t\t\tdataField: \"company\",\r\n\t\t\ttext: \"Uzņēmums\",\r\n\t\t\tsort: true,\r\n\t\t\tclasses: \"align-middle d-none d-lg-table-cell\",\r\n\t\t\theaderClasses: \"d-none d-lg-table-cell\",\r\n\t\t\tformatter: companyFormatter\r\n\t\t}, {\r\n\t\t\tdataField: \"position\",\r\n\t\t\ttext: \"Amats\",\r\n\t\t\tsort: true,\r\n\t\t\tclasses: \"align-middle d-none d-lg-table-cell\",\r\n\t\t\theaderClasses: \"d-none d-lg-table-cell\",\r\n\t\t\tformatter: companyFormatter\r\n\t\t}, {\r\n\t\t\tdataField: \"today\",\r\n\t\t\ttext: \"Šodien\",\r\n\t\t\tsort: true,\r\n\t\t\tsortFunc: (a, b, order) => {\r\n\t\t\t\tif(a.workLogs.length && b.workLogs.length) {\r\n\t\t\t\t\tconst aData = a.working\r\n\t\t\t\t\t? new Date(a.workLogs[a.workLogs.length - 1].start_time)\r\n\t\t\t\t\t: new Date(a.workLogs[a.workLogs.length - 1].end_time);\r\n\r\n\t\t\t\t\tconst bData = b.working\r\n\t\t\t\t\t? new Date(b.workLogs[b.workLogs.length - 1].start_time)\r\n\t\t\t\t\t: new Date(b.workLogs[b.workLogs.length - 1].end_time);\r\n\r\n\t\t\t\t\tif(aData > bData) {\r\n\t\t\t\t\t\treturn order === \"asc\" ? 1 : -1;\r\n\t\t\t\t\t} else if(aData < bData) {\r\n\t\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If there are no work logs for today\r\n\t\t\t\tif(!a.workLogs.length) {\r\n\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\tformatter: todayFormatter\r\n\t\t}, {\r\n\t\t\tdataField: \"commands\",\r\n\t\t\ttext: \"\",\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\tformatter: commandFormatter\r\n\t\t}];\r\n\r\n\t\tconst defaultSorted = [{\r\n\t\t\tdataField: \"name\",\r\n\t\t\torder: \"asc\"\r\n\t\t}];\r\n\r\n\t\tconst paginationTotalRenderer = (from, to, size) => {\r\n\t\t\tif(to === 0) {\r\n\t\t\t\treturn(\r\n\t\t\t\t\t<span className=\"react-bootstrap-table-pagination-total\">\r\n\t\t\t\t\t\t&nbsp;Netika atrasts neviens rezultāts\r\n\t\t\t\t\t</span>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn(\r\n\t\t\t\t<span className=\"react-bootstrap-table-pagination-total\">\r\n\t\t\t\t\t&nbsp;Rāda { to-from+1 } no { size } rezultātiem\r\n\t\t\t\t</span>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tconst pagination = paginationFactory({\r\n\t\t\tpage: 1,\r\n\t\t\talwaysShowAllBtns: true,\r\n\t\t\tshowTotal: true,\r\n\t\t\tsizePerPage : 10,\r\n\t\t\tpaginationTotalRenderer: paginationTotalRenderer,\r\n\t\t\tsizePerPageList: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"10\",\r\n\t\t\t\t\tvalue: 10,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"25\",\r\n\t\t\t\t\tvalue: 25,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"50\",\r\n\t\t\t\t\tvalue: 50,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"100\",\r\n\t\t\t\t\tvalue: 100,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"Visi\",\r\n\t\t\t\t\tvalue: this.state.tableData.length,\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\r\n\t\tconst rowStyle = (row) => {\r\n\t\t\tif(!row.commands.active) {\r\n\t\t\t\treturn { backgroundColor: \"rgba(255, 0, 0, 0.1)\" };\r\n\t\t\t}\r\n\r\n\t\t\tif(row.commands.archived) {\r\n\t\t\t\treturn { backgroundColor: \"rgba(255, 255, 0, 0.1)\" };\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<ContainerBox header={\"Darbinieki\"}>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\tvariant=\"link\" \r\n\t\t\t\t\t\t\tonClick={this.onToggleFilters}\r\n\t\t\t\t\t\t\tclassName=\"float-left\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.showFilters\r\n\t\t\t\t\t\t\t\t? <FiMinimize2 className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\t\t: <FiMaximize2 className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tFiltri\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Dropdown alignRight className=\"float-right\">\r\n\t\t\t\t\t\t\t<Dropdown.Toggle variant=\"link\">\r\n\t\t\t\t\t\t\t\tOpcijas\r\n\t\t\t\t\t\t\t</Dropdown.Toggle>\r\n\r\n\t\t\t\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t<Dropdown.Item onClick={this.props.showRegisterEmployee}>Pievienot darbinieku</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t<Dropdown.Item onClick={this.props.showCheckCard}>Atrast darbinieku pēc kartes</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t<Dropdown.Item onClick={this.props.showExportExcel}>Eksports</Dropdown.Item>\r\n\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\r\n\t\t\t\t<Collapse in={this.state.showFilters}>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\tlabel=\"Rādīt arhīvā esošos darbiniekus\"\r\n\t\t\t\t\t\t\t\t\tchecked={this.state.showArchive}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onToggleArchive}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\tlabel=\"Rādīt deaktivizētus darbiniekus\"\r\n\t\t\t\t\t\t\t\t\tchecked={this.state.showInactive}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onToggleInactive}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\tlabel=\"Rādīt tikai ienākušos darbiniekus\"\r\n\t\t\t\t\t\t\t\t\tchecked={this.state.showWorking}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onToggleShowWorking}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\tlabel=\"Rādīt tikai izgājušos darbiniekus\"\r\n\t\t\t\t\t\t\t\t\tchecked={this.state.showNotWorking}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onToggleShowNotWorking}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Vārds...\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChangeNameFilter}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.nameFilter}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Form.Text>\r\n\t\t\t\t\t\t\t\t\tMeklēt darbinieku pēc vārda vai uzvārda\r\n\t\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Amats...\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChangePositionFilter}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.positionFilter}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Form.Text>\r\n\t\t\t\t\t\t\t\t\tMeklēt darbinieku pēc amata\r\n\t\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Uzņēmums...\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChangeCompanyFilter}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.companyFilter}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Form.Text>\r\n\t\t\t\t\t\t\t\t\tMeklēt darbinieku pēc uzņēmuma\r\n\t\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\tclassName=\"ml-2 float-right\"\r\n\t\t\t\t\t\t\t\tvariant=\"danger\"\r\n\t\t\t\t\t\t\t\tonClick={this.clearAllFilters}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tNotīrīt visus filtrus\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Collapse>\r\n\r\n\t\t\t\t<BootstrapTable \r\n\t\t\t\t\tbootstrap4={ true }\r\n\t\t\t\t\tkeyField=\"id\"\r\n\t\t\t\t\tdata={ this.state.tableData } \r\n\t\t\t\t\tcolumns={ columns } \r\n\t\t\t\t\tbordered={ false }\r\n\t\t\t\t\thover={ true }\r\n\t\t\t\t\tdefaultSorted={ defaultSorted }\r\n\t\t\t\t\tremote={ { filter: true } }\r\n\t\t\t\t\tonTableChange={ this.onTableChange }\r\n\t\t\t\t\tpagination={ pagination }\r\n\t\t\t\t\trowStyle={ rowStyle }\r\n\t\t\t\t/>\r\n\t\t\t</ContainerBox>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\temployees: state.employees.employees,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowRegisterEmployee: () => dispatch(showRegisterEmployee()),\r\n\t\tshowExportExcel: () => dispatch(showExportExcel()),\r\n\t\tshowCheckCard: () => dispatch(showCheckCard()),\r\n\t\tshowEmployeeWorkLog: (id) => dispatch(showEmployeeWorkLog(id))\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Employees);\r\n","import React from \"react\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport en from 'date-fns/locale/en-GB';\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\"\r\n\r\nconst BoostrapDatePicker = (props) => {\r\n    return (\r\n        <DatePicker\r\n            {...props}\r\n            className=\"text-center\"\r\n            customInput={<Form.Control/>}\r\n            locale={en}\r\n        />\r\n    );\r\n}\r\n\r\nexport default BoostrapDatePicker;\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\n\r\nimport { DropdownButton, Form, Button, Row, Col, Dropdown, Collapse } from \"react-bootstrap\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\r\nimport BoostrapDatePicker from \"./BoostrapDatePicker\";\r\n\r\nimport ContainerBox from \"./ContainerBox\";\r\n\r\nimport {\r\n\tshowEmployeeWorkLog\r\n} from \"../actions/employeeActions\";\r\n\r\nimport {\r\n\tgetServerEmployeeWorkLogFromTo,\r\n\tgetEmployeeComments,\r\n} from \"../utils/employeeUtils\";\r\nimport { addZero, millisecondConverter, convertSpecialCharacters } from \"../utils/commonUtils\";\r\n\r\nimport { FiMinimize2, FiMaximize2, FiUser } from \"react-icons/fi\";\r\n\r\nclass Employees extends React.Component {\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tconst startDate = new Date();\r\n\t\tstartDate.setHours(0,0,0);\r\n\r\n\t\tconst endDate = new Date();\r\n\t\tendDate.setHours(23,59,59);\r\n\r\n\t\tthis.state = {\r\n\t\t\tworkLogUserId: null,\r\n\t\t\tshowWorkLogModal: false,\r\n\t\t\ttableData: [],\r\n\t\t\tfilter: {\r\n\t\t\t\ttype: \"\",\r\n\t\t\t\tfilters: \"\",\r\n\t\t\t},\r\n\t\t\tshowFilters: false,\r\n\t\t\tshowArchive: false,\r\n\t\t\tshowInactive: false,\r\n\t\t\tnameFilter: \"\",\r\n\t\t\tpositionFilter: \"\",\r\n\t\t\tcompanyFilter: \"\",\r\n\t\t\tstartDate: startDate,\r\n\t\t\tendDate: endDate,\r\n\t\t\tdropdown: {\r\n\t\t\t\tcurrentFilter: \"Šodiena\",\r\n\t\t\t\tfilters: [\"Šodiena\", \"Vakardiena\", \"Pēdējās 7 dienas\", \"Pēdējās 30 dienas\"]\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.onTableChange();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif(prevProps.employees !== this.props.employees\r\n\t\t\t|| prevState.showArchive !== this.state.showArchive\r\n\t\t\t|| prevState.showInactive !== this.state.showInactive\r\n\t\t\t|| prevState.nameFilter !== this.state.nameFilter\r\n\t\t\t|| prevState.positionFilter !== this.state.positionFilter\r\n\t\t\t|| prevState.companyFilter !== this.state.companyFilter\r\n\t\t\t|| prevState.startDate !== this.state.startDate\r\n\t\t\t|| prevState.endDate !== this.state.endDate) {\r\n\t\t\tthis.onTableChange();\r\n\t\t}\r\n\t}\r\n\r\n\thandleDateChangeStart = (date) => {\r\n\t\tconst startOfDay = new Date(date);\r\n\t\tstartOfDay.setHours(0,0,0);\r\n\t\tthis.setState({\r\n\t\t\tstartDate: startOfDay,\r\n\t\t});\r\n\t}\r\n\r\n\thandleDateChangeEnd = (date) => {\r\n\t\tconst endOfDay = new Date(date);\r\n\t\tendOfDay.setHours(23,59,59);\r\n\t\tthis.setState({\r\n\t\t\tendDate: endOfDay,\r\n\t\t});\r\n\t}\r\n\r\n\tonClickFilter = (index) => {\r\n\t\tswitch(index) {\r\n\t\t\tcase 0: {\r\n\t\t\t\tthis.handleDateChangeStart(new Date());\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 1: {\r\n\t\t\t\tconst yesterday = new Date();\r\n\t\t\t\tyesterday.setDate(yesterday.getDate() - 1);\r\n\t\t\t\tthis.handleDateChangeStart(yesterday);\r\n\t\t\t\tthis.handleDateChangeEnd(yesterday);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 2: {\r\n\t\t\t\tconst last7Days = new Date();\r\n\t\t\t\tlast7Days.setDate(last7Days.getDate() - 7);\r\n\t\t\t\tthis.handleDateChangeStart(last7Days);\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 3: {\r\n\t\t\t\tconst last30Days = new Date();\r\n\t\t\t\tlast30Days.setDate(last30Days.getDate() - 30);\r\n\t\t\t\tthis.handleDateChangeStart(last30Days);\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdefault: {\r\n\t\t\t\tthis.handleDateChangeStart(new Date());\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tdropdown: {\r\n\t\t\t\t...this.state.dropdown,\r\n\t\t\t\tcurrentFilter: this.state.dropdown.filters[index],\r\n\t\t\t}\t\t\t\r\n\t\t})\r\n\t}\r\n\r\n\tonTableChange = () => {\r\n\t\tthis.formatTable(() => {\r\n\t\t\tthis.applyNameFilter(() => {\r\n\t\t\t\tthis.applyPositionFilter(() => {\r\n\t\t\t\t\tthis.applyCompanyFilter();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tapplyNameFilter = (callback = () => null) => {\r\n\t\tconst result = this.state.tableData.filter((row) => {\r\n\t\t\treturn (row.name.name + \" \" + row.name.surname).toString().toLowerCase().indexOf(this.state.nameFilter.toLowerCase()) > -1;\r\n\t\t});\r\n\r\n\t\tthis.setState({\r\n\t\t\ttableData: result\r\n\t\t}, callback);\r\n\t}\r\n\r\n\tapplyPositionFilter = (callback = () => null) => {\r\n\t\tconst result = this.state.tableData.filter((row) => {\r\n\t\t\tconst position = row.position ? row.position : \"\";\r\n\r\n\t\t\treturn (position).toString().toLowerCase().indexOf(this.state.positionFilter.toLowerCase()) > -1;\r\n\t\t});\r\n\r\n\t\tthis.setState({\r\n\t\t\ttableData: result\r\n\t\t}, callback);\r\n\t}\r\n\r\n\tapplyCompanyFilter = (callback = () => null) => {\r\n\t\tconst result = this.state.tableData.filter((row) => {\r\n\r\n\t\t\tconst company = row.company ? row.company : \"\";\r\n\r\n\t\t\treturn (company).toString().toLowerCase().indexOf(this.state.companyFilter.toLowerCase()) > -1;\r\n\t\t});\r\n\r\n\t\tthis.setState({\r\n\t\t\ttableData: result\r\n\t\t}, callback);\r\n\t}\r\n\r\n\tformatTable = (callback = () => null) => {\r\n\t\tconst employees = this.props.employees.filter((employee) => {\r\n\t\t\tif(employee.archived && !this.state.showArchive) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif(!employee.active && !this.state.showInactive) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\r\n\t\tconst workLogFrom = new Date(this.state.startDate);\r\n\r\n\t\tconst workLogTo = new Date(this.state.endDate);\r\n\r\n\t\tconst promise = employees.map((employee) => {\r\n\t\t\treturn getServerEmployeeWorkLogFromTo(employee.id, workLogFrom, workLogTo).then((workLogs) => {\r\n\t\t\t\treturn getEmployeeComments(employee.id).then((comments) => {\r\n\t\t\t\t\treturn({\r\n\t\t\t\t\t\tid: employee.id,\r\n\t\t\t\t\t\tposition: employee.position ? employee.position.toString() : null,\r\n\t\t\t\t\t\tcompany: employee.company ? employee.company.toString() : null,\r\n\t\t\t\t\t\tname: {\r\n\t\t\t\t\t\t\tid: employee.id,\r\n\t\t\t\t\t\t\tname: employee.name,\r\n\t\t\t\t\t\t\tsurname: employee.surname,\r\n\t\t\t\t\t\t\tworking: employee.working,\r\n\t\t\t\t\t\t\tcomments: comments.data,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttoday: {\r\n\t\t\t\t\t\t\tworking: employee.working,\r\n\t\t\t\t\t\t\tworkLogs: workLogs.data,\r\n\t\t\t\t\t\t\tstartDate: this.state.startDate,\r\n\t\t\t\t\t\t\tendDate: this.state.endDate,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcommands: employee,\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tPromise.all(promise).then((res) => {\r\n\t\t\tthis.setState({ tableData: res,\r\n\t\t\t}, () => {\r\n\t\t\t\tcallback();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tonToggleArchive = () => {\r\n\t\tthis.setState({ showArchive: !this.state.showArchive });\r\n\t}\r\n\r\n\tonToggleInactive = () => {\r\n\t\tthis.setState({ showInactive: !this.state.showInactive });\r\n\t}\r\n\r\n\tonToggleFilters = () => {\r\n\t\tthis.setState({ showFilters: !this.state.showFilters });\r\n\t}\r\n\r\n\tonChangeNameFilter = (e) => {\r\n\t\tthis.setState({ nameFilter: e.target.value });\r\n\t}\r\n\r\n\tonChangePositionFilter = (e) => {\r\n\t\tthis.setState({ positionFilter: e.target.value });\r\n\t}\r\n\r\n\tonChangeCompanyFilter = (e) => {\r\n\t\tthis.setState({ companyFilter: e.target.value });\r\n\t}\r\n\r\n\tclearAllFilters = () => {\r\n\t\tconst startDate = new Date();\r\n\t\tstartDate.setHours(0,0,0);\r\n\r\n\t\tconst endDate = new Date();\r\n\t\tendDate.setHours(23,59,59);\r\n\r\n\t\tthis.setState({\r\n\t\t\tnameFilter: \"\",\r\n\t\t\tpositionFilter: \"\",\r\n\t\t\tcompanyFilter: \"\",\r\n\t\t\tshowArchive: false,\r\n\t\t\tshowInactive: false,\r\n\t\t\tstartDate: startDate,\r\n\t\t\tendDate: endDate,\r\n\t\t\tdropdown: {\r\n\t\t\t\tcurrentFilter: \"Šodiena\",\r\n\t\t\t\tfilters: [\"Šodiena\", \"Vakardiena\", \"Pēdējās 7 dienas\", \"Pēdējās 30 dienas\"]\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst nameFormatter = (cell, row) => {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<nobr>\r\n\t\t\t\t\t\t<FiUser/>\r\n\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\tvariant=\"link\" \r\n\t\t\t\t\t\t\tonClick={() => this.props.showEmployeeWorkLog(cell.id)}\r\n\t\t\t\t\t\t\tstyle={{ color: \"#0000FF\" }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{cell.surname + \" \" + cell.name}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</nobr>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\tconst companyFormatter = (cell, row) => {\r\n\t\t\treturn (\r\n\t\t\t\t<span className=\"d-none d-md-inline-block text-truncate\" style={{ maxWidth: \"14vw\" }}>\r\n\t\t\t\t\t{cell}\r\n\t\t\t\t</span>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tconst todayFormatter = (cell, row) => {\r\n\t\t\tlet badges = [];\r\n\t\t\tlet totalWorkTime = 0;\r\n\t\t\tlet totalWorkTimeConverted = {\r\n\t\t\t\thours: 0,\r\n\t\t\t\tminutes: 0,\r\n\t\t\t\tseconds: 0\r\n\t\t\t};\r\n\r\n\t\t\tconst displayOneDay = cell.endDate - cell.startDate < 86400000;\r\n\r\n\t\t\tcell.workLogs.forEach((workLog, index) => {\r\n\t\t\t\tlet workTime = 0;\r\n\t\t\t\tlet workTimeConverted = {\r\n\t\t\t\t\thours: 0,\r\n\t\t\t\t\tminutes: 0,\r\n\t\t\t\t\tseconds: 0\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif(workLog.end_time === null) {\r\n\t\t\t\t\tworkLog.end_time = new Date();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Calculate each row data\r\n\t\t\t\tworkTime = new Date(workLog.end_time) - new Date(workLog.start_time);\r\n\t\t\t\tworkTimeConverted = millisecondConverter(workTime);\r\n\r\n\t\t\t\tconst workTimeStartFormatted =\r\n\t\t\t\t\taddZero(new Date(workLog.start_time).getHours()) + \":\" \r\n\t\t\t\t\t+ addZero(new Date(workLog.start_time).getMinutes());\r\n\t\t\t\t\r\n\t\t\t\tconst workTimeEndFormatted =\r\n\t\t\t\t\taddZero(new Date(workLog.end_time).getHours()) + \":\" \r\n\t\t\t\t\t+ addZero(new Date(workLog.end_time).getMinutes());\r\n\t\r\n\t\t\t\tconst workTimeFormatted =\r\n\t\t\t\t\tworkTimeConverted.hours + \" st. \" \r\n\t\t\t\t\t+ workTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\t// Calculate the total\r\n\t\t\t\ttotalWorkTime += new Date(workLog.end_time) - new Date(workLog.start_time);\r\n\t\t\t\ttotalWorkTimeConverted = millisecondConverter(totalWorkTime);\r\n\r\n\t\t\t\tif(displayOneDay) {\r\n\t\t\t\t\t// Each work log entry formatted and applied in HTML format\r\n\t\t\t\t\tbadges.push(\r\n\t\t\t\t\t\t<Row key={index} style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t\t\t<Col xs={6}>\r\n\t\t\t\t\t\t\t\t<nobr>\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t{workTimeStartFormatted}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tcell.working && index === cell.workLogs.length - 1\r\n\t\t\t\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t\t\t\t: <span>\r\n\t\t\t\t\t\t\t\t\t\t\t&#8594; {workTimeEndFormatted}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</nobr>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col xs={\"auto\"} className=\"text-center\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tworkTimeFormatted !== null\r\n\t\t\t\t\t\t\t\t\t? <span>\r\n\t\t\t\t\t\t\t\t\t\t{workTimeFormatted}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//Total row formatted\r\n\t\t\tif(badges.length && displayOneDay) {\r\n\t\t\t\tconst totalWorkTimeFormatted =\r\n\t\t\t\ttotalWorkTimeConverted.hours + \" st. \" \r\n\t\t\t\t+ totalWorkTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\tbadges.push(\r\n\t\t\t\t\t<Row key={badges.length} style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t\t<Col xs={6}>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs={\"auto\"} className=\"text-center\" style={{ borderTop: \"solid 1px\" }}>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttotalWorkTimeFormatted !== null\r\n\t\t\t\t\t\t\t\t? <span>\r\n\t\t\t\t\t\t\t\t\t<b>{totalWorkTimeFormatted}</b>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t} else if(!displayOneDay) {\r\n\t\t\t\tconst totalWorkTimeFormatted =\r\n\t\t\t\ttotalWorkTimeConverted.hours + \" st. \" \r\n\t\t\t\t+ totalWorkTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\tbadges.push(\r\n\t\t\t\t\t<Row key={badges.length} style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t\t<Col className=\"text-center\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttotalWorkTimeFormatted !== null\r\n\t\t\t\t\t\t\t\t? <span>\r\n\t\t\t\t\t\t\t\t\t{totalWorkTimeFormatted}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs=\"4\">\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs=\"4\">\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn (badges);\r\n\t\t};\r\n\r\n\t\tconst startDateFormatted = \r\n\t\t\t  addZero(this.state.startDate.getDate()) + \".\" \r\n\t\t\t+ addZero(this.state.startDate.getMonth() + 1) + \".\" \r\n\t\t\t+ addZero(this.state.startDate.getFullYear());\r\n\r\n\r\n\t\tconst endDateFormatted =\r\n\t\t\t  addZero(this.state.endDate.getDate()) + \".\" \r\n\t\t\t+ addZero(this.state.endDate.getMonth() + 1) + \".\" \r\n\t\t\t+ addZero(this.state.endDate.getFullYear());\r\n\r\n\t\tconst dateRange = startDateFormatted + (startDateFormatted === endDateFormatted ? \"\" : \" - \" + endDateFormatted);\r\n\r\n\t\tconst columns = [{\r\n\t\t\tdataField: \"id\",\r\n\t\t\ttext: \"#\",\r\n\t\t\tsort: true,\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\t// hidden: true,\r\n\t\t}, {\r\n\t\t\tdataField: \"name\",\r\n\t\t\ttext: \"Darbinieks\",\r\n\t\t\tsort: true,\r\n\t\t\tsortFunc: (a, b, order) => {\r\n\t\t\t\tif(convertSpecialCharacters(a.surname) < convertSpecialCharacters(b.surname)) {\r\n\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t} else if(convertSpecialCharacters(a.surname) > convertSpecialCharacters(b.surname)) {\r\n\t\t\t\t\treturn order === \"asc\" ? 1 : -1;\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\tformatter: nameFormatter,\r\n\t\t}, {\r\n\t\t\tdataField: \"company\",\r\n\t\t\ttext: \"Uzņēmums\",\r\n\t\t\tsort: true,\r\n\t\t\tclasses: \"align-middle d-none d-lg-table-cell\",\r\n\t\t\theaderClasses: \"d-none d-lg-table-cell\",\r\n\t\t\tformatter: companyFormatter\r\n\t\t}, {\r\n\t\t\tdataField: \"position\",\r\n\t\t\ttext: \"Amats\",\r\n\t\t\tsort: true,\r\n\t\t\tclasses: \"align-middle d-none d-lg-table-cell\",\r\n\t\t\theaderClasses: \"d-none d-lg-table-cell\",\r\n\t\t\tformatter: companyFormatter\r\n\t\t}, {\r\n\t\t\tdataField: \"today\",\r\n\t\t\ttext: dateRange,\r\n\t\t\tsort: true,\r\n\t\t\tsortFunc: (a, b, order) => {\r\n\t\t\t\tif(a.workLogs.length && b.workLogs.length) {\r\n\t\t\t\t\tconst aData = a.working\r\n\t\t\t\t\t? new Date(a.workLogs[a.workLogs.length - 1].start_time)\r\n\t\t\t\t\t: new Date(a.workLogs[a.workLogs.length - 1].end_time);\r\n\r\n\t\t\t\t\tconst bData = b.working\r\n\t\t\t\t\t? new Date(b.workLogs[b.workLogs.length - 1].start_time)\r\n\t\t\t\t\t: new Date(b.workLogs[b.workLogs.length - 1].end_time);\r\n\r\n\t\t\t\t\tif(aData > bData) {\r\n\t\t\t\t\t\treturn order === \"asc\" ? 1 : -1;\r\n\t\t\t\t\t} else if(aData < bData) {\r\n\t\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\tformatter: todayFormatter\r\n\t\t}];\r\n\r\n\t\tconst defaultSorted = [{\r\n\t\t\tdataField: \"id\",\r\n\t\t\torder: \"asc\"\r\n\t\t}];\r\n\r\n\t\tconst paginationTotalRenderer = (from, to, size) => {\r\n\t\t\tif(to === 0) {\r\n\t\t\t\treturn(\r\n\t\t\t\t\t<span className=\"react-bootstrap-table-pagination-total\">\r\n\t\t\t\t\t\t&nbsp;Netika atrasts neviens rezultāts\r\n\t\t\t\t\t</span>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn(\r\n\t\t\t\t<span className=\"react-bootstrap-table-pagination-total\">\r\n\t\t\t\t\t&nbsp;Rāda { to-from+1 } no { size } rezultātiem\r\n\t\t\t\t</span>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tconst pagination = paginationFactory({\r\n\t\t\tpage: 1,\r\n\t\t\talwaysShowAllBtns: true,\r\n\t\t\tshowTotal: true,\r\n\t\t\tsizePerPage : 10,\r\n\t\t\tpaginationTotalRenderer: paginationTotalRenderer,\r\n\t\t\tsizePerPageList: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"10\",\r\n\t\t\t\t\tvalue: 10,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"25\",\r\n\t\t\t\t\tvalue: 25,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"50\",\r\n\t\t\t\t\tvalue: 50,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"100\",\r\n\t\t\t\t\tvalue: 100,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"Visi\",\r\n\t\t\t\t\tvalue: this.state.tableData.length,\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\r\n\t\tconst rowStyle = (row) => {\r\n\t\t\tif(!row.commands.active) {\r\n\t\t\t\treturn { backgroundColor: \"rgba(255, 0, 0, 0.1)\" };\r\n\t\t\t}\r\n\r\n\t\t\tif(row.commands.archived) {\r\n\t\t\t\treturn { backgroundColor: \"rgba(255, 255, 0, 0.1)\" };\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<ContainerBox header={\"Atskaites\"}>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\tvariant=\"link\" \r\n\t\t\t\t\t\t\tonClick={this.onToggleFilters}\r\n\t\t\t\t\t\t\tclassName=\"float-left\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.showFilters\r\n\t\t\t\t\t\t\t\t? <FiMinimize2 className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\t\t: <FiMaximize2 className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tFiltri\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\r\n\t\t\t\t<Form>\r\n\t\t\t\t\t<Collapse in={this.state.showFilters}>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Rādīt arhīvā esošos darbiniekus\"\r\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.showArchive}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onToggleArchive}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Rādīt deaktivizētus darbiniekus\"\r\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.showInactive}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onToggleInactive}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Vārds...\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onChangeNameFilter}\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.nameFilter}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Form.Text>\r\n\t\t\t\t\t\t\t\t\t\tMeklēt darbinieku pēc vārda vai uzvārda\r\n\t\t\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Amats...\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onChangePositionFilter}\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.positionFilter}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Form.Text>\r\n\t\t\t\t\t\t\t\t\t\tMeklēt darbinieku pēc amata\r\n\t\t\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Uzņēmums...\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onChangeCompanyFilter}\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.companyFilter}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Form.Text>\r\n\t\t\t\t\t\t\t\t\t\tMeklēt darbinieku pēc uzņēmuma\r\n\t\t\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2 float-right\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"danger\"\r\n\t\t\t\t\t\t\t\t\tonClick={this.clearAllFilters}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tNotīrīt visus filtrus\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Collapse>\r\n\t\t\t\t\t<Row className=\"mt-4\">\r\n\t\t\t\t\t\t<Col xs={\"auto\"}>\r\n\t\t\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t\t\t<Form.Label column xs={\"auto\"}>Dati no</Form.Label>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<BoostrapDatePicker\r\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy.\"\r\n\t\t\t\t\t\t\t\t\t\tselected={this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleDateChangeStart}\r\n\t\t\t\t\t\t\t\t\t\tmaxDate={new Date()}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs={\"auto\"}>\r\n\t\t\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t\t\t<Form.Label column xs={\"auto\"}>līdz</Form.Label>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<BoostrapDatePicker\r\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy.\"\r\n\t\t\t\t\t\t\t\t\t\tselected={this.state.endDate}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleDateChangeEnd}\r\n\t\t\t\t\t\t\t\t\t\tminDate={this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\tmaxDate={new Date()}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<DropdownButton\r\n\t\t\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t\t\t\ttitle={this.state.dropdown.currentFilter} \r\n\t\t\t\t\t\t\t\tclassName=\"float-right\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.dropdown.filters.map((filter, index) => {\r\n\t\t\t\t\t\t\t\t\treturn <Dropdown.Item key={index} onClick={() => this.onClickFilter(index)}>{filter}</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</DropdownButton>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Form>\r\n\t\t\t\t<BootstrapTable\r\n\t\t\t\t\tbootstrap4={ true }\r\n\t\t\t\t\tkeyField=\"id\" \r\n\t\t\t\t\tdata={ this.state.tableData } \r\n\t\t\t\t\tcolumns={ columns } \r\n\t\t\t\t\tbordered={ false }\r\n\t\t\t\t\thover={ true }\r\n\t\t\t\t\tdefaultSorted={ defaultSorted }\r\n\t\t\t\t\tremote={ { filter: true } }\r\n\t\t\t\t\tonTableChange={ this.onTableChange }\r\n\t\t\t\t\tpagination={ pagination }\r\n\t\t\t\t\trowStyle={ rowStyle }\r\n\t\t\t\t/>\r\n\t\t\t</ContainerBox>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\temployees: state.employees.employees,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowEmployeeWorkLog: (id) => dispatch(showEmployeeWorkLog(id))\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Employees);\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nimport { Form, Button, Alert, Modal, Row, Col } from \"react-bootstrap\";\r\n\r\nimport { showRegisterEmployee, hideRegisterEmployee } from \"../actions/employeeActions\";\r\n\r\nimport { storeUpdateEmployees, addServerEmployee, awaitCard, deleteServerEmployee } from \"../utils/employeeUtils\";\r\n\r\nconst REGISTER_STATE = {\r\n\tDATA_INPUT: 0,\r\n\tRFID_WAIT: 1,\r\n\tCOMPLETE: 2,\r\n}\r\n\r\nclass RegisterEmployee extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.initialState = {\r\n\t\t\tregistrationState: REGISTER_STATE.DATA_INPUT,\r\n\t\t\tcheckInterval: null,\r\n\t\t\tnewEmployee: {},\r\n\t\t\tname: \"\",\r\n\t\t\tsurname: \"\",\r\n\t\t\tcompany: 'SIA \"Vārpas 1\"',\r\n\t\t\tposition: \"\",\r\n\t\t\tnumber: \"\",\r\n\t\t\tpersonalCode: \"\",\r\n\t\t\taddCard: true,\r\n\t\t\tuid: null,\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\t...this.initialState\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tonNameChange = (event) => {\r\n\t\tthis.setState({ name: event.target.value });\r\n\t}\r\n\r\n\tonSurnameChange = (event) => {\r\n\t\tthis.setState({ surname: event.target.value });\r\n\t}\r\n\r\n\tonCompanyChange = (event) => {\r\n\t\tthis.setState({ company: event.target.value });\r\n\t}\r\n\r\n\tonPositionChange = (event) => {\r\n\t\tthis.setState({ position: event.target.value });\r\n\t}\r\n\r\n\tonNumberChange = (event) => {\r\n\t\tthis.setState({ number: event.target.value });\r\n\t}\r\n\r\n\tonPersonalCodeChange = (event) => {\r\n\t\tthis.setState({ personalCode: event.target.value });\r\n\t}\r\n\r\n\tonAddCardChange = () => {\r\n\t\tthis.setState({ addCard: !this.state.addCard });\r\n\t}\r\n\r\n\tonFormSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\t\t\r\n\t\tlet employee = {\r\n\t\t\tname: this.state.name,\r\n\t\t\tsurname: this.state.surname,\r\n\t\t\tcompany: this.state.company,\r\n\t\t\tposition: this.state.position,\r\n\t\t\tnumber: this.state.number,\r\n\t\t\tpersonalCode: this.state.personalCode,\r\n\t\t\tuid: this.state.uid,\r\n\t\t}\r\n\t\t\r\n\t\tif(this.state.registrationState === REGISTER_STATE.DATA_INPUT) {\r\n\t\t\tif(this.state.addCard) {\r\n\t\t\t\tthis.setState({ \r\n\t\t\t\t\tregistrationState: REGISTER_STATE.RFID_WAIT,\r\n\t\t\t\t});\r\n\r\n\t\t\t\tawaitCard().then((res) => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tuid: res.data.uid,\r\n\t\t\t\t\t}, () => {\r\n\t\t\t\t\t\temployee = {\r\n\t\t\t\t\t\t\t...employee,\r\n\t\t\t\t\t\t\tuid: res.data.uid,\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\taddServerEmployee(employee).then((res) => {\r\n\t\t\t\t\t\t\tstoreUpdateEmployees();\r\n\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tregistrationState: REGISTER_STATE.COMPLETE,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\taddServerEmployee(employee).then((res) => {\r\n\t\t\t\t\tstoreUpdateEmployees();\r\n\t\t\t\t\tif(res.data) {\r\n\t\t\t\t\t\tthis.setState({ \r\n\t\t\t\t\t\t\tregistrationState: REGISTER_STATE.COMPLETE,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else if(this.state.registrationState === REGISTER_STATE.COMPLETE) {\r\n\t\t\tthis.props.hideRegisterEmployee();\r\n\t\t}\r\n\t}\r\n\r\n\thideRegisterEmployeeAndDelete = () => {\r\n\t\tif(this.state.registrationState >= REGISTER_STATE.RFID_WAIT) {\r\n\t\t\tdeleteServerEmployee(this.state.newEmployee.id);\r\n\t\t\tthis.props.hideRegisterEmployee();\r\n\t\t}\r\n\t}\r\n\r\n\tonExited = () => {\r\n\t\tthis.setState({\r\n\t\t\t...this.initialState\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.registerEmployee.show} \r\n\t\t\t\tonHide={() => this.props.hideRegisterEmployee()}\r\n\t\t\t\tonExit={this.deleteAndCancel}\r\n\t\t\t\tonExited={this.onExited}\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={this.onFormSubmit}>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>Pievienot Darbinieku</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>* Vārds</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\trequired \r\n\t\t\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT} \r\n\t\t\t\t\t\t\t\t\tvalue={this.state.name} \r\n\t\t\t\t\t\t\t\t\tonChange={this.onNameChange}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Vārds\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>* Uzvārds</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\trequired \r\n\t\t\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT} \r\n\t\t\t\t\t\t\t\t\tvalue={this.state.surname} \r\n\t\t\t\t\t\t\t\t\tonChange={this.onSurnameChange}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Uzvārds\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>Personas Kods</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT} \r\n\t\t\t\t\t\t\t\t\tvalue={this.state.personalCode} \r\n\t\t\t\t\t\t\t\t\tonChange={this.onPersonalCodeChange}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Personas Kods\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>Telefona Numurs</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT} \r\n\t\t\t\t\t\t\t\t\tvalue={this.state.number} \r\n\t\t\t\t\t\t\t\t\tonChange={this.onNumberChange}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Telefona Numurs\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Uzņēmums</Form.Label>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\tas=\"select\"\r\n\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT}  \r\n\t\t\t\t\t\t\tonChange={this.onCompanyChange}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option>SIA \"Vārpas 1\"</option>\r\n\t\t\t\t\t\t\t<option>SIA \"Adeptus Renewable Energy\"</option>\r\n\t\t\t\t\t\t\t<option>SIA \"Valkas koks\"</option>\r\n\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Amats</Form.Label>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT} \r\n\t\t\t\t\t\t\tvalue={this.state.position} \r\n\t\t\t\t\t\t\tonChange={this.onPositionChange}\r\n\t\t\t\t\t\t\tplaceholder=\"Darba Amats\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group controlId=\"formBasicChecbox\">\r\n\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\tlabel=\"Turpināt reģistrāciju pievienojot NFC karti\"\r\n\t\t\t\t\t\t\tname=\"addCard\"\r\n\t\t\t\t\t\t\tchecked={this.state.addCard}\r\n\t\t\t\t\t\t\tonChange={this.onAddCardChange}/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Alert variant={\"primary\"} show={this.state.registrationState === REGISTER_STATE.RFID_WAIT} onClose={() => null}>\r\n\t\t\t\t\t\tNoskenējiet vēlamo kartiņu.\r\n\t\t\t\t\t</Alert>\r\n\r\n\t\t\t\t\t<Alert variant={\"success\"} show={this.state.registrationState === REGISTER_STATE.COMPLETE} onClose={() => null}>\r\n\t\t\t\t\t\tDarbinieks veiksmīgi pievienots darbinieku sarakstam.\r\n\t\t\t\t\t</Alert>\r\n\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Buttons \r\n\t\t\t\t\t\tregistrationState={this.state.registrationState}\r\n\t\t\t\t\t\thideRegisterEmployee={this.props.hideRegisterEmployee}\r\n\t\t\t\t\t\thideRegisterEmployeeAndDelete={this.hideRegisterEmployeeAndDelete}\r\n\t\t\t\t\t\taddCard={this.state.addCard}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction Buttons(props) {\r\n\tswitch(props.registrationState) {\r\n\t\tdefault:\r\n\t\tcase REGISTER_STATE.DATA_INPUT: {\r\n\t\t\treturn(\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Button variant={ props.addCard ? \"primary\" : \"success\"} type=\"submit\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tprops.addCard \r\n\t\t\t\t\t\t\t? \"Tālāk\"\r\n\t\t\t\t\t\t\t: \"Pabeigt\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\t\tcase REGISTER_STATE.RFID_WAIT: {\r\n\t\t\treturn(\r\n\t\t\t\tnull\r\n\t\t\t);\r\n\t\t}\r\n\t\tcase REGISTER_STATE.COMPLETE: {\r\n\t\t\treturn(\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Button variant=\"success\" type=\"submit\">\r\n\t\t\t\t\t\tPabeigt\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\temployees: state.employees.employees,\r\n\t\tregisterEmployee: state.employees.registerEmployee\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowRegisterEmployee: () => dispatch(showRegisterEmployee()),\r\n\t\thideRegisterEmployee: () => dispatch(hideRegisterEmployee()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(RegisterEmployee);\r\n","import React from \"react\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\n\r\nconst NotFound = () => {\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t<Col className=\"text-center mt-4 mb-4\">\r\n\t\t\t\t<h1>404</h1>\r\n\t\t\t\t<h5>Lapa netika atrasta...</h5>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n}\r\n\r\nexport default NotFound;\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nimport { Table, Modal, Dropdown, DropdownButton, Col, Row, Form, Button } from \"react-bootstrap\";\r\nimport BoostrapDatePicker from \"./BoostrapDatePicker\";\r\n\r\nimport { workLogUpdateInterval } from \"../utils/config\";\r\n\r\nimport { hideEmployeeWorkLog } from \"../actions/employeeActions\";\r\n\r\nimport { getServerEmployee, getServerEmployeeWorkLog, deleteServerWorkLog, editServerWorkLog } from \"../utils/employeeUtils\";\r\nimport { addZero, millisecondConverter } from \"../utils/commonUtils\";\r\n\r\nimport { FiTrash, FiEdit, FiX, FiCheck } from \"react-icons/fi\";\r\n\r\nclass ViewEmployee extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tconst startDate = new Date();\r\n\t\tstartDate.setHours(0, 0, 0);\r\n\r\n\t\tconst endDate = new Date();\r\n\t\tendDate.setHours(23, 59, 59);\r\n\r\n\t\tthis.state = {\r\n\t\t\temployee: {\r\n\t\t\t\tname: \"Ielādē...\",\r\n\t\t\t\tsurname: \" \"\r\n\t\t\t},\r\n\t\t\tworkLog: [],\r\n\t\t\teditWorkLog: {\r\n\t\t\t\tid: null,\r\n\t\t\t\tstartDate: null,\r\n\t\t\t\tendDate: null,\r\n\t\t\t\tworking: false,\r\n\t\t\t},\r\n\t\t\tresults: 0,\r\n\t\t\tupdateInterval: null,\r\n\t\t\tstartDate: startDate,\r\n\t\t\tendDate: endDate,\r\n\t\t\tdropdown: {\r\n\t\t\t\tcurrentFilter: \"Šodiena\",\r\n\t\t\t\tfilters: [\"Šodiena\", \"Vakardiena\", \"Pēdējās 7 dienas\", \"Pēdējās 30 dienas\"]\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.employeeWorkLog.id !== prevProps.employeeWorkLog.id && this.props.employeeWorkLog.id !== null) {\r\n\t\t\tthis.fetchWorkLog();\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.state.updateInterval);\r\n\t}\r\n\r\n\tfetchWorkLog = () => {\r\n\t\tgetServerEmployee(this.props.employeeWorkLog.id).then((res) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\temployee: res.data\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tgetServerEmployeeWorkLog(this.props.employeeWorkLog.id, \"DESC\").then((res) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tworkLog: res.data\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.setState({\r\n\t\t\tupdateInterval: setInterval(() => {\r\n\t\t\t\tgetServerEmployee(this.props.employeeWorkLog.id).then((res) => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\temployee: res.data\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\tgetServerEmployeeWorkLog(this.props.employeeWorkLog.id, \"DESC\").then((res) => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tworkLog: res.data\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}, workLogUpdateInterval)\r\n\t\t});\r\n\t}\r\n\r\n\tonModalHide = () => {\r\n\t\tclearInterval(this.state.updateInterval);\r\n\r\n\t\tthis.setState({\r\n\t\t\temployee: {\r\n\t\t\t\tname: \"Ielādē...\",\r\n\t\t\t\tsurname: \" \"\r\n\t\t\t},\r\n\t\t\tworkLog: [],\r\n\t\t\teditWorkLog: {\r\n\t\t\t\tid: null,\r\n\t\t\t\tstartDate: null,\r\n\t\t\t\tendDate: null,\r\n\t\t\t\tworking: false,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\thandleDateChangeStart = (date) => {\r\n\t\tconst startOfDay = new Date(date);\r\n\t\tstartOfDay.setHours(0, 0, 0);\r\n\t\tthis.setState({\r\n\t\t\tstartDate: startOfDay,\r\n\t\t});\r\n\t}\r\n\r\n\thandleDateChangeEnd = (date) => {\r\n\t\tconst endOfDay = new Date(date);\r\n\t\tendOfDay.setHours(23, 59, 59);\r\n\t\tthis.setState({\r\n\t\t\tendDate: endOfDay,\r\n\t\t});\r\n\t}\r\n\r\n\tonClickFilter = (index) => {\r\n\t\tswitch (index) {\r\n\t\t\tcase 0: {\r\n\t\t\t\tthis.handleDateChangeStart(new Date());\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 1: {\r\n\t\t\t\tconst yesterday = new Date();\r\n\t\t\t\tyesterday.setDate(yesterday.getDate() - 1);\r\n\t\t\t\tthis.handleDateChangeStart(yesterday);\r\n\t\t\t\tthis.handleDateChangeEnd(yesterday);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 2: {\r\n\t\t\t\tconst last7Days = new Date();\r\n\t\t\t\tlast7Days.setDate(last7Days.getDate() - 7);\r\n\t\t\t\tthis.handleDateChangeStart(last7Days);\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 3: {\r\n\t\t\t\tconst last30Days = new Date();\r\n\t\t\t\tlast30Days.setDate(last30Days.getDate() - 30);\r\n\t\t\t\tthis.handleDateChangeStart(last30Days);\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdefault: {\r\n\t\t\t\tthis.handleDateChangeStart(new Date());\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tdropdown: {\r\n\t\t\t\t...this.state.dropdown,\r\n\t\t\t\tcurrentFilter: this.state.dropdown.filters[index],\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tdeleteWorkLog = (id, working, employeeId) => {\r\n\t\tdeleteServerWorkLog(id, working, employeeId).then(() => {\r\n\t\t\tthis.fetchWorkLog();\r\n\t\t});\r\n\t}\r\n\r\n\teditWorkLog = (id, startDate, endDate, working) => {\r\n\t\tthis.setState({\r\n\t\t\teditWorkLog: {\r\n\t\t\t\t...this.state.editWorkLog,\r\n\t\t\t\tid: id,\r\n\t\t\t\tstartDate: startDate,\r\n\t\t\t\tendDate: endDate,\r\n\t\t\t\tworking: working,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tconfirmEditWorkLog = () => {\r\n\t\teditServerWorkLog(\r\n\t\t\tthis.state.editWorkLog.id,\r\n\t\t\tthis.state.editWorkLog.startDate,\r\n\t\t\tthis.state.editWorkLog.endDate,\r\n\t\t\tthis.state.editWorkLog.working).then(() => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\teditWorkLog: {\r\n\t\t\t\t\t\tid: null,\r\n\t\t\t\t\t\tstartDate: null,\r\n\t\t\t\t\t\tendDate: null,\r\n\t\t\t\t\t\tworking: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t}, () => {\r\n\t\t\t\t\tthis.fetchWorkLog();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\tcancelEditWorkLog = () => {\r\n\t\tthis.setState({\r\n\t\t\teditWorkLog: {\r\n\t\t\t\tid: null,\r\n\t\t\t\tstartDate: null,\r\n\t\t\t\tendDate: null,\r\n\t\t\t\tworking: false,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tonStartDateChange = (date) => {\r\n\t\tthis.setState({\r\n\t\t\teditWorkLog: {\r\n\t\t\t\t...this.state.editWorkLog,\r\n\t\t\t\tstartDate: date\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonEndDateChange = (date) => {\r\n\t\tthis.setState({\r\n\t\t\teditWorkLog: {\r\n\t\t\t\t...this.state.editWorkLog,\r\n\t\t\t\tendDate: date\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet filterResults = 0;\r\n\t\tlet lastStartDate = null;\r\n\t\tlet totalDayWorkTime = 0;\r\n\t\tlet totalWorkTime = 0;\r\n\t\tlet totalDays = 0;\r\n\r\n\t\tconst workLogFiltered = this.state.workLog\r\n\t\t\t.filter((log) => {\r\n\t\t\t\t// Filter out all rows which do not match the date\r\n\t\t\t\tconst startTimePure = new Date(log.start_time);\r\n\r\n\t\t\t\tif (startTimePure < this.state.startDate || startTimePure > this.state.endDate) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tfilterResults++;\r\n\t\t\t\treturn true;\r\n\t\t\t});\r\n\r\n\t\tconst workLog = workLogFiltered\r\n\t\t\t.map((log, index) => {\r\n\t\t\t\t// Format the remaining filtered work logs\r\n\t\t\t\tconst stillWorking = log.end_time === null ? true : false;\r\n\t\t\t\tconst startTimePure = new Date(log.start_time);\r\n\t\t\t\tconst endTimePure = stillWorking ? new Date() : new Date(log.end_time);\r\n\r\n\t\t\t\tconst startTimeFormatted =\r\n\t\t\t\t\taddZero(startTimePure.getHours()) + \":\"\r\n\t\t\t\t\t+ addZero(startTimePure.getMinutes());\r\n\r\n\t\t\t\tconst endTimeFormatted = stillWorking ? \" - \" :\r\n\t\t\t\t\taddZero(endTimePure.getHours()) + \":\"\r\n\t\t\t\t\t+ addZero(endTimePure.getMinutes());\r\n\r\n\t\t\t\tconst workTime = millisecondConverter(endTimePure - startTimePure);\r\n\t\t\t\ttotalDayWorkTime += (endTimePure - startTimePure);\r\n\t\t\t\ttotalWorkTime += (endTimePure - startTimePure);\r\n\t\t\t\tconst workTimeFormatted =\r\n\t\t\t\t\t+ workTime.hours + \" st. \"\r\n\t\t\t\t\t+ workTime.minutes + \" min. \";\r\n\r\n\t\t\t\tconst workingStyle = {\r\n\t\t\t\t\tbackgroundColor: \"#ffffe6\",\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst commands = (\r\n\t\t\t\t\t<Row className=\"text-center\">\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.editWorkLog.id === log.id\r\n\t\t\t\t\t\t\t\t\t? <>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize={\"sm\"}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.confirmEditWorkLog()}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<FiCheck className=\"mb-1\" />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize={\"sm\"}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.cancelEditWorkLog()}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<FiX className=\"mb-1\" />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t: <>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize={\"sm\"}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.editWorkLog(log.id, log.start_time, log.end_time, stillWorking)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<FiEdit className=\"mb-1\" />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize={\"sm\"}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.deleteWorkLog(log.id, stillWorking, log.employee_id)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<FiTrash className=\"mb-1\" />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\r\n\t\t\t\tconst workRow = (\r\n\t\t\t\t\t<tr className=\"text-center\" style={stillWorking ? workingStyle : null}>\r\n\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.editWorkLog.id === log.id\r\n\t\t\t\t\t\t\t\t\t? <BoostrapDatePicker\r\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy. HH:mm\"\r\n\t\t\t\t\t\t\t\t\t\tselected={new Date(this.state.editWorkLog.startDate)}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onStartDateChange}\r\n\t\t\t\t\t\t\t\t\t\ttimeIntervals={1}\r\n\t\t\t\t\t\t\t\t\t\tshowTimeSelect\r\n\t\t\t\t\t\t\t\t\t\ttimeFormat=\"HH:mm\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t: startTimeFormatted\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.editWorkLog.id === log.id && !stillWorking\r\n\t\t\t\t\t\t\t\t\t? <BoostrapDatePicker\r\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy. HH:mm\"\r\n\t\t\t\t\t\t\t\t\t\tselected={new Date(this.state.editWorkLog.endDate)}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onEndDateChange}\r\n\t\t\t\t\t\t\t\t\t\ttimeIntervals={1}\r\n\t\t\t\t\t\t\t\t\t\tshowTimeSelect\r\n\t\t\t\t\t\t\t\t\t\ttimeFormat=\"HH:mm\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t: endTimeFormatted\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>{workTimeFormatted}</td>\r\n\t\t\t\t\t\t<td>{commands}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\r\n\t\t\t\tlet dateRow = null;\r\n\t\t\t\tlet totalDayRow = null;\r\n\t\t\t\tlet totalRow = null;\r\n\r\n\t\t\t\tif (lastStartDate === null || lastStartDate !== startTimePure.getDate()) {\r\n\t\t\t\t\tlastStartDate = startTimePure.getDate();\r\n\r\n\t\t\t\t\tconst dateFormatted =\r\n\t\t\t\t\t\taddZero(startTimePure.getDate()) + \".\"\r\n\t\t\t\t\t\t+ addZero(startTimePure.getMonth() + 1) + \".\"\r\n\t\t\t\t\t\t+ addZero(startTimePure.getFullYear());\r\n\r\n\t\t\t\t\tdateRow = (\r\n\t\t\t\t\t\t<tr className=\"bg-dark text-light\">\r\n\t\t\t\t\t\t\t<td style={{ width: \"100px\" }}><b>{dateFormatted}</b></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet nextStartDate = null;\r\n\r\n\t\t\t\tif (workLogFiltered[index + 1]) {\r\n\t\t\t\t\tnextStartDate = new Date(workLogFiltered[index + 1].start_time).getDate();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (nextStartDate !== startTimePure.getDate()) {\r\n\t\t\t\t\tconst totalDayWorkTimeConverted = millisecondConverter(totalDayWorkTime);\r\n\r\n\t\t\t\t\tconst totalDayWorkTimeFormatted =\r\n\t\t\t\t\t\t+ totalDayWorkTimeConverted.hours + \" st. \"\r\n\t\t\t\t\t\t+ totalDayWorkTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\t\ttotalDayRow = (\r\n\t\t\t\t\t\t<tr className=\"bg-light text-dark\">\r\n\t\t\t\t\t\t\t<td><b>KOPĀ</b></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td className=\"text-center\"><b>{totalDayWorkTimeFormatted}</b></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\ttotalDays++;\r\n\t\t\t\t\ttotalDayWorkTime = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (totalDays > 1 && nextStartDate === null) {\r\n\t\t\t\t\tconst totalWorkTimeConverted = millisecondConverter(totalWorkTime);\r\n\r\n\t\t\t\t\tconst totalWorkTimeFormatted =\r\n\t\t\t\t\t\t+ totalWorkTimeConverted.hours + \" st. \"\r\n\t\t\t\t\t\t+ totalWorkTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\t\tconst fromDateFormatted =\r\n\t\t\t\t\t\taddZero(this.state.startDate.getDate()) + \".\"\r\n\t\t\t\t\t\t+ addZero(this.state.startDate.getMonth() + 1) + \".\"\r\n\t\t\t\t\t\t+ addZero(this.state.startDate.getFullYear());\r\n\r\n\t\t\t\t\tconst toDateFormatted =\r\n\t\t\t\t\t\taddZero(this.state.endDate.getDate()) + \".\"\r\n\t\t\t\t\t\t+ addZero(this.state.endDate.getMonth() + 1) + \".\"\r\n\t\t\t\t\t\t+ addZero(this.state.endDate.getFullYear());\r\n\r\n\r\n\t\t\t\t\ttotalRow = (\r\n\t\t\t\t\t\t<tr className=\"text-dark\">\r\n\t\t\t\t\t\t\t<td colSpan={2}><b>{fromDateFormatted} - {toDateFormatted}</b></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td className=\"text-center\"><b>{totalWorkTimeFormatted}</b></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\ttotalWorkTime = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tbody key={index}>\r\n\t\t\t\t\t\t{dateRow}\r\n\t\t\t\t\t\t{workRow}\r\n\t\t\t\t\t\t{totalDayRow}\r\n\t\t\t\t\t\t{totalRow}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tshow={this.props.employeeWorkLog.show}\r\n\t\t\t\tonHide={this.props.hideEmployeeWorkLog}\r\n\t\t\t\tonExited={this.onModalHide}\r\n\t\t\t\tsize={\"lg\"}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title className=\"w-100\">\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t\t{this.state.employee.surname + \" \" + this.state.employee.name}\r\n\t\t\t\t\t\t\t\t\t{this.state.employee.personalCode\r\n\t\t\t\t\t\t\t\t\t\t? \" (\" + this.state.employee.personalCode + \")\"\r\n\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<h5 className=\"text-secondary\">{this.state.employee.company}</h5>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<h5 className=\"text-secondary\">{this.state.employee.position}</h5>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col className=\"text-right\">\r\n\t\t\t\t\t\t\t\t<h5 className=\"text-secondary\">\r\n\t\t\t\t\t\t\t\t\t{this.state.employee.number\r\n\t\t\t\t\t\t\t\t\t\t? \"Tel. \" + this.state.employee.number\r\n\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label column xs={2}>No</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Col xs={10}>\r\n\t\t\t\t\t\t\t\t\t\t<BoostrapDatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy.\"\r\n\t\t\t\t\t\t\t\t\t\t\tselected={this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleDateChangeStart}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxDate={new Date()}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label column xs={2}>Līdz</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Col xs={10}>\r\n\t\t\t\t\t\t\t\t\t\t<BoostrapDatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy.\"\r\n\t\t\t\t\t\t\t\t\t\t\tselected={this.state.endDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleDateChangeEnd}\r\n\t\t\t\t\t\t\t\t\t\t\tminDate={this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxDate={new Date()}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col className=\"d-flex flex-column\">\r\n\t\t\t\t\t\t\t\t<DropdownButton\r\n\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t\t\t\t\ttitle={this.state.dropdown.currentFilter}\r\n\t\t\t\t\t\t\t\t\tclassName=\"text-right mt-auto mb-3\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tthis.state.dropdown.filters.map((filter, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <Dropdown.Item key={index} onClick={() => this.onClickFilter(index)}>{filter}</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</DropdownButton>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.workLog.length && filterResults\r\n\t\t\t\t\t\t\t? (\r\n\t\t\t\t\t\t\t\t<Table size=\"sm\">\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Ienāca</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Izgāja</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Nostrādāja</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t{workLog}\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\tNetika atrasts neviens ieraksts...\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\temployeeWorkLog: state.employees.employeeWorkLog,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\thideEmployeeWorkLog: () => dispatch(hideEmployeeWorkLog()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ViewEmployee);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button } from \"react-bootstrap\";\r\n\r\nimport { showDeleteEmployee, hideDeleteEmployee } from \"../actions/employeeActions\";\r\n\r\nimport { storeUpdateEmployees, deleteServerEmployee } from \"../utils/employeeUtils\";\r\n\r\nclass DeleteEmployee extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.deleteEmployee.show}\r\n\t\t\t\tonHide={() => this.props.hideDeleteEmployee()}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>{this.props.deleteEmployee.employee.name + \" \" + this.props.deleteEmployee.employee.surname}</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\tVai esiet pārliecināts ka vēlaties dzēst šo darbinieku?\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"danger\" onClick={() => {\r\n\t\t\t\t\t\tdeleteServerEmployee(this.props.deleteEmployee.employee.id).then(() => {\r\n\t\t\t\t\t\t\tstoreUpdateEmployees();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.props.hideDeleteEmployee();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\tDzēst\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tdeleteEmployee: state.employees.deleteEmployee,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowDeleteEmployee: () => dispatch(showDeleteEmployee()),\r\n\t\thideDeleteEmployee: () => dispatch(hideDeleteEmployee()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(DeleteEmployee);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button, Form, Row, Col, Alert } from \"react-bootstrap\";\r\n\r\nimport { showEditEmployee, hideEditEmployee } from \"../actions/employeeActions\";\r\n\r\nimport {\r\n\tsetEmployeeUID,\r\n\tremoveEmployeeUID,\r\n\tawaitCard,\r\n\tstoreUpdateEmployee,\r\n\teditServerEmployee,\r\n} from \"../utils/employeeUtils\";\r\n\r\nimport {\r\n\taddZero\r\n} from \"../utils/commonUtils\";\r\n\r\nconst CHANGE_CARD_STATE = {\r\n\tOFF: 0,\r\n\tRFID_WAIT: 1,\r\n\tCOMPLETE: 2,\r\n\tDELETED: 3,\r\n}\r\n\r\nclass EditEmployee extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.initialState = {\r\n\t\t\temployee: {\r\n\t\t\t\tname: \"\",\r\n\t\t\t\tsurname: \"\",\r\n\t\t\t\tpersonalCode: \"\",\r\n\t\t\t\tcompany: \"\",\r\n\t\t\t\tposition: \"\",\r\n\t\t\t\tnumber: \"\",\r\n\t\t\t\tuid: \"\"\r\n\t\t\t},\r\n\t\t\tchangeCard: {\r\n\t\t\t\tstatus: 0,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\t...this.initialState\r\n\t\t}\r\n\t}\r\n\r\n\tonEnter = () => {\r\n\t\tthis.setState({\r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\t...this.props.editEmployee.employee,\r\n\t\t\t}\r\n\t\t}, () => {\r\n\t\t\tif(!this.state.employee.company) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\temployee: {\r\n\t\t\t\t\t\t...this.state.employee,\r\n\t\t\t\t\t\tcompany: 'SIA \"Vārpas 1\"',\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonHide = () => {\r\n\t\tthis.props.hideEditEmployee();\r\n\t\tthis.setState({\r\n\t\t\t...this.initialState\r\n\t\t});\r\n\t}\r\n\r\n\tonNameChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tname: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonSurnameChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tsurname: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonPersonalCodeChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tpersonalCode: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonCompanyChange = (event) => {\r\n\t\tconsole.log(event.target.value);\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tcompany: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonPositionChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tposition: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonNumberChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tnumber: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tchangeCard = (id) => {\r\n\t\tthis.setState({\r\n\t\t\tchangeCard: {\r\n\t\t\t\tstatus: CHANGE_CARD_STATE.RFID_WAIT\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tawaitCard().then((res) => {\r\n\t\t\tif(res.data) {\r\n\t\t\t\tsetEmployeeUID(res.data.uid, id).then(() => {\r\n\t\t\t\t\tstoreUpdateEmployee(id);\r\n\t\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\temployee: {\r\n\t\t\t\t\t\t\t...this.state.employee,\r\n\t\t\t\t\t\t\tuid: res.data.uid,\r\n\t\t\t\t\t\t\tuid_added: new Date(),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tchangeCard: {\r\n\t\t\t\t\t\t\tstatus: CHANGE_CARD_STATE.COMPLETE\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tchangeCard: {\r\n\t\t\t\t\t\tstatus: CHANGE_CARD_STATE.OFF\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tdeleteCard = (id) => {\r\n\t\tremoveEmployeeUID(id).then(() => {\r\n\t\t\tstoreUpdateEmployee(id);\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\temployee: {\r\n\t\t\t\t\t...this.state.employee,\r\n\t\t\t\t\tuid: \"N/A\",\r\n\t\t\t\t\tuid_added: null,\r\n\t\t\t\t},\r\n\t\t\t\tchangeCard: {\r\n\t\t\t\t\tstatus: CHANGE_CARD_STATE.DELETED\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst uidAddedDate = new Date(this.state.employee.uid_added);\r\n\t\tconst uidAdded = \r\n\t\t\taddZero(uidAddedDate.getDate()) + \".\" \r\n\t\t\t+ addZero(uidAddedDate.getMonth() + 1) + \".\" \r\n\t\t\t+ addZero(uidAddedDate.getFullYear());\r\n\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.editEmployee.show}\r\n\t\t\t\tonHide={() => this.onHide()}\r\n\t\t\t\tonEnter={() => this.onEnter()}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>{this.props.editEmployee.employee.name + \" \" + this.props.editEmployee.employee.surname}</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>* Vārds</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control required value={this.state.employee.name} onChange={this.onNameChange}/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>* Uzvārds</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control required value={this.state.employee.surname} onChange={this.onSurnameChange}/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>Personas Kods</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control value={this.state.employee.personalCode} onChange={this.onPersonalCodeChange}/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>Telefona Numurs</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control value={this.state.employee.number} onChange={this.onNumberChange}/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Uzņēmums</Form.Label>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\tas=\"select\"\r\n\t\t\t\t\t\t\tonChange={this.onCompanyChange}\r\n\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\tthis.state.employee.company\r\n\t\t\t\t\t\t\t\t? this.state.employee.company\r\n\t\t\t\t\t\t\t\t: 'SIA \"Vārpas 1\"'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value='SIA \"Vārpas 1\"'>SIA \"Vārpas 1\"</option>\r\n\t\t\t\t\t\t\t<option value='SIA \"Adeptus Renewable Energy\"'>SIA \"Adeptus Renewable Energy\"</option>\r\n\t\t\t\t\t\t\t<option value='SIA \"Valkas koks\"'>SIA \"Valkas koks\"</option>\r\n\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Amats</Form.Label>\r\n\t\t\t\t\t\t<Form.Control value={this.state.employee.position} onChange={this.onPositionChange}/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t<Form.Label column xs={\"auto\"}>UID (NFC Karte)</Form.Label>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\tdisabled \r\n\t\t\t\t\t\t\t\tvalue={this.state.employee.uid ? this.state.employee.uid : \"N/A\"}\r\n\t\t\t\t\t\t\t\tclassName=\"text-center\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs={\"auto\"}>\r\n\t\t\t\t\t\t\t<Button variant=\"link\" onClick={() => this.deleteCard(this.props.editEmployee.employee.id)}>Dzēst</Button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs={\"auto\"}>\r\n\t\t\t\t\t\t\t<Button variant=\"link\" onClick={() => this.changeCard(this.props.editEmployee.employee.id)}>Mainīt</Button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.employee.uid_added\r\n\t\t\t\t\t\t? <Form.Group as={Row}>\r\n\t\t\t\t\t\t\t<Form.Label column>Karte reģistrēta: { uidAdded }</Form.Label>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t: null\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t<Alert \r\n\t\t\t\t\t\tvariant={\"primary\"} \r\n\t\t\t\t\t\tshow={\r\n\t\t\t\t\t\t\tthis.state.changeCard.status === CHANGE_CARD_STATE.RFID_WAIT\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\tonClose={() => null}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tNoskenējiet vēlamo kartiņu.\r\n\t\t\t\t\t</Alert>\r\n\r\n\t\t\t\t\t<Alert \r\n\t\t\t\t\t\tvariant={\"success\"} \r\n\t\t\t\t\t\tshow={\r\n\t\t\t\t\t\t\tthis.state.changeCard.status === CHANGE_CARD_STATE.COMPLETE\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\tonClose={() => null}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tDarbiniekam karte nomainīta.\r\n\t\t\t\t\t</Alert>\r\n\r\n\t\t\t\t\t<Alert \r\n\t\t\t\t\t\tvariant={\"danger\"} \r\n\t\t\t\t\t\tshow={\r\n\t\t\t\t\t\t\tthis.state.changeCard.status === CHANGE_CARD_STATE.DELETED\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\tonClose={() => null}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tDarbinieka karte dzēsta.\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"success\" onClick={() => {\r\n\t\t\t\t\t\tconst employeeId = this.state.employee.id;\r\n\t\t\t\t\t\teditServerEmployee(this.state.employee).then(() => {\r\n\t\t\t\t\t\t\tstoreUpdateEmployee(employeeId);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.props.hideEditEmployee();\r\n\t\t\t\t\t\tthis.onHide();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\tRediģēt\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\teditEmployee: state.employees.editEmployee,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowEditEmployee: () => dispatch(showEditEmployee()),\r\n\t\thideEditEmployee: () => dispatch(hideEditEmployee()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(EditEmployee);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button, Row, Col, Table, Form } from \"react-bootstrap\";\r\nimport BoostrapDatePicker from \"./BoostrapDatePicker\";\r\nimport download from \"downloadjs\";\r\n\r\nimport { showExportExcel, hideExportExcel } from \"../actions/employeeActions\";\r\n\r\nimport { exportServerEmployees } from \"../utils/employeeUtils\";\r\n\r\nclass ExportExcel extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tmonth: new Date(),\r\n\t\t\temployeeList: [],\r\n\t\t\tcheckAll: false,\r\n\t\t\tincludeNoHours: false,\r\n\t\t\tincludeInactive: false,\r\n\t\t\tincludeArchived: false\r\n\t\t}\r\n\t}\r\n\r\n\thandleDateChange = (date) => {\r\n\t\tthis.setState({\r\n\t\t\tmonth: date,\r\n\t\t});\r\n\t}\r\n\r\n\tonToggleIncludeNoHours = () => {\r\n\t\tthis.setState({\r\n\t\t\tincludeNoHours: !this.state.includeNoHours\r\n\t\t});\r\n\t}\r\n\r\n\tonToggleIncludeInactive = () => {\r\n\t\tthis.setState({\r\n\t\t\tincludeInactive: !this.state.includeInactive\r\n\t\t});\r\n\t}\r\n\r\n\tonToggleIncludeArchived = () => {\r\n\t\tthis.setState({\r\n\t\t\tincludeArchived: !this.state.includeArchived\r\n\t\t});\r\n\t}\r\n\r\n\tonEmployeeCheck = (index) => {\r\n\t\tconst newList = this.state.employeeList;\r\n\t\tnewList[index].checked = !newList[index].checked;\r\n\r\n\t\tthis.setState({\r\n\t\t\temployeeList: newList\r\n\t\t});\r\n\t}\r\n\r\n\tonCheckAll = () => {\r\n\t\tthis.setState({\r\n\t\t\temployeeList: this.state.employeeList.map(employee => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...employee,\r\n\t\t\t\t\tchecked: !this.state.checkAll\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tcheckAll: !this.state.checkAll\r\n\t\t});\r\n\t}\r\n\r\n\texport = () => {\r\n\t\texportServerEmployees({\r\n\t\t\tmonth: this.state.month,\r\n\t\t\temployees: this.state.employeeList.filter(employee => {\r\n\t\t\t\treturn employee.checked;\r\n\t\t\t}),\r\n\t\t\tincludeNoHours: this.state.includeNoHours,\r\n\t\t\tincludeInactive: this.state.includeInactive,\r\n\t\t\tincludeArchived: this.state.includeArchived\r\n\t\t}).then((response) => {\r\n\t\t\tconst content = response.headers[\"content-type\"];\r\n           \tdownload(response.data, \"Varpas 1.xlsx\", content);\r\n\t\t});\r\n\t}\r\n\r\n\tonEnter = () => {\r\n\t\tthis.setState({\r\n\t\t\temployeeList: this.props.employees.map(employee => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...employee,\r\n\t\t\t\t\tchecked: false\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tif(!this.props.exportExcel.show) return null;\r\n\r\n\t\tconst employees = this.state.employeeList.map((employee, index) => {\r\n\t\t\treturn (\r\n\t\t\t\t<tbody key={index}>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\tchecked={employee.checked}\r\n\t\t\t\t\t\t\t\tonChange={() => this.onEmployeeCheck(index)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>{employee.surname + \" \" + employee.name}</td>\r\n\t\t\t\t\t\t<td>{employee.personalCode}</td>\r\n\t\t\t\t\t\t<td>{employee.position}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tsize=\"lg\"\r\n\t\t\t\tshow={this.props.exportExcel.show}\r\n\t\t\t\tonEnter={() => this.onEnter()}\r\n\t\t\t\tonHide={() => this.props.hideExportExcel()}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>Eksports</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<h5>Periods</h5>\r\n\t\t\t\t\t\t\t<Form.Group as={Row} className=\"ml-1\">\r\n\t\t\t\t\t\t\t\t<Form.Label column xs={\"3\"}>Mēnesis: </Form.Label>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<BoostrapDatePicker\r\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"MM.yyyy.\"\r\n\t\t\t\t\t\t\t\t\t\tselected={this.state.month}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleDateChange}\r\n\t\t\t\t\t\t\t\t\t\tshowMonthYearPicker\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<h5>Iekļaut</h5>\r\n\t\t\t\t\t\t\t<Form.Group as={Row} className=\"ml-1\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\t\tlabel=\"darbiniekus bez nostrādātām stundām\"\r\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.includeNoHours}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onToggleIncludeNoHours}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group as={Row} className=\"ml-1\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\t\tlabel=\"deaktivizētus darbiniekus\"\r\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.includeInactive}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onToggleIncludeInactive}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group as={Row} className=\"ml-1\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\t\tlabel=\"arhivētus darbiniekus\"\r\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.includeArchived}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onToggleIncludeArchived}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<h5>Atlasīt Darbiniekus</h5>\r\n\t\t\t\t\t\t\t<Table size=\"sm\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.checkAll}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={() => this.onCheckAll()}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Vārds</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Personas Kods</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Amats</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t{employees}\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"success\" onClick={() => {\r\n\t\t\t\t\t\tthis.export();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\tEksportēt\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\texportExcel: state.employees.exportExcel,\r\n\t\temployees: state.employees.employees\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowExportExcel: () => dispatch(showExportExcel()),\r\n\t\thideExportExcel: () => dispatch(hideExportExcel()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ExportExcel);\r\n","import { request } from \"./config\";\r\n\r\nexport const checkSession = () => {\r\n\treturn request.post(\"/checkSession\");\r\n}\r\n\r\nexport const authenticate = (username, password, rememberMe) => {\r\n\treturn request.post(\"/authenticate\", {\r\n\t\tusername,\r\n\t\tpassword,\r\n\t\trememberMe\r\n\t});\r\n}\r\n\r\nexport const logOut = () => {\r\n\treturn request.post(\"/logOut\");\r\n}\r\n\r\nexport const getUserByUsername = (username) => {\r\n\treturn request.post(\"/getUserByUsername\", {\r\n\t\tusername\r\n\t});\r\n}\r\n\r\nexport const getUserByKey = () => {\r\n\treturn request.post(\"/getUserByKey\");\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button, Form, Alert } from \"react-bootstrap\";\r\n\r\nimport { authenticate } from \"../utils/userUtils\";\r\nimport { production } from \"../utils/config\";\r\n\r\nimport logo from \"../images/logo.png\";\r\n\r\nconst DEBUG = !production;\r\n\r\nclass LogIn extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\tusername: DEBUG ? \"nils.asejevs\" : \"\",\r\n\t\t\tpassword: DEBUG ? \"EvoNils112\" : \"\",\r\n\t\t\trememberMe: true,\r\n\t\t\tauthenticationError: false,\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif(DEBUG) {\r\n\t\t\tthis.logIn();\r\n\t\t}\r\n\t}\r\n\r\n\tonUsernameChange = (event) => {\r\n\t\tthis.setState({ username: event.target.value });\r\n\t}\r\n\r\n\tonPasswordChange = (event) => {\r\n\t\tthis.setState({ password: event.target.value });\r\n\t}\r\n\r\n\tonRememberMeChange = () => {\r\n\t\tthis.setState({ rememberMe: !this.state.rememberMe });\r\n\t}\r\n\r\n\tlogIn = (e) => {\r\n\t\tif(DEBUG === false) {\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t\tauthenticate(this.state.username, this.state.password, this.state.rememberMe).then((res) => {\r\n\t\t\tif(res.data) {\r\n\t\t\t\twindow.location.reload();\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tauthenticationError: true,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tcentered\r\n\t\t\t\tshow={true}\r\n\t\t\t\tonHide={() => null}\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={e => this.logIn(e)}>\r\n\t\t\t\t<Modal.Header className=\"justify-content-center\">\r\n\t\t\t\t\t<Modal.Title>\r\n\t\t\t\t\t\t<img \r\n\t\t\t\t\t\t\tsrc={logo}\r\n\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\twidth=\"auto\"\r\n\t\t\t\t\t\t\theight=\"40px\"\r\n\t\t\t\t\t\t\tclassName=\"d-inline-block align-top mr-2\"\r\n\t\t\t\t\t\t\tstyle={{filter: \"invert(100%)\"}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\tAutentifikācija\r\n\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Lietotājvārds</Form.Label>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={this.state.username} \r\n\t\t\t\t\t\t\tonChange={this.onUsernameChange}\r\n\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Parole</Form.Label>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={this.state.password} \r\n\t\t\t\t\t\t\tonChange={this.onPasswordChange}\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group controlId=\"formBasicChecbox\">\r\n\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\tlabel=\"Atcerēties mani\"\r\n\t\t\t\t\t\t\tname=\"rememberMe\"\r\n\t\t\t\t\t\t\tchecked={this.state.rememberMe}\r\n\t\t\t\t\t\t\tonChange={this.onRememberMeChange}/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Alert variant={\"danger\"} show={this.state.authenticationError} onClose={() => null}>\r\n\t\t\t\t\t\tNepareizs lietotājvārds un/vai parole.\r\n\t\t\t\t\t</Alert>\r\n\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"success\" type=\"submit\">\r\n\t\t\t\t\t\tIelogoties\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(LogIn);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Alert } from \"react-bootstrap\";\r\n\r\nimport { showCheckCard, hideCheckCard, showEmployeeWorkLog } from \"../actions/employeeActions\";\r\n\r\nimport { awaitCard, getEmployeeByUID } from \"../utils/employeeUtils\";\r\n\r\n//import { checkCard } from \"../utils/employeeUtils\";\r\n\r\nclass CheckCard extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\tcardScanned: false,\r\n\t\t\tnotFound: false,\r\n\t\t}\r\n\t}\r\n\r\n\tcheckCard = () => {\r\n\t\tawaitCard().then((res) => {\r\n\t\t\tif(res.data) {\t\r\n\t\t\t\tgetEmployeeByUID(res.data.uid).then((res2) => {\r\n\t\t\t\t\tif(res2.data) {\r\n\t\t\t\t\t\tthis.hideModal();\r\n\t\t\t\t\t\tthis.props.showEmployeeWorkLog(res2.data.id);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tcardScanned: true,\r\n\t\t\t\t\t\t\tnotFound: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\thideModal = () => {\r\n\t\tthis.props.hideCheckCard();\r\n\r\n\t\tthis.setState({\r\n\t\t\tcardScanned: false,\r\n\t\t\temployee: {}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.checkCard.show}\r\n\t\t\t\tonHide={this.hideModal}\r\n\t\t\t\tonEntered={() => this.checkCard()}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>Atrast darbinieku pēc kartes</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Alert variant={\"primary\"} show={!this.state.cardScanned}>\r\n\t\t\t\t\t\tNoskenējiet NFC kartiņu...\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t<Alert variant={\"danger\"} show={this.state.cardScanned && this.state.notFound}>\r\n\t\t\t\t\t\tUz šīs kartiņas nav reģistrēts neviens darbinieks.\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tcheckCard: state.employees.checkCard,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowCheckCard: () => dispatch(showCheckCard()),\r\n\t\thideCheckCard: () => dispatch(hideCheckCard()),\r\n\t\tshowEmployeeWorkLog: (id) => dispatch(showEmployeeWorkLog(id)),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(CheckCard);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button, Form, Row, Col } from \"react-bootstrap\";\r\nimport BoostrapDatePicker from \"./BoostrapDatePicker\";\r\n\r\nimport { showCommentEmployee, hideCommentEmployee } from \"../actions/employeeActions\";\r\n\r\nimport { storeUpdateEmployee, addEmployeeComment } from \"../utils/employeeUtils\";\r\n\r\nclass CommentEmployee extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.initialState = {\r\n\t\t\tcomment: {\r\n\t\t\t\ttext: \"\",\r\n\t\t\t\texpires: new Date(),\r\n\t\t\t\tmanualDelete: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\t...this.initialState\r\n\t\t}\r\n\t}\r\n\r\n\tonExited = () => {\r\n\t\tthis.props.hideCommentEmployee();\r\n\t\tthis.setState({\r\n\t\t\t...this.initialState\r\n\t\t});\r\n\t}\r\n\r\n\tonCommentChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\tcomment: {\r\n\t\t\t\t...this.state.comment,\r\n\t\t\t\ttext: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonExpiryDateChange = (date) => {\r\n\t\tthis.setState({\r\n\t\t\tcomment: {\r\n\t\t\t\t...this.state.comment,\r\n\t\t\t\texpires: date\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonManualDeleteChange = () => {\r\n\t\tthis.setState({ \r\n\t\t\tcomment: {\r\n\t\t\t\t...this.state.comment,\r\n\t\t\t\tmanualDelete: !this.state.comment.manualDelete\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tshow={this.props.commentEmployee.show}\r\n\t\t\t\tonExited={() => this.onExited()}\r\n\t\t\t\tonHide={() => this.props.hideCommentEmployee()}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>{this.props.employee.name + \" \" + this.props.employee.surname}</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t<Form.Label column xs={2}>Komentārs</Form.Label>\r\n\t\t\t\t\t\t<Col xs={10}>\r\n\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\tas=\"textarea\"\r\n\t\t\t\t\t\t\t\trows=\"3\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.comment.text}\r\n\t\t\t\t\t\t\t\tonChange={this.onCommentChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t<Form.Label column xs={2}>Dzēst</Form.Label>\r\n\t\t\t\t\t\t<Col xs={10}>\r\n\t\t\t\t\t\t\t<BoostrapDatePicker\r\n\t\t\t\t\t\t\t\tdisabled={this.state.comment.manualDelete}\r\n\t\t\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy. HH:mm\"\r\n\t\t\t\t\t\t\t\tselected={this.state.comment.expires}\r\n\t\t\t\t\t\t\t\tonChange={this.onExpiryDateChange}\r\n\t\t\t\t\t\t\t\tmaxDate={new Date()}\r\n\t\t\t\t\t\t\t\ttimeIntervals={1}\r\n\t\t\t\t\t\t\t\tshowTimeSelect\r\n\t\t\t\t\t\t\t\ttimeFormat=\"HH:mm\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\tlabel=\"Tikai manuāli dzēšams\"\r\n\t\t\t\t\t\t\tname=\"manualDelete\"\r\n\t\t\t\t\t\t\tchecked={this.state.comment.manualDelete}\r\n\t\t\t\t\t\t\tonChange={this.onManualDeleteChange}/>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"success\" onClick={() => {\r\n\t\t\t\t\t\tconst employeeId = this.props.employee.id;\r\n\t\t\t\t\t\taddEmployeeComment(this.props.employee, this.state.comment).then(() => {\r\n\t\t\t\t\t\t\tstoreUpdateEmployee(employeeId);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.props.hideCommentEmployee();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\tPievienot\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tcommentEmployee: state.employees.commentEmployee,\r\n\t\temployee: state.employees.commentEmployee.employee,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowCommentEmployee: () => dispatch(showCommentEmployee()),\r\n\t\thideCommentEmployee: () => dispatch(hideCommentEmployee()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(CommentEmployee);\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nimport { Route, BrowserRouter as Router, Switch } from \"react-router-dom\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { Container, Row, Col, Navbar, Nav, Spinner } from \"react-bootstrap\";\r\n\r\nimport { production, employeeUpdateInterval } from \"../utils/config\";\r\n\r\nimport Employees from \"./Employees\";\r\nimport Report from \"./Report\";\r\nimport RegisterEmployee from \"./RegisterEmployee\";\r\nimport NotFound from \"./NotFound\";\r\nimport ViewEmployee from \"./ViewEmployee\";\r\nimport DeleteEmployee from \"./DeleteEmployee\";\r\nimport EditEmployee from \"./EditEmployee\";\r\nimport ExportExcel from \"./ExportExcel\";\r\nimport LogIn from \"./LogIn\";\r\nimport CheckCard from \"./CheckCard\";\r\nimport CommentEmployee from \"./CommentEmployee\";\r\n\r\nimport { checkSession, logOut, getUserByKey } from \"../utils/userUtils\";\r\nimport { pingServer } from \"../utils/commonUtils\";\r\nimport { storeUpdateEmployees, cardScanned } from \"../utils/employeeUtils\";\r\n\r\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\r\nimport \"../styles/table.css\";\r\n\r\nimport logo from \"../images/logo.png\";\r\nimport { FiLogOut } from \"react-icons/fi\";\r\n\r\nclass App extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\tpingInterval: null,\r\n\t\t\tserverConnectionEstablished: false,\r\n\t\t\tscannerConnectionEstablished: false,\r\n\t\t\tloading: true,\r\n\t\t\tauthenticated: false,\r\n\t\t\tuser: {\r\n\t\t\t\tusername: \"\"\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\twindow.scanCard = cardScanned;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t// Check user session before displaying anything\r\n\t\tthis.establishConnection();\r\n\t\tthis.setState({ \r\n\t\t\tpingInterval: setInterval(() => {\r\n\t\t\t\tthis.establishConnection();\r\n\t\t\t}, 1000)\r\n\t\t});\r\n\t}\r\n\r\n\testablishConnection = () => {\r\n\t\tpingServer().then((res) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tserverConnectionEstablished: res.data.server,\r\n\t\t\t\tscannerConnectionEstablished: res.data.scanner,\r\n\t\t\t}, () => {\r\n\t\t\t\tcheckSession().then((res) => {\r\n\t\t\t\t\tif(!production\r\n\t\t\t\t\t\t|| (this.state.serverConnectionEstablished === true\r\n\t\t\t\t\t\t&& this.state.scannerConnectionEstablished === true)) {\r\n\t\t\t\t\t\tclearInterval(this.state.pingInterval);\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\t\tauthenticated: res.data,\r\n\t\t\t\t\t\t}, () => {\r\n\t\t\t\t\t\t\tif(this.state.authenticated) {\r\n\t\t\t\t\t\t\t\tthis.onAuthentification();\r\n\t\t\t\t\t\t\t\tgetUserByKey().then((res) => {\r\n\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\tuser: res.data,\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\t\r\n\tonAuthentification = () => {\r\n\t\tstoreUpdateEmployees();\r\n\t\tsetInterval(() => {\r\n\t\t\tstoreUpdateEmployees();\r\n\t\t}, employeeUpdateInterval);\r\n\t}\r\n\r\n\tlogOut = () => {\r\n\t\tlogOut();\r\n\t\twindow.location.reload();\r\n\t}\r\n\r\n\trender() {\r\n\t\tif(this.state.loading) {\r\n\t\t\t// Loading screen\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<Spinner animation=\"border\"/>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.serverConnectionEstablished\r\n\t\t\t\t\t\t? \tthis.state.scannerConnectionEstablished\r\n\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t: <div>Veido savienojumu ar NFC skeneri...</div>\r\n\t\t\t\t\t\t: <div>Veido savienojumu ar serveri...</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tif(this.state.authenticated) {\r\n\t\t\t\t// User interface\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Router>\r\n\t\t\t\t\t\t<Container fluid={true}>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Navbar bg=\"dark\" variant=\"dark\" fixed=\"top\" expand=\"md\">\r\n\t\t\t\t\t\t\t\t\t\t<Navbar.Brand>\r\n\t\t\t\t\t\t\t\t\t\t\t<img \r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={logo}\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth=\"30\"\r\n\t\t\t\t\t\t\t\t\t\t\t\theight=\"30\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline-block align-top\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t{\" VĀRPAS 1\"}\r\n\t\t\t\t\t\t\t\t\t\t</Navbar.Brand>\r\n\t\t\t\t\t\t\t\t\t\t<Navbar.Toggle aria-controls=\"responsive-navbar-nav\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Navbar.Collapse id=\"responsive-navbar-nav\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Nav className=\"mr-auto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LinkContainer exact={true} to=\"/\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Nav.Link>Darbinieki</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LinkContainer exact={true} to=\"/report\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Nav.Link>Atskaites</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t\t\t\t\t\t<Nav>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Navbar.Text className=\"ml-md-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<u>{this.state.user.username}</u>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Navbar.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Nav.Link className=\"ml-md-2\" onClick={this.logOut}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tIziet\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FiLogOut className=\"ml-1\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t\t\t\t\t\t</Navbar>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t\t\t<Route exact path=\"/\" component={Employees} />\r\n\t\t\t\t\t\t\t\t\t\t<Route exact path=\"/report\" component={Report} />\r\n\t\t\t\t\t\t\t\t\t\t<Route component={NotFound} />\r\n\t\t\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t\t\t<ViewEmployee/>\r\n\t\t\t\t\t\t\t\t\t<RegisterEmployee/>\r\n\t\t\t\t\t\t\t\t\t<DeleteEmployee/>\r\n\t\t\t\t\t\t\t\t\t<EditEmployee/>\r\n\t\t\t\t\t\t\t\t\t<ExportExcel/>\r\n\t\t\t\t\t\t\t\t\t<CheckCard/>\r\n\t\t\t\t\t\t\t\t\t<CommentEmployee/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col className=\"footer\">\r\n\t\t\t\t\t\t\t\t\tVārpas 1 © 2019\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t</Router>\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\t// User Log In\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<LogIn/>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === \"localhost\" ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === \"[::1]\" ||\r\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(\r\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n\t\t)\r\n);\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won\"t work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twindow.addEventListener(\"load\", () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let\"s check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\"This web app is being served cache-first by a service \" +\r\n\t\t\t\t\t\t\t\"worker. To learn more, visit http://bit.ly/CRA-PWA\"\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing;\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === \"installed\") {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t\"New content is available and will be used when all \" +\r\n\t\t\t\t\t\t\t\t\t\"tabs for this page are closed. See http://bit.ly/CRA-PWA.\"\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It\"s the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log(\"Content is cached for offline use.\");\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error(\"Error during service worker registration:\", error);\r\n\t\t});\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can\"t reload the page.\r\n\tfetch(swUrl)\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get(\"content-type\");\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t\"No internet connection found. App is running in offline mode.\"\r\n\t\t\t);\r\n\t\t});\r\n}\r\n\r\nexport function unregister() {\r\n\tif (\"serviceWorker\" in navigator) {\r\n\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\tregistration.unregister();\r\n\t\t});\r\n\t}\r\n}\r\n","import React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./styles/index.css\";\r\nimport App from \"./components/App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nimport store from \"./store/store\";\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<App />\r\n\t</Provider>,\r\ndocument.getElementById(\"root\"));\r\n\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.96ebfbf9.png\";"],"sourceRoot":""}