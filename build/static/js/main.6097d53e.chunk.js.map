{"version":3,"sources":["utils/config.js","components/ContainerBox.js","actions/employeeActions.js","actions/actionTypes.js","store/initialState.js","reducers/index.js","reducers/employeeReducer.js","store/store.js","utils/logTypes.js","utils/employeeUtils.js","components/Commands.js","components/BoostrapDatePicker.js","utils/userUtils.js","components/Filters.js","utils/commonUtils.js","components/Employees.js","components/Report.js","components/RegisterEmployee.js","components/NotFound.js","components/ViewEmployee.js","components/DeleteEmployee.js","components/EditEmployee.js","components/ExportExcel.js","components/LogIn.js","components/CheckCard.js","components/CommentEmployee.js","components/ScheduleCell.js","components/Schedule.js","components/History.js","components/ProcessNotification.js","components/Notifications.js","components/App.js","serviceWorker.js","index.js","images/logo.png"],"names":["production","process","serverURL","employeeUpdateInterval","workLogUpdateInterval","request","axios","create","baseURL","withCredentials","ContainerBox","props","react_default","a","createElement","className","header","children","updateUser","user","type","payload","showEmployeeWorkLog","employee","hideEmployeeWorkLog","showDeleteEmployee","hideDeleteEmployee","showEditEmployee","hideEditEmployee","showRegisterEmployee","hideRegisterEmployee","showExportExcel","hideExportExcel","showCheckCard","hideCheckCard","showCommentEmployee","hideCommentEmployee","updateNotifications","data","showNotifications","hideNotifications","showProcessNotification","justified","hideProcessNotification","showHistory","hideHistory","initialState","employees","employeeWorkLog","show","id","deleteEmployee","editEmployee","registerEmployee","exportExcel","checkCard","commentEmployee","notifications","processNotification","notification","processedNotification","history","rootReducer","combineReducers","state","arguments","length","undefined","action","Object","objectSpread","toConsumableArray","map","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","LOG_EDIT_WORK_LOG","LOG_SET_WORKING","LOG_SET_NOT_WORKING","LOG_EDIT_EMPLOYEE","LOG_ADD_EMPLOYEE","storeUpdateEmployees","getServerEmployees","then","res","dispatch","storeUpdateEmployee","getServerEmployee","post","getNotifications","addNotification","updateNotification","getSchedules","month","saveSchedules","schedules","getServerEmployeeWorkLog","order","getServerEmployeeWorkLogFromTo","from","to","deleteServerWorkLog","working","employeeId","editServerWorkLog","workLogId","startDate","endDate","prevWorkLog","JSON","stringify","start_time","end_time","console","log","LOG_TYPE","getState","username","addServerEmployee","deleteServerEmployee","exportServerEmployees","settings","get","responseType","cardScanned","uid","admin","getEmployeeByUID","setEmployeeUID","removeEmployeeUID","awaitCard","CommandButton","forwardRef","ref","Button","variant","onClick","index_esm","connect","Row","Col","xs","Dropdown","Toggle","as","Menu","flip","alignRight","Item","eventKey","archived","height","width","active","OverlayTrigger","placement","overlay","Tooltip","BoostrapDatePicker","react_datepicker_min_default","assign","customInput","Form","Control","locale","en","initialSettings","showFilters","showArchive","showInactive","showWorking","showNotWorking","nameFilter","positionFilter","companyFilter","pageSize","checkSession","authenticate","password","rememberMe","logOut","getUserByKey","Filters","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","saveSettings","cookies","Cookies","showScheduleUnchecked","set","onFilterChange","filterData","tableData","applyNameFilter","applyPositionFilter","applyCompanyFilter","applyCheckboxFilters","checkboxFilter","onDataFiltered","filter","row","name","surname","toString","toLowerCase","indexOf","company","position","scheduleFilters","checked","onToggleFilters","setState","onToggleArchive","onToggleInactive","onToggleShowWorking","onToggleShowNotWorking","onToggleShowScheduleUnchecked","onChangeNameFilter","e","target","value","onChangePositionFilter","onChangeCompanyFilter","onChangeDateStart","date","startOfDay","Date","setHours","onChangeDateEnd","endOfDay","onClickFilter","index","yesterday","setDate","getDate","last7Days","last30Days","dropdown","currentFilter","filters","clearAllFilters","prevProps","prevState","_this2","dateFilter","Fragment","Group","Label","column","components_BoostrapDatePicker","dateFormat","selected","onChange","maxDate","minDate","DropdownButton","title","key","Collapse","in","Check","label","placeholder","Text","React","PureComponent","pingServer","addZero","i","millisecondConverter","ms","seconds","Math","floor","minutes","hours","formatDate","dateObj","formatted","getMonth","getFullYear","getHours","getMinutes","daysInMonth","year","isWeekend","day","getDay","convertSpecialCharacters","string","special","normal","output","letter","toUpperCase","charAt","Employees","onTableChange","formatTable","callback","workLogFrom","workLogTo","promise","workLogToday","workLog","forEach","getTime","push","comments","today","workLogs","commands","Promise","all","workLogUserId","showWorkLogModal","companyFormatter","cell","style","maxWidth","columns","dataField","text","sort","classes","headerClasses","sortFunc","b","formatter","commentBorderStyle","borderBottom","comment","size","commentId","Badge","fontSize","color","trigger","rootClose","Popover","aData","bData","badges","totalWorkTime","totalWorkTimeConverted","workTime","workTimeConverted","workTimeStartFormatted","workTimeEndFormatted","workTimeFormatted","totalWorkTimeFormatted","borderTop","components_Commands","pagination","paginationFactory","page","alwaysShowAllBtns","showTotal","sizePerPage","sizePerPageRenderer","_ref","options","onSizePerPageChange","currSizePerPage","option","onClickPageSize","sizePerPageList","components_ContainerBox","components_Filters","react_bootstrap_table_next_lib_default","bootstrap4","keyField","bordered","hover","defaultSorted","remote","rowStyle","backgroundColor","Component","startDateFormatted","endDateFormatted","displayOneDay","REGISTER_STATE","DATA_INPUT","RFID_WAIT","COMPLETE","RegisterEmployee","onNameChange","event","onSurnameChange","onCompanyChange","onPositionChange","onNumberChange","number","onPersonalCodeChange","personalCode","onAddCardChange","addCard","onFormSubmit","preventDefault","stopPropagation","registrationState","hideRegisterEmployeeAndDelete","newEmployee","onExited","checkInterval","Modal","onHide","onExit","deleteAndCancel","onSubmit","Header","closeButton","Title","Body","required","disabled","controlId","Alert","onClose","Footer","Buttons","NotFound","ViewEmployee","fetchWorkLog","clearInterval","updateInterval","setInterval","editWorkLog","handleDateChangeStart","handleDateChangeEnd","deleteWorkLog","confirmEditWorkLog","find","cancelEditWorkLog","onStartDateChange","onEndDateChange","results","filterResults","lastStartDate","totalDayWorkTime","totalDays","workLogFiltered","startTimePure","stillWorking","endTimePure","startTimeFormatted","endTimeFormatted","employee_id","workRow","timeIntervals","showTimeSelect","timeFormat","dateRow","totalDayRow","totalRow","dateFormatted","nextStartDate","totalDayWorkTimeConverted","totalDayWorkTimeFormatted","fromDateFormatted","toDateFormatted","colSpan","Table","DeleteEmployee","CHANGE_CARD_STATE","OFF","DELETED","EditEmployee","onEnter","changeCard","status","uid_added","deleteCard","uidAddedDate","uidAdded","ExportExcel","handleDateChange","onToggleIncludeNoHours","includeNoHours","onToggleIncludeInactive","includeInactive","onToggleIncludeArchived","includeArchived","onEmployeeCheck","newList","employeeList","onCheckAll","checkAll","export","response","content","headers","download","showMonthYearPicker","DEBUG","LogIn","onUsernameChange","onPasswordChange","onRememberMeChange","logIn","location","reload","authenticationError","centered","src","logo","alt","CheckCard","res2","hideModal","notFound","onEntered","CommentEmployee","onCommentChange","onExpiryDateChange","expires","onManualDeleteChange","manualDelete","rows","ScheduleCell","transparentColor","dayColor","nightColor","dayOffColor","vacationColor","sickListColor","lateColor","nextProps","nextState","selectedFields","selectedField","rowIndex","extraData","colIndex","schedule","days","_this3","outline","onClickScheduleInput","scheduleIndex","onFocus","onFocusScheduleInput","onChangeScheduleInput","fetchSchedules","scheduleDate","newSchedules","Array","fill","parse","checkEmptySchedules","isKeyDown","keyDown","saving","onChangeScheduleDate","includes","parseInt","weekendColor","headerStyle","select","start","end","min","max","i2","replace","cellRefs","createEmptySchedule","newDays","nameFormatter","dayFormatter","components_ScheduleCell","_ref2","uncheckedEmployees","hidden","formatExtraData","addEventListener","keyCode","condensed","History","notificationData","logTypeTranslated","formatTime","dateParsed","dateObject","getSeconds","displayHistory","onChangeNotificationDate","notificationDate","ProcessNotification","newData","processed","parsedSchedules","employeeScheduleIndex","findIndex","dateIndex","Notifications","processHistoryNotifications","processedNotifications","historyNotifications","notificationType","notificationStatuss","table","processNotifications","showedUp","showedUpDate","fromDate","toDate","workLogDate","onShow","components_ProcessNotification","dayClassName","App","establishConnection","serverConnectionEstablished","server","scannerConnectionEstablished","scanner","pingInterval","loading","authenticated","onAuthentification","scanCard","Spinner","animation","unreadNotifications","BrowserRouter","Container","fluid","Navbar","bg","fixed","expand","Brand","aria-controls","Nav","lib","exact","Link","right","top","textAlign","lineHeight","borderRadius","Switch","Route","path","component","Report","Schedule","components_ViewEmployee","components_RegisterEmployee","components_DeleteEmployee","components_EditEmployee","components_ExportExcel","components_CheckCard","components_CommentEmployee","components_History","components_Notifications","components_LogIn","Boolean","hostname","match","ReactDOM","render","es","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.6097d53e.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const production = process.env.NODE_ENV === \"production\";\r\n\r\nexport const serverURL = production\r\n\t? \"http://192.168.1.150:8080\"\r\n\t: \"http://localhost:8080\";\r\nexport const employeeUpdateInterval = 10000;\r\nexport const workLogUpdateInterval = 10000;\r\n\r\nexport const request = axios.create({\r\n\tbaseURL: serverURL,\r\n\twithCredentials: true,\r\n});\r\n","import React from \"react\";\r\n\r\nconst ContainerBox = (props) => {\r\n\treturn (\r\n\t\t<div className=\"container-box\">\r\n\t\t\t<div className=\"container-box-header\">\r\n\t\t\t\t{props.header}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"container-box-body\">\r\n\t\t\t\t{props.children}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ContainerBox;\r\n","import { \r\n\tUPDATE_USER,\r\n\tUPDATE_EMPLOYEES,\r\n\tUPDATE_EMPLOYEE,\r\n\tSHOW_DELETE_EMPLOYEE, \r\n\tHIDE_DELETE_EMPLOYEE, \r\n\tSHOW_EDIT_EMPLOYEE, \r\n\tHIDE_EDIT_EMPLOYEE,\r\n\tSHOW_REGISTER_EMPLOYEE,\r\n\tHIDE_REGISTER_EMPLOYEE,\r\n\tSHOW_EXPORT_EXCEL,\r\n\tHIDE_EXPORT_EXCEL,\r\n\tSHOW_CHECK_CARD,\r\n\tHIDE_CHECK_CARD,\r\n\tSHOW_EMPLOYEE_WORK_LOG,\r\n\tHIDE_EMPLOYEE_WORK_LOG,\r\n\tSHOW_COMMENT_EMPLOYEE,\r\n\tHIDE_COMMENT_EMPLOYEE,\r\n\tUPDATE_NOTIFICATIONS,\r\n\tSHOW_NOTIFICATIONS,\r\n\tHIDE_NOTIFICATIONS,\r\n\tSHOW_PROCESS_NOTIFICATION,\r\n\tHIDE_PROCESS_NOTIFICATION,\r\n\tSHOW_PROCESSED_NOTIFICATIONS,\r\n\tHIDE_PROCESSED_NOTIFICATIONS,\r\n\tSHOW_HISTORY,\r\n\tHIDE_HISTORY,\r\n} from \"./actionTypes\";\r\n\r\n\r\nexport const updateUser = (user) => {\r\n\treturn {\r\n\t\ttype: UPDATE_USER,\r\n\t\tpayload: user,\r\n\t}\r\n}\r\n\r\nexport const updateEmployees = (employees) => {\r\n\treturn {\r\n\t\ttype: UPDATE_EMPLOYEES,\r\n\t\tpayload: employees,\r\n\t}\r\n}\r\n\r\nexport const updateEmployee = (employee) => {\r\n\treturn {\r\n\t\ttype: UPDATE_EMPLOYEE,\r\n\t\tpayload: employee,\r\n\t}\r\n}\r\n\r\nexport const showEmployeeWorkLog = (employee) => {\r\n\treturn {\r\n\t\ttype: SHOW_EMPLOYEE_WORK_LOG,\r\n\t\tpayload: employee,\r\n\t}\r\n}\r\n\r\nexport const hideEmployeeWorkLog = () => {\r\n\treturn {\r\n\t\ttype: HIDE_EMPLOYEE_WORK_LOG,\r\n\t}\r\n}\r\n\r\nexport const showDeleteEmployee = (employee) => {\r\n\treturn {\r\n\t\ttype: SHOW_DELETE_EMPLOYEE,\r\n\t\tpayload: employee,\r\n\t}\r\n}\r\n\r\nexport const hideDeleteEmployee = () => {\r\n\treturn {\r\n\t\ttype: HIDE_DELETE_EMPLOYEE,\r\n\t}\r\n}\r\n\r\nexport const showEditEmployee = (employee) => {\r\n\treturn {\r\n\t\ttype: SHOW_EDIT_EMPLOYEE,\r\n\t\tpayload: employee,\r\n\t}\r\n}\r\n\r\nexport const hideEditEmployee = () => {\r\n\treturn {\r\n\t\ttype: HIDE_EDIT_EMPLOYEE,\r\n\t}\r\n}\r\n\r\nexport const showRegisterEmployee = () => {\r\n\treturn {\r\n\t\ttype: SHOW_REGISTER_EMPLOYEE,\r\n\t}\r\n}\r\n\r\nexport const hideRegisterEmployee = () => {\r\n\treturn {\r\n\t\ttype: HIDE_REGISTER_EMPLOYEE,\r\n\t}\r\n}\r\n\r\nexport const showExportExcel = () => {\r\n\treturn {\r\n\t\ttype: SHOW_EXPORT_EXCEL,\r\n\t}\r\n}\r\n\r\nexport const hideExportExcel = () => {\r\n\treturn {\r\n\t\ttype: HIDE_EXPORT_EXCEL,\r\n\t}\r\n}\r\n\r\nexport const showCheckCard = () => {\r\n\treturn {\r\n\t\ttype: SHOW_CHECK_CARD,\r\n\t}\r\n}\r\n\r\nexport const hideCheckCard = () => {\r\n\treturn {\r\n\t\ttype: HIDE_CHECK_CARD,\r\n\t}\r\n}\r\n\r\nexport const showCommentEmployee = (employee) => {\r\n\treturn {\r\n\t\ttype: SHOW_COMMENT_EMPLOYEE,\r\n\t\tpayload: employee,\r\n\t}\r\n}\r\n\r\nexport const hideCommentEmployee = () => {\r\n\treturn {\r\n\t\ttype: HIDE_COMMENT_EMPLOYEE,\r\n\t}\r\n}\r\n\r\nexport const updateNotifications = (data) => {\r\n\treturn {\r\n\t\ttype: UPDATE_NOTIFICATIONS,\r\n\t\tpayload: data,\r\n\t}\r\n}\r\n\r\nexport const showNotifications = () => {\r\n\treturn {\r\n\t\ttype: SHOW_NOTIFICATIONS,\r\n\t}\r\n}\r\n\r\nexport const hideNotifications = () => {\r\n\treturn {\r\n\t\ttype: HIDE_NOTIFICATIONS,\r\n\t}\r\n}\r\n\r\nexport const showProcessNotification = (data, justified) => {\r\n\treturn {\r\n\t\ttype: SHOW_PROCESS_NOTIFICATION,\r\n\t\tpayload: data,\r\n\t\tjustified,\r\n\t}\r\n}\r\n\r\nexport const hideProcessNotification  = () => {\r\n\treturn {\r\n\t\ttype: HIDE_PROCESS_NOTIFICATION,\r\n\t}\r\n}\r\n\r\nexport const showHistory = () => {\r\n\treturn {\r\n\t\ttype: SHOW_HISTORY,\r\n\t}\r\n}\r\n\r\nexport const hideHistory = () => {\r\n\treturn {\r\n\t\ttype: HIDE_HISTORY,\r\n\t}\r\n}\r\n","export const UPDATE_USER = \"UPDATE_USER\";\r\n\r\nexport const UPDATE_EMPLOYEES = \"UPDATE_EMPLOYEES\";\r\nexport const UPDATE_EMPLOYEE = \"UPDATE_EMPLOYEE\";\r\n\r\nexport const SHOW_EMPLOYEE_WORK_LOG = \"SHOW_EMPLOYEE_WORK_LOG\";\r\nexport const HIDE_EMPLOYEE_WORK_LOG = \"HIDE_EMPLOYEE_WORK_LOG\";\r\n\r\nexport const SHOW_DELETE_EMPLOYEE = \"SHOW_DELETE_EMPLOYEE\";\r\nexport const HIDE_DELETE_EMPLOYEE = \"HIDE_DELETE_EMPLOYEE\";\r\n\r\nexport const SHOW_EDIT_EMPLOYEE = \"SHOW_EDIT_EMPLOYEE\";\r\nexport const HIDE_EDIT_EMPLOYEE = \"HIDE_EDIT_EMPLOYEE\";\r\n\r\nexport const SHOW_REGISTER_EMPLOYEE = \"SHOW_REGISTER_EMPLOYEE\";\r\nexport const HIDE_REGISTER_EMPLOYEE = \"HIDE_REGISTER_EMPLOYEE\";\r\n\r\nexport const SHOW_EXPORT_EXCEL = \"SHOW_EXPORT_EXCEL\";\r\nexport const HIDE_EXPORT_EXCEL = \"HIDE_EXPORT_EXCEL\";\r\n\r\nexport const SHOW_CHECK_CARD = \"SHOW_CHECK_CARD\";\r\nexport const HIDE_CHECK_CARD = \"HIDE_CHECK_CARD\";\r\n\r\nexport const SHOW_COMMENT_EMPLOYEE = \"SHOW_COMMENT_EMPLOYEE\";\r\nexport const HIDE_COMMENT_EMPLOYEE = \"HIDE_COMMENT_EMPLOYEE\";\r\n\r\nexport const UPDATE_NOTIFICATIONS = \"UPDATE_NOTIFICATIONS\";\r\n\r\nexport const SHOW_NOTIFICATIONS = \"SHOW_NOTIFICATIONS\";\r\nexport const HIDE_NOTIFICATIONS = \"HIDE_NOTIFICATIONS\";\r\n\r\nexport const SHOW_PROCESS_NOTIFICATION = \"SHOW_PROCESS_NOTIFICATION\";\r\nexport const HIDE_PROCESS_NOTIFICATION = \"HIDE_PROCESS_NOTIFICATION\";\r\n\r\nexport const SHOW_HISTORY = \"SHOW_HISTORY\";\r\nexport const HIDE_HISTORY = \"HIDE_HISTORY\";\r\n","const initialState = {\r\n\tuser: null,\r\n\temployees: [],\r\n\temployeeWorkLog: {\r\n\t\tshow: false,\r\n\t\tid: null,\r\n\t},\r\n\tdeleteEmployee: {\r\n\t\tshow: false,\r\n\t\temployee: {},\r\n\t},\r\n\teditEmployee: {\r\n\t\tshow: false,\r\n\t\temployee: {},\r\n\t},\r\n\tregisterEmployee: {\r\n\t\tshow: false,\r\n\t},\r\n\texportExcel: {\r\n\t\tshow: false,\r\n\t},\r\n\tcheckCard: {\r\n\t\tshow: false,\r\n\t},\r\n\tcommentEmployee: {\r\n\t\tshow: false,\r\n\t\temployee: {},\r\n\t},\r\n\tnotifications: {\r\n\t\tshow: false,\r\n\t\tnotifications: [],\r\n\t},\r\n\tprocessNotification: {\r\n\t\tshow: false,\r\n\t\tnotification: null,\r\n\t\tjustified: false,\r\n\t},\r\n\tprocessedNotification: {\r\n\t\tshow: false,\r\n\t\tnotifications: [],\r\n\t},\r\n\thistory: {\r\n\t\tshow: false,\r\n\t},\r\n};\r\n\r\nexport default initialState;\r\n","import { combineReducers } from 'redux';\r\n\r\nimport { employees } from './employeeReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n\temployees: employees,\r\n});\r\n\r\nexport default rootReducer;","import initialState from \"../store/initialState\";\r\n\r\nimport {\r\n\tUPDATE_USER,\r\n\tUPDATE_EMPLOYEES,\r\n\tUPDATE_EMPLOYEE,\r\n\tSHOW_DELETE_EMPLOYEE, \r\n\tHIDE_DELETE_EMPLOYEE, \r\n\tSHOW_EDIT_EMPLOYEE, \r\n\tHIDE_EDIT_EMPLOYEE,\r\n\tSHOW_REGISTER_EMPLOYEE,\r\n\tHIDE_REGISTER_EMPLOYEE,\r\n\tSHOW_EXPORT_EXCEL,\r\n\tHIDE_EXPORT_EXCEL,\r\n\tSHOW_CHECK_CARD,\r\n\tHIDE_CHECK_CARD,\r\n\tSHOW_EMPLOYEE_WORK_LOG,\r\n\tHIDE_EMPLOYEE_WORK_LOG,\r\n\tSHOW_COMMENT_EMPLOYEE,\r\n\tHIDE_COMMENT_EMPLOYEE,\r\n\tUPDATE_NOTIFICATIONS,\r\n\tSHOW_NOTIFICATIONS,\r\n\tHIDE_NOTIFICATIONS,\r\n\tSHOW_PROCESS_NOTIFICATION,\r\n\tHIDE_PROCESS_NOTIFICATION,\r\n\tSHOW_PROCESSED_NOTIFICATIONS,\r\n\tHIDE_PROCESSED_NOTIFICATIONS,\r\n\tSHOW_HISTORY,\r\n\tHIDE_HISTORY,\r\n} from '../actions/actionTypes';\r\n\r\nexport const employees = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_USER:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuser: action.payload,\r\n\t\t\t}\r\n\t\tcase UPDATE_EMPLOYEES:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\temployees: [...action.payload],\r\n\t\t\t}\r\n\t\tcase UPDATE_EMPLOYEE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\temployees: state.employees.map((employee) => {\r\n\t\t\t\t\treturn employee.id === action.payload.id\r\n\t\t\t\t\t? action.payload\r\n\t\t\t\t\t: employee\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SHOW_EMPLOYEE_WORK_LOG:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\temployeeWorkLog: {\r\n\t\t\t\t\t...state.employeeWorkLog,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\tid: action.payload,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_EMPLOYEE_WORK_LOG:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\temployeeWorkLog: {\r\n\t\t\t\t\t...state.employeeWorkLog,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\tid: null,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_DELETE_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdeleteEmployee: {\r\n\t\t\t\t\t...state.deleteEmployee,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\temployee: action.payload,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_DELETE_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdeleteEmployee: {\r\n\t\t\t\t\t...state.deleteEmployee,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\temployee: {},\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_EDIT_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditEmployee: {\r\n\t\t\t\t\t...state.editEmployee,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\temployee: action.payload,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_EDIT_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditEmployee: {\r\n\t\t\t\t\t...state.editEmployee,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\temployee: {},\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_REGISTER_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tregisterEmployee: {\r\n\t\t\t\t\t...state.registerEmployee,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_REGISTER_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tregisterEmployee: {\r\n\t\t\t\t\t...state.registerEmployee,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_EXPORT_EXCEL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\texportExcel: {\r\n\t\t\t\t\t...state.exportExcel,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_EXPORT_EXCEL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\texportExcel: {\r\n\t\t\t\t\t...state.exportExcel,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_CHECK_CARD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcheckCard: {\r\n\t\t\t\t\t...state.checkCard,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_CHECK_CARD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcheckCard: {\r\n\t\t\t\t\t...state.checkCard,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_COMMENT_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcommentEmployee: {\r\n\t\t\t\t\t...state.commentEmployee,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\temployee: action.payload,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_COMMENT_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcommentEmployee: {\r\n\t\t\t\t\t...state.commentEmployee,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\temployee: {},\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase UPDATE_NOTIFICATIONS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnotifications: {\r\n\t\t\t\t\t...state.notifications,\r\n\t\t\t\t\tnotifications: action.payload,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_NOTIFICATIONS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnotifications: {\r\n\t\t\t\t\t...state.notifications,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_NOTIFICATIONS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnotifications: {\r\n\t\t\t\t\t...state.notifications,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_PROCESS_NOTIFICATION:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprocessNotification: {\r\n\t\t\t\t\t...state.processNotification,\r\n\t\t\t\t\tnotification: action.payload,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\tjustified: action.justified,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_PROCESS_NOTIFICATION:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprocessNotification: {\r\n\t\t\t\t\t...state.processNotification,\r\n\t\t\t\t\tnotification: null,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_HISTORY:\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\thistory: {\r\n\t\t\t\t\t\t...state.history,\r\n\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\tcase HIDE_HISTORY:\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\thistory: {\r\n\t\t\t\t\t\t...state.history,\r\n\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import { createStore } from \"redux\";\r\nimport rootReducer from \"../reducers\";\r\n\r\nconst store = configureStore();\r\n\r\nfunction configureStore() {\r\n\treturn createStore(\r\n\t\trootReducer,\r\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\r\n\t);\r\n}\r\n\r\nexport default store;","export const LOG_EDIT_WORK_LOG = \"LOG_EDIT_WORK_LOG\";\r\nexport const LOG_SET_WORKING = \"LOG_SET_WORKING\";\r\nexport const LOG_SET_NOT_WORKING = \"LOG_SET_NOT_WORKING\";\r\nexport const LOG_EDIT_EMPLOYEE = \"LOG_EDIT_EMPLOYEE\";\r\nexport const LOG_ADD_EMPLOYEE = \"LOG_ADD_EMPLOYEE\";","import { request } from \"./config\";\r\nimport store from \"../store/store\";\r\nimport { updateEmployees, updateEmployee, updateNotifications } from \"../actions/employeeActions\";\r\nimport * as LOG_TYPE from \"../utils/logTypes\";\r\n\r\nexport const storeUpdateEmployees = () => {\r\n\treturn getServerEmployees().then((res) => {\r\n\t\tstore.dispatch(updateEmployees(res.data));\r\n\t});\r\n}\r\n\r\nexport const storeUpdateEmployee = (id) => {\r\n\treturn getServerEmployee(id).then((res) => {\r\n\t\tstore.dispatch(updateEmployee(res.data));\r\n\t});\r\n}\r\n\r\n// ------------ Server requests ------------\r\nexport const getServerEmployees = () => {\r\n\treturn request.post(\"/getEmployees\");\r\n}\r\n\r\nexport const getServerEmployee = (id) => {\r\n\treturn request.post(\"/getEmployee\", { \r\n\t\tid \r\n\t});\r\n}\r\n\r\nexport const getNotifications = () => {\r\n\treturn request.post(\"/getNotifications\");\r\n}\r\n\r\nwindow.addNotification = addNotification;\r\n\r\nexport const addNotification = (type, data) => {\r\n\treturn request.post(\"/addNotification\", { type, data }).then(() => {\r\n\t\tgetNotifications().then(res => {\r\n\t\t\tstore.dispatch(updateNotifications(res.data));\r\n\t\t})\r\n\t});\r\n}\r\n\r\nexport const updateNotification = (id, type, data) => {\r\n\treturn request.post(\"/updateNotification\", { id, type, data }).then(() => {\r\n\t\tgetNotifications().then(res => {\r\n\t\t\tstore.dispatch(updateNotifications(res.data));\r\n\t\t})\r\n\t});\r\n}\r\n\r\nexport const getSchedules = (month) => {\r\n\treturn request.post(\"/getSchedules\", {\r\n\t\tmonth\r\n\t});\r\n}\r\n\r\nexport const saveSchedules = (schedules) => {\r\n\treturn request.post(\"/saveSchedules\", {\r\n\t\tschedules\r\n\t});\r\n}\r\n\r\nexport const getServerEmployeeWorkLog = (id, order = \"DESC\") => {\r\n\treturn request.post(\"/getEmployeeWorkLog\", { \r\n\t\tid,\r\n\t\torder\r\n\t});\r\n}\r\n\r\nexport const getServerEmployeeWorkLogFromTo = (id, from, to) => {\r\n\treturn request.post(\"/getEmployeeWorkLogFromTo\", { \r\n\t\tid,\r\n\t\tfrom,\r\n\t\tto\r\n\t});\r\n}\r\n\r\nexport const deleteServerWorkLog = (id, working, employeeId) => {\r\n\treturn request.post(\"/deleteWorkLog\", { \r\n\t\tid,\r\n\t\tworking,\r\n\t\temployeeId,\r\n\t});\r\n}\r\n\r\nexport const editServerWorkLog = (workLogId, startDate, endDate, working, employeeId, prevWorkLog) => {\r\n\tconst from = {\r\n\t\tstartDate: JSON.stringify(prevWorkLog.start_time),\r\n\t\tendDate: JSON.stringify(prevWorkLog.end_time),\r\n\t}\r\n\r\n\tconst to = {\r\n\t\tstartDate: JSON.stringify(startDate),\r\n\t\tendDate: JSON.stringify(endDate),\r\n\t}\r\n\r\n\tconsole.log(from);\r\n\tconsole.log(to);\r\n\r\n\taddNotification(LOG_TYPE.LOG_EDIT_WORK_LOG, { \r\n\t\tuser: store.getState().employees.user.username, \r\n\t\tid: employeeId, \r\n\t\tstartDate,\r\n\t\tendDate,\r\n\t\tfrom,\r\n\t\tto});\r\n\r\n\tconsole.log(\"workLogId: \", workLogId);\r\n\treturn request.post(\"/editWorkLog\", { \r\n\t\tworkLogId,\r\n\t\tstartDate,\r\n\t\tendDate,\r\n\t\tworking,\r\n\t});\r\n}\r\n\r\nexport const addServerEmployee = (employee) => {\r\n\treturn request.post(\"/addEmployee\", {\r\n\t\temployee\r\n\t});\r\n}\r\n\r\nexport const setServerEmployeeWorking = (id, working) => {\r\n\tif(working) {\r\n\t\taddNotification(LOG_TYPE.LOG_SET_WORKING, { user: store.getState().employees.user.username, id });\r\n\t} else {\r\n\t\taddNotification(LOG_TYPE.LOG_SET_NOT_WORKING, { user: store.getState().employees.user.username, id });\r\n\t}\r\n\treturn request.post(\"/setEmployeeWorking\", {\r\n\t\tid, \r\n\t\tworking\r\n\t});\r\n}\r\n\r\nexport const setServerEmployeeArchived = (id, archived) => {\r\n\treturn request.post(\"/setArchivedEmployee\", {\r\n\t\tid, \r\n\t\tarchived\r\n\t});\r\n}\r\n\r\nexport const setServerEmployeeActive = (id, active) => {\r\n\treturn request.post(\"/setActiveEmployee\", {\r\n\t\tid, \r\n\t\tactive\r\n\t});\r\n}\r\n\r\nexport const deleteServerEmployee = (id) => {\r\n\treturn request.post(\"/deleteEmployee\", {\r\n\t\tid\r\n\t});\r\n}\r\n\r\nexport const editServerEmployee = (employee) => {\r\n\taddNotification(LOG_TYPE.LOG_EDIT_EMPLOYEE, { user: store.getState().employees.user.username, id: employee.id });\r\n\treturn request.post(\"/editEmployee\", {\r\n\t\temployee\r\n\t});\r\n}\r\n\r\nexport const exportServerEmployees = (settings) => {\r\n\treturn request.post(\"/export\", {\r\n\t\tsettings\r\n\t}).then(() => {\r\n\t\treturn request.get(\"/export\", {\r\n\t\t\tresponseType: \"blob\"\r\n\t\t})\r\n\t});\r\n}\r\n\r\nexport const addEmployeeComment = (employee, comment) => {\r\n\treturn request.post(\"/addEmployeeComment\", {\r\n\t\temployee,\r\n\t\tcomment,\r\n\t});\r\n}\r\n\r\nexport const getEmployeeComments = (id) => {\r\n\treturn request.post(\"/getEmployeeComments\", {\r\n\t\tid,\r\n\t});\r\n}\r\n\r\nexport const deleteEmployeeComment = (commentId) => {\r\n\treturn request.post(\"/deleteEmployeeComment\", {\r\n\t\tcommentId,\r\n\t});\r\n}\r\n\r\n// ------------ Card manipulation ------------\r\n\r\nexport const cardScanned = (uid) => {\r\n\treturn request.post(\"/cardScanned\", { \r\n\t\tuid: uid,\r\n\t\tadmin: 1,\r\n\t});\r\n}\r\n\r\nexport const getEmployeeByUID = (uid) => {\r\n\treturn request.post(\"/getEmployeeByUID\", {\r\n\t\tuid,\r\n\t});\r\n}\r\n\r\nexport const setEmployeeUID = (uid, id) => {\r\n\treturn request.post(\"/setEmployeeUID\", {\r\n\t\tuid,\r\n\t\tid\r\n\t});\r\n}\r\n\r\nexport const removeEmployeeUID = (id) => {\r\n\treturn request.post(\"/removeEmployeeUID\", {\r\n\t\tid\r\n\t});\r\n}\r\n\r\nexport const awaitCard = () => {\r\n\treturn request.post(\"/awaitCard\");\r\n}\r\n","import React, { forwardRef } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Button, Dropdown, Row, Col, Tooltip, OverlayTrigger} from \"react-bootstrap\";\r\n\r\nimport { \r\n\tshowDeleteEmployee,\r\n\tshowEditEmployee,\r\n\tshowCommentEmployee,\r\n} from \"../actions/employeeActions\";\r\n\r\nimport { \r\n\tsetServerEmployeeWorking, \r\n\tsetServerEmployeeArchived, \r\n\tsetServerEmployeeActive,\r\n\tstoreUpdateEmployee\r\n} from \"../utils/employeeUtils\";\r\n\r\nimport { FiMoreHorizontal, FiTrash, FiEdit,FiArchive, FiX,FiCheck } from \"react-icons/fi\";\r\n\r\nconst CommandButton = forwardRef((props, ref) => {\r\n\treturn <Button ref={ref} variant=\"link\" onClick={props.onClick}>\r\n\t\t<FiMoreHorizontal/>\r\n\t</Button>\r\n});\r\n\r\nconst Commands = (props) => {\r\n\treturn (\r\n\t\t<Row className=\"justify-content-end\">\r\n\t\t\t<Col xs=\"auto\" className=\"d-inline-block\">\r\n\t\t\t\t<Dropdown>\r\n\t\t\t\t\t<Dropdown.Toggle as={CommandButton}/>\r\n\t\t\t\t\t<Dropdown.Menu flip={true} alignRight={true}>\r\n\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\teventKey=\"1\"\r\n\t\t\t\t\t\t\tonClick={() => props.showEditEmployee(props.employee)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FiEdit className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\tRedit\r\n\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\teventKey=\"2\"\r\n\t\t\t\t\t\t\tonClick={() => setServerEmployeeArchived(props.employee.id, !props.employee.archived).then(() => {\r\n\t\t\t\t\t\t\t\tstoreUpdateEmployee(props.employee.id);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FiArchive height=\"100%\" width=\"auto\" className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\t{ props.employee.archived ? \"Izemt no arhva\" : \"Arhivt\" }\r\n\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\teventKey=\"3\"\r\n\t\t\t\t\t\t\tonClick={() => setServerEmployeeActive(props.employee.id, !props.employee.active).then(() => {\r\n\t\t\t\t\t\t\t\tstoreUpdateEmployee(props.employee.id);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\t\tprops.employee.active \r\n\t\t\t\t\t\t\t\t? <FiX height=\"100%\" width=\"auto\" className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\t\t: <FiCheck height=\"100%\" width=\"auto\" className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\t\tprops.employee.active \r\n\t\t\t\t\t\t\t\t? \"Deaktivizt\" \r\n\t\t\t\t\t\t\t\t: \"Aktivizt\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\teventKey=\"4\"\r\n\t\t\t\t\t\t\tonClick={() => props.showDeleteEmployee(props.employee)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FiTrash height=\"100%\" width=\"auto\" className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\tDzst\r\n\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\teventKey=\"5\"\r\n\t\t\t\t\t\t\tonClick={() => props.showCommentEmployee(props.employee)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FiEdit className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\tPievienot Komentru\r\n\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t</Dropdown>\r\n\t\t\t</Col>\r\n\t\t\t<Col xs=\"auto\" className=\"d-inline-block\">\r\n\t\t\t\t<OverlayTrigger\r\n\t\t\t\t\tplacement={\"top\"}\r\n\t\t\t\t\toverlay={\r\n\t\t\t\t\t\t<Tooltip>\r\n\t\t\t\t\t\t\tAtzmt k {props.employee.working ? \"izgjuu\" : \"ienkuu\"}\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={() => setServerEmployeeWorking(props.employee.id, !props.employee.working).then(() => {\r\n\t\t\t\t\t\t\tstoreUpdateEmployee(props.employee.id);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\tvariant={props.employee.working ? \"danger\" : \"success\"}\r\n\t\t\t\t\t>\r\n\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tprops.employee.working \r\n\t\t\t\t\t\t\t? <FiX/>\r\n\t\t\t\t\t\t\t: <FiCheck/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</OverlayTrigger>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n};\r\n\r\nfunction mapStateToProps() {\r\n\treturn {};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowDeleteEmployee: (employee) => dispatch(showDeleteEmployee(employee)),\r\n\t\tshowEditEmployee: (employee) => dispatch(showEditEmployee(employee)),\r\n\t\tshowCommentEmployee: (employee) => dispatch(showCommentEmployee(employee)),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Commands);\r\n","import React from \"react\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport en from 'date-fns/locale/en-GB';\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nconst BoostrapDatePicker = (props) => {\r\n    return (\r\n        <div className={props.className}>\r\n            <DatePicker\r\n                className=\"text-center\"\r\n                customInput={<Form.Control/>}\r\n                locale={en}\r\n                {...props}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default BoostrapDatePicker;\r\n","import { request } from \"./config\";\r\n\r\nexport const initialSettings = {\r\n\tshowFilters: false,\r\n\tshowArchive: false,\r\n\tshowInactive: false,\r\n\tshowWorking: false,\r\n\tshowNotWorking: false,\r\n\tnameFilter: \"\",\r\n\tpositionFilter: \"\",\r\n\tcompanyFilter: \"\",\r\n\tpageSize: 10,\r\n}\r\n\r\nexport const checkSession = () => {\r\n\treturn request.post(\"/checkSession\");\r\n}\r\n\r\nexport const authenticate = (username, password, rememberMe) => {\r\n\treturn request.post(\"/authenticate\", {\r\n\t\tusername,\r\n\t\tpassword,\r\n\t\trememberMe\r\n\t});\r\n}\r\n\r\nexport const logOut = () => {\r\n\treturn request.post(\"/logOut\");\r\n}\r\n\r\nexport const getUserByUsername = (username) => {\r\n\treturn request.post(\"/getUserByUsername\", {\r\n\t\tusername\r\n\t});\r\n}\r\n\r\nexport const getUserByKey = () => {\r\n\treturn request.post(\"/getUserByKey\");\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Cookies from \"universal-cookie\";\r\n\r\nimport { Form, Button, Collapse, Row, Col, Dropdown, DropdownButton } from \"react-bootstrap\";\r\nimport BoostrapDatePicker from \"./BoostrapDatePicker\";\r\n\r\nimport {\r\n\tshowRegisterEmployee,\r\n\tshowExportExcel,\r\n\tshowCheckCard\r\n} from \"../actions/employeeActions\";\r\n\r\nimport { initialSettings } from \"../utils/userUtils\";\r\n\r\nimport { FiMinimize2, FiMaximize2 } from \"react-icons/fi\";\r\n\r\nclass Filters extends React.PureComponent {\r\n    constructor() {\r\n        super();\r\n\r\n        const cookies = new Cookies();\r\n        let settings = cookies.get(\"settings\");\r\n        \r\n        const startDate = new Date();\r\n        startDate.setHours(0,0,0);\r\n\r\n        const endDate = new Date();\r\n        endDate.setHours(23,59,59);\r\n\r\n        this.state = {\r\n            ...initialSettings,\r\n            ...settings,\r\n\t\t\tdropdown: {\r\n\t\t\t\tcurrentFilter: \"odiena\",\r\n\t\t\t\tfilters: [\"odiena\", \"Vakardiena\", \"Pdjs 7 dienas\", \"Pdjs 30 dienas\"]\r\n\t\t\t}\r\n        }\r\n    }\r\n    \r\n    componentDidMount() {\r\n        this.props.filterData(this.filterData);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.filterData(undefined);\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if(\r\n\t\t\tprevState.showArchive !== this.state.showArchive\r\n\t\t\t|| prevState.showInactive !== this.state.showInactive\r\n\t\t\t|| prevState.showWorking !== this.state.showWorking\r\n            || prevState.showNotWorking !== this.state.showNotWorking\r\n            || prevState.showScheduleUnchecked !== this.state.showScheduleUnchecked\r\n\t\t\t|| prevState.nameFilter !== this.state.nameFilter\r\n\t\t\t|| prevState.positionFilter !== this.state.positionFilter\r\n            || prevState.companyFilter !== this.state.companyFilter\r\n            || prevState.startDate !== this.state.startDate\r\n            || prevState.endDate !== this.state.endDate) {\r\n\t\t\tthis.onFilterChange();\r\n        }\r\n        \r\n        if(\r\n\t\t\tprevState.showFilters !== this.state.showFilters\r\n\t\t\t||prevState.showArchive !== this.state.showArchive\r\n\t\t\t|| prevState.showInactive !== this.state.showInactive\r\n\t\t\t|| prevState.showWorking !== this.state.showWorking\r\n            || prevState.showNotWorking !== this.state.showNotWorking\r\n            || prevState.showScheduleUnchecked !== this.state.showScheduleUnchecked\r\n\t\t\t|| prevState.nameFilter !== this.state.nameFilter\r\n\t\t\t|| prevState.positionFilter !== this.state.positionFilter\r\n            || prevState.companyFilter !== this.state.companyFilter\r\n            || prevState.startDate !== this.state.startDate\r\n            || prevState.endDate !== this.state.endDate) {\r\n\t\t\tthis.saveSettings();\r\n\t\t}\r\n    }\r\n\r\n    saveSettings = () => {\r\n\t\tconst cookies = new Cookies();\r\n\t\tconst settings = {\r\n            ...cookies.get(\"settings\"),\r\n\t\t\tshowFilters: this.state.showFilters,\r\n\t\t\tshowArchive: this.state.showArchive,\r\n\t\t\tshowInactive: this.state.showInactive,\r\n\t\t\tshowWorking: this.state.showWorking,\r\n            showNotWorking: this.state.showNotWorking,\r\n            showScheduleUnchecked: this.state.showScheduleUnchecked,\r\n\t\t\tnameFilter: this.state.nameFilter,\r\n\t\t\tpositionFilter: this.state.positionFilter,\r\n            companyFilter: this.state.companyFilter,\r\n            startDate: this.state.startDate,\r\n            endDate: this.state.endDate,\r\n\t\t}\r\n\r\n\t\tcookies.set(\"settings\", settings);\r\n    }\r\n\r\n    onFilterChange = () => {\r\n        this.props.onFilterChange(this.state);\r\n    }\r\n\r\n    filterData = (tableData) => {\r\n\t\tthis.applyNameFilter(tableData, (nameFilter) => {\r\n\t\t\tthis.applyPositionFilter(nameFilter, (positionFilter) => {\r\n\t\t\t\tthis.applyCompanyFilter(positionFilter, (companyFilter) => {\r\n\t\t\t\t\tthis.applyCheckboxFilters(companyFilter, (checkboxFilter) => {\r\n\t\t\t\t\t\tthis.props.onDataFiltered(checkboxFilter);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n    }\r\n    \r\n    applyNameFilter = (data, callback = () => null) => {\r\n\t\tconst result = data.filter((row) => {\r\n\t\t\treturn (row.name.name + \" \" + row.name.surname).toString().toLowerCase().indexOf(this.state.nameFilter.toLowerCase()) > -1;\r\n\t\t});\r\n\t\tcallback(result);\r\n\t}\r\n\r\n\tapplyCompanyFilter = (data, callback = () => null) => {\r\n\t\tconst result = data.filter((row) => {\r\n\t\t\tconst company = row.company ? row.company : \"\";\r\n\t\t\treturn company.toString().toLowerCase().indexOf(this.state.companyFilter.toLowerCase()) > -1;\r\n\t\t});\r\n\t\tcallback(result);\r\n\t}\r\n\r\n\tapplyPositionFilter = (data, callback = () => null) => {\r\n\t\tconst result = data.filter((row) => {\r\n\t\t\tconst position = row.position ? row.position : \"\";\r\n\t\t\treturn position.toString().toLowerCase().indexOf(this.state.positionFilter.toLowerCase()) > -1;\r\n\t\t});\r\n\t\tcallback(result);\r\n\t}\r\n\r\n\tapplyCheckboxFilters = (data, callback = () => null) => {\r\n\t\tconst result = data.filter((row) => {\r\n\t\t\tif(row.archived && !this.state.showArchive) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif(!row.active && !this.state.showInactive) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif(row.working && this.state.showNotWorking) {\r\n\t\t\t\treturn false;\r\n            }\r\n            if(this.props.scheduleFilters && !row.checked && !this.state.showScheduleUnchecked) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif(!row.working && this.state.showWorking) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\tcallback(result);\r\n\t}\r\n\r\n    onToggleFilters = () => {\r\n\t\tthis.setState({ showFilters: !this.state.showFilters });\r\n\t}\r\n\r\n    onToggleArchive = () => {\r\n\t\tthis.setState({ showArchive: !this.state.showArchive });\r\n\t}\r\n\r\n\tonToggleInactive = () => {\r\n\t\tthis.setState({ showInactive: !this.state.showInactive });\r\n\t}\r\n\r\n\tonToggleShowWorking = () => {\r\n\t\tthis.setState({ showWorking: !this.state.showWorking });\r\n\t}\r\n\r\n\tonToggleShowNotWorking = () => {\r\n\t\tthis.setState({ showNotWorking: !this.state.showNotWorking });\r\n    }\r\n    \r\n    onToggleShowScheduleUnchecked = () => {\r\n\t\tthis.setState({ showScheduleUnchecked: !this.state.showScheduleUnchecked });\r\n\t}\r\n\r\n\tonChangeNameFilter = (e) => {\r\n\t\tthis.setState({ nameFilter: e.target.value });\r\n\t}\r\n\r\n\tonChangePositionFilter = (e) => {\r\n\t\tthis.setState({ positionFilter: e.target.value });\r\n\t}\r\n\r\n\tonChangeCompanyFilter = (e) => {\r\n\t\tthis.setState({ companyFilter: e.target.value });\r\n    }\r\n    \r\n    onChangeDateStart = (date) => {\r\n\t\tconst startOfDay = new Date(date);\r\n        startOfDay.setHours(0,0,0,0);\r\n\t\tthis.setState({\r\n\t\t\tstartDate: startOfDay,\r\n\t\t});\r\n\t}\r\n\r\n\tonChangeDateEnd = (date) => {\r\n\t\tconst endOfDay = new Date(date);\r\n\t\tendOfDay.setHours(23,59,59,59);\r\n\t\tthis.setState({\r\n\t\t\tendDate: endOfDay,\r\n\t\t});\r\n    }\r\n    \r\n    onClickFilter = (index) => {\r\n\t\tswitch(index) {\r\n\t\t\tcase 0: {\r\n\t\t\t\tthis.onChangeDateStart(new Date());\r\n\t\t\t\tthis.onChangeDateEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 1: {\r\n\t\t\t\tconst yesterday = new Date();\r\n\t\t\t\tyesterday.setDate(yesterday.getDate() - 1);\r\n\t\t\t\tthis.onChangeDateStart(yesterday);\r\n\t\t\t\tthis.onChangeDateEnd(yesterday);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 2: {\r\n\t\t\t\tconst last7Days = new Date();\r\n\t\t\t\tlast7Days.setDate(last7Days.getDate() - 7);\r\n\t\t\t\tthis.onChangeDateStart(last7Days);\r\n\t\t\t\tthis.onChangeDateEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 3: {\r\n\t\t\t\tconst last30Days = new Date();\r\n\t\t\t\tlast30Days.setDate(last30Days.getDate() - 30);\r\n\t\t\t\tthis.onChangeDateStart(last30Days);\r\n\t\t\t\tthis.onChangeDateEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdefault: {\r\n\t\t\t\tthis.onChangeDateStart(new Date());\r\n\t\t\t\tthis.onChangeDateEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tdropdown: {\r\n\t\t\t\t...this.state.dropdown,\r\n\t\t\t\tcurrentFilter: this.state.dropdown.filters[index],\r\n\t\t\t}\t\t\t\r\n\t\t})\r\n\t}\r\n\r\n\tclearAllFilters = () => {\r\n\t\tconst startDate = new Date();\r\n\t\tstartDate.setHours(0,0,0);\r\n\r\n\t\tconst endDate = new Date();\r\n\t\tendDate.setHours(23,59,59);\r\n\r\n\t\tthis.setState({\r\n\t\t\tnameFilter: \"\",\r\n\t\t\tpositionFilter: \"\",\r\n\t\t\tcompanyFilter: \"\",\r\n\t\t\tshowArchive: false,\r\n\t\t\tshowInactive: false,\r\n\t\t\tshowWorking: false,\r\n\t\t\tshowNotWorking: false,\r\n\t\t\tstartDate: startDate,\r\n\t\t\tendDate: endDate,\r\n\t\t});\r\n    }\r\n    \r\n\trender() {\r\n        const dateFilter = (\r\n            <>\r\n                <Col xs={\"auto\"}>\r\n                    <Form.Group as={Row}>\r\n                        <Form.Label column xs={\"auto\"} className=\"pr-0\">Dati no</Form.Label>\r\n                        <Col>\r\n                            <BoostrapDatePicker\r\n                                dateFormat=\"dd.MM.yyyy.\"\r\n                                selected={new Date(this.state.startDate)}\r\n                                onChange={this.onChangeDateStart}\r\n                                maxDate={new Date()}\r\n                            />\r\n                        </Col>\r\n                    </Form.Group>\r\n                </Col>\r\n                <Col xs={\"auto\"}>\r\n                    <Form.Group as={Row}>\r\n                        <Form.Label column xs={\"auto\"} className=\"pl-0 pr-0\">ldz</Form.Label>\r\n                        <Col>\r\n                            <BoostrapDatePicker\r\n                                dateFormat=\"dd.MM.yyyy.\"\r\n                                selected={new Date(this.state.endDate)}\r\n                                onChange={this.onChangeDateEnd}\r\n                                minDate={new Date(this.state.startDate)}\r\n                                maxDate={new Date()}\r\n                            />\r\n                        </Col>\r\n                    </Form.Group>\r\n                </Col>\r\n                <Col xs={\"auto\"}>\r\n                    <DropdownButton\r\n                        alignRight\r\n                        variant=\"secondary\"\r\n                        title={this.state.dropdown.currentFilter}\r\n                    >\r\n                    {\r\n                        this.state.dropdown.filters.map((filter, index) => {\r\n                            return <Dropdown.Item key={index} onClick={() => this.onClickFilter(index)}>{filter}</Dropdown.Item>\r\n                        })\r\n                    }\r\n                    </DropdownButton>\r\n                </Col>\r\n            </>\r\n        );\r\n\r\n\t\treturn (\r\n            <Row>\r\n                <Col>\r\n                    <Row>\r\n                        <Col>\r\n                            <Button \r\n                                variant=\"link\" \r\n                                onClick={this.onToggleFilters}\r\n                                className=\"float-left\"\r\n                            >\r\n                                {\r\n                                    this.state.showFilters\r\n                                    ? <FiMinimize2 className=\"mr-2 mb-1\"/>\r\n                                    : <FiMaximize2 className=\"mr-2 mb-1\"/>\r\n                                }\r\n                                Filtri\r\n                            </Button>\r\n                            <Dropdown alignRight className=\"float-right\">\r\n                                <Dropdown.Toggle variant=\"link\">\r\n                                    Opcijas\r\n                                </Dropdown.Toggle>\r\n\r\n                                <Dropdown.Menu>\r\n                                    <Dropdown.Item onClick={this.props.showRegisterEmployee}>Pievienot darbinieku</Dropdown.Item>\r\n                                    <Dropdown.Item onClick={this.props.showCheckCard}>Atrast darbinieku pc kartes</Dropdown.Item>\r\n                                    <Dropdown.Item onClick={this.props.showExportExcel}>Eksportt Excel</Dropdown.Item>\r\n                                </Dropdown.Menu>\r\n                            </Dropdown>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col>\r\n                            <Collapse in={this.state.showFilters}>\r\n                                <div>\r\n                                    <Row>\r\n                                        <Col>\r\n                                            <Form.Group>\r\n                                                <Form.Check \r\n                                                    type=\"checkbox\" \r\n                                                    label=\"Rdt arhv esoos darbiniekus\"\r\n                                                    checked={this.state.showArchive}\r\n                                                    onChange={this.onToggleArchive}\r\n                                                />\r\n                                            </Form.Group>\r\n                                            <Form.Group>\r\n                                                <Form.Check \r\n                                                    type=\"checkbox\" \r\n                                                    label=\"Rdt deaktiviztus darbiniekus\"\r\n                                                    checked={this.state.showInactive}\r\n                                                    onChange={this.onToggleInactive}\r\n                                                />\r\n                                            </Form.Group>\r\n                                            <Form.Group>\r\n                                                <Form.Check \r\n                                                    type=\"checkbox\" \r\n                                                    label=\"Rdt tikai ienkuos darbiniekus\"\r\n                                                    checked={this.state.showWorking}\r\n                                                    onChange={this.onToggleShowWorking}\r\n                                                />\r\n                                            </Form.Group>\r\n                                            <Form.Group>\r\n                                                <Form.Check \r\n                                                    type=\"checkbox\" \r\n                                                    label=\"Rdt tikai izgjuos darbiniekus\"\r\n                                                    checked={this.state.showNotWorking}\r\n                                                    onChange={this.onToggleShowNotWorking}\r\n                                                />\r\n                                            </Form.Group>\r\n                                            {\r\n                                                this.props.scheduleFilters\r\n                                                ? (<Form.Group>\r\n                                                    <Form.Check \r\n                                                        type=\"checkbox\" \r\n                                                        label=\"Rdt neatzmtos grafika darbiniekus\"\r\n                                                        checked={this.state.showScheduleUnchecked}\r\n                                                        onChange={this.onToggleShowScheduleUnchecked}\r\n                                                    />\r\n                                                </Form.Group>)\r\n                                                : null\r\n                                            }\r\n                                        </Col>\r\n                                        <Col>\r\n                                            <Form.Group>\r\n                                                <Form.Control\r\n                                                    placeholder=\"Vrds...\"\r\n                                                    onChange={this.onChangeNameFilter}\r\n                                                    value={this.state.nameFilter}\r\n                                                />\r\n                                                <Form.Text>\r\n                                                    Meklt darbinieku pc vrda vai uzvrda\r\n                                                </Form.Text>\r\n                                            </Form.Group>\r\n                                            <Form.Group>\r\n                                                <Form.Control\r\n                                                    placeholder=\"Amats...\"\r\n                                                    onChange={this.onChangePositionFilter}\r\n                                                    value={this.state.positionFilter}\r\n                                                />\r\n                                                <Form.Text>\r\n                                                    Meklt darbinieku pc amata\r\n                                                </Form.Text>\r\n                                            </Form.Group>\r\n                                            <Form.Group>\r\n                                                <Form.Control\r\n                                                    placeholder=\"Uzmums...\"\r\n                                                    onChange={this.onChangeCompanyFilter}\r\n                                                    value={this.state.companyFilter}\r\n                                                />\r\n                                                <Form.Text>\r\n                                                    Meklt darbinieku pc uzmuma\r\n                                                </Form.Text>\r\n                                            </Form.Group>\r\n                                        </Col>\r\n                                    </Row>\r\n                                    <Row className=\"mb-2\">\r\n                                        {\r\n                                            this.props.dateFilter\r\n                                            ? dateFilter\r\n                                            : null\r\n                                        }\r\n                                        <Col>\r\n                                            <Button\r\n                                                variant=\"danger\"\r\n                                                onClick={this.clearAllFilters}\r\n                                                className=\"float-right\"\r\n                                            >\r\n                                                <nobr>Notrt visus filtrus</nobr>\r\n                                            </Button>\r\n                                        </Col>\r\n                                    </Row>\r\n                                    <hr/>\r\n                                </div>\r\n                            </Collapse>\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowRegisterEmployee: () => dispatch(showRegisterEmployee()),\r\n\t\tshowExportExcel: () => dispatch(showExportExcel()),\r\n\t\tshowCheckCard: () => dispatch(showCheckCard())\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Filters);\r\n","import { request } from \"./config\";\r\n\r\nexport const pingServer = () => {\r\n\treturn request.post(\"/ping\");\r\n}\r\n\r\nexport const addZero = (i) => {\r\n\tif (i < 10) {\r\n\t\ti = \"0\" + i;\r\n\t}\r\n\treturn i;\r\n}\r\n\r\nexport const millisecondConverter = (ms) => {\r\n\tlet seconds = Math.floor(ms/1000);\r\n\tlet minutes = Math.floor(seconds/60);\r\n\tlet hours = Math.floor(minutes/60);\r\n\r\n\tminutes = minutes-(hours*60);\r\n\tseconds = seconds-(hours*60*60)-(minutes*60);\r\n\r\n\treturn {\r\n\t\tseconds,\r\n\t\tminutes,\r\n\t\thours\r\n\t}\r\n}\r\n\r\nexport const formatDate = (date) => {\r\n\tconst dateObj = new Date(date);\r\n\r\n\tlet formatted =\r\n\t\taddZero(dateObj.getDate()) + \".\"\r\n\t\t+ addZero(dateObj.getMonth() + 1) + \".\"\r\n\t\t+ addZero(dateObj.getFullYear()) + \" \";\r\n\r\n\tformatted +=\r\n\t\taddZero(dateObj.getHours()) + \":\"\r\n\t\t+ addZero(dateObj.getMinutes());\r\n\r\n\treturn formatted;\r\n}\r\n\r\nexport const daysInMonth = (month, year) => {\r\n    return new Date(year, month + 1, 0).getDate();\r\n}\r\n\r\nexport const getMonthName = (month) => {\r\n\tconst months = [\r\n\t\t\"Janvris\",\r\n\t\t\"Februris\",\r\n\t\t\"Marts\",\r\n\t\t\"Aprlis\",\r\n\t\t\"Maijs\",\r\n\t\t\"Jnijs\",\r\n\t\t\"Jlijs\",\r\n\t\t\"Augusts\",\r\n\t\t\"Septembris\",\r\n\t\t\"Oktobris\",\r\n\t\t\"Novembris\",\r\n\t\t\"Decembris\"\r\n\t];\r\n\r\n\treturn months[month];\r\n}\r\n\r\nexport const isWeekend = (date) => {\r\n\tconst day = date.getDay();\r\n\treturn ((day === 0) || (day === 6));\r\n}\r\n\r\nexport const convertSpecialCharacters = (string) => {\r\n\tconst special = [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"];\r\n\tconst normal = [\"A\", \"C\", \"E\", \"G\", \"I\", \"K\", \"L\", \"N\", \"S\", \"U\", \"Z\"];\r\n\r\n\tlet output = \"\";\r\n\tfor (let i = 0; i < string.length; i++) {\r\n\t\tconst letter = string.toUpperCase().charAt(i);\r\n\t\tif(special.indexOf(letter) !== -1) {\r\n\t\t\toutput += normal[special.indexOf(letter)]; \r\n\t\t} else {\r\n\t\t\toutput += letter;\r\n\t\t}\r\n\t}\r\n\treturn output;\r\n}\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nimport Cookies from 'universal-cookie';\r\n\r\nimport { Badge, Button, Row, Col, Dropdown, OverlayTrigger, Popover } from \"react-bootstrap\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\r\n\r\nimport ContainerBox from \"./ContainerBox\";\r\nimport Commands from \"./Commands\";\r\nimport Filters from \"./Filters\";\r\n\r\nimport {\r\n\tshowRegisterEmployee,\r\n\tshowExportExcel,\r\n\tshowCheckCard,\r\n\tshowEmployeeWorkLog\r\n} from \"../actions/employeeActions\";\r\n\r\nimport {\r\n\tstoreUpdateEmployee,\r\n\tdeleteEmployeeComment,\r\n} from \"../utils/employeeUtils\";\r\nimport { addZero, millisecondConverter, convertSpecialCharacters } from \"../utils/commonUtils\";\r\n\r\nimport { FiUser, FiMessageSquare, FiXCircle } from \"react-icons/fi\";\r\n\r\nclass Employees extends React.Component {\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tconst cookies = new Cookies();\r\n\t\tlet settings = cookies.get(\"settings\");\r\n\r\n\t\tif(!settings) {\r\n\t\t\tsettings = {\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t}\r\n\r\n\t\t\tcookies.set(\"settings\", settings);\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\tworkLogUserId: null,\r\n\t\t\tshowWorkLogModal: false,\r\n\t\t\ttableData: [],\r\n\t\t\tpageSize: 10,\r\n\t\t\t...settings\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.onTableChange();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif(prevProps.employees !== this.props.employees) {\r\n\t\t\tthis.onTableChange();\r\n\t\t}\r\n\r\n\t\tif(prevState.pageSize !== this.state.pageSize) {\r\n\t\t\tthis.saveSettings();\r\n\t\t}\r\n\t}\r\n\r\n\tsaveSettings = () => {\r\n\t\tconst cookies = new Cookies();\r\n\t\tconst settings = {\r\n\t\t\t...cookies.get(\"settings\"),\r\n\t\t\tpageSize: this.state.pageSize,\r\n\t\t}\r\n\r\n\t\tcookies.set(\"settings\", settings);\r\n\t}\r\n\r\n\tonTableChange = () => {\r\n\t\tthis.formatTable((tableData) => {\r\n\t\t\tthis.filterData(tableData);\r\n\t\t});\r\n\t}\r\n\r\n\tonFilterChange = () => {\r\n\t\tthis.onTableChange();\r\n\t}\r\n\r\n\tonDataFiltered = (data) => {\r\n\t\tthis.setState({\r\n\t\t\ttableData: data\r\n\t\t});\r\n\t}\r\n\r\n\tformatTable = (callback = () => null) => {\r\n\t\tconst workLogFrom = new Date();\r\n\t\tworkLogFrom.setHours(0, 0, 0);\r\n\r\n\t\tconst workLogTo = new Date();\r\n\t\tworkLogTo.setHours(23, 59, 59);\r\n\r\n\t\tconst promise = this.props.employees.map((employee) => {\r\n\t\t\tconst workLogToday = [];\r\n\t\t\temployee.workLog.forEach((workLog) => {\r\n\t\t\t\tif(new Date(workLog.start_time).getTime() >= workLogFrom.getTime() && new Date(workLog.start_time).getTime() <= workLogTo.getTime()) {\r\n\t\t\t\t\treturn workLogToday.push(workLog);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\treturn({\r\n\t\t\t\tid: employee.id,\r\n\t\t\t\tposition: employee.position ? employee.position.toString() : \"\",\r\n\t\t\t\tcompany: employee.company ? employee.company.toString() : \"\",\r\n\t\t\t\tarchived: employee.archived,\r\n\t\t\t\tactive: employee.active,\r\n\t\t\t\tworking: employee.working,\r\n\t\t\t\tname: {\r\n\t\t\t\t\tid: employee.id,\r\n\t\t\t\t\tname: employee.name,\r\n\t\t\t\t\tsurname: employee.surname,\r\n\t\t\t\t\tworking: employee.working,\r\n\t\t\t\t\tcomments: employee.comments,\r\n\t\t\t\t},\r\n\t\t\t\ttoday: {\r\n\t\t\t\t\tworking: employee.working,\r\n\t\t\t\t\tworkLogs: workLogToday,\r\n\t\t\t\t},\r\n\t\t\t\tcommands: employee,\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tPromise.all(promise).then((data) => {\r\n\t\t\tcallback(data);\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst nameFormatter = (cell, row) => {\r\n\t\t\tconst commentBorderStyle = {\r\n\t\t\t\tborderBottom: \"solid 1px gray\"\r\n\t\t\t}\r\n\r\n\t\t\tconst comments = cell.comments.length \r\n\t\t\t? cell.comments.map((comment, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Row \r\n\t\t\t\t\t\tkey={index} \r\n\t\t\t\t\t\tstyle={index < cell.comments.length - 1 ? commentBorderStyle : null} \r\n\t\t\t\t\t\tclassName=\"ml-1 mr-1 pt-1 pb-2\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Col className=\"align-self-center\">\r\n\t\t\t\t\t\t\t<span>{comment.text}</span>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs=\"auto\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tsize={\"sm\"}\r\n\t\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\t\tonClick={() => deleteEmployeeComment(comment.id).then(() => {\r\n\t\t\t\t\t\t\t\t\tstoreUpdateEmployee(cell.id);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FiXCircle className=\"mb-1\" />\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t\t: null;\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<nobr>\r\n\t\t\t\t\t\t<Badge \r\n\t\t\t\t\t\t\tstyle={{ fontSize: \"14px\" }}\r\n\t\t\t\t\t\t\tvariant={ cell.working ? \"success\" : \"danger\" }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FiUser/>\r\n\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\tvariant=\"link\" \r\n\t\t\t\t\t\t\tonClick={() => this.props.showEmployeeWorkLog(cell.id)}\r\n\t\t\t\t\t\t\tstyle={{ color: \"#0000FF\" }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{cell.surname + \" \" + cell.name}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcell.comments.length\r\n\t\t\t\t\t\t\t? \r\n\t\t\t\t\t\t\t<OverlayTrigger\r\n\t\t\t\t\t\t\t\ttrigger=\"click\"\r\n\t\t\t\t\t\t\t\trootClose\r\n\t\t\t\t\t\t\t\tplacement=\"bottom\"\r\n\t\t\t\t\t\t\t\toverlay={\r\n\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t{comments}\r\n\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tsize={\"sm\"}\r\n\t\t\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<FiMessageSquare/>\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t: \r\n\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</nobr>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\tconst companyFormatter = (cell, row) => {\r\n\t\t\treturn (\r\n\t\t\t\t<span className=\"d-none d-md-inline-block text-truncate\" style={{ maxWidth: \"14vw\" }}>\r\n\t\t\t\t\t{cell}\r\n\t\t\t\t</span>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tconst todayFormatter = (cell, row) => {\r\n\t\t\tlet badges = [];\r\n\t\t\tlet totalWorkTime = 0;\r\n\t\t\tlet totalWorkTimeConverted = {\r\n\t\t\t\thours: 0,\r\n\t\t\t\tminutes: 0,\r\n\t\t\t\tseconds: 0\r\n\t\t\t};\r\n\r\n\t\t\tcell.workLogs.forEach((workLog, index) => {\r\n\t\t\t\tlet workTime = 0;\r\n\t\t\t\tlet workTimeConverted = {\r\n\t\t\t\t\thours: 0,\r\n\t\t\t\t\tminutes: 0,\r\n\t\t\t\t\tseconds: 0\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif(workLog.end_time === null) {\r\n\t\t\t\t\tworkLog.end_time = new Date();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Calculate each row data\r\n\t\t\t\tworkTime = new Date(workLog.end_time) - new Date(workLog.start_time);\r\n\t\t\t\tworkTimeConverted = millisecondConverter(workTime);\r\n\r\n\t\t\t\tconst workTimeStartFormatted =\r\n\t\t\t\t\t  addZero(new Date(workLog.start_time).getHours()) + \":\" \r\n\t\t\t\t\t+ addZero(new Date(workLog.start_time).getMinutes());\r\n\t\t\t\t\r\n\t\t\t\tconst workTimeEndFormatted =\r\n\t\t\t\t\t  addZero(new Date(workLog.end_time).getHours()) + \":\" \r\n\t\t\t\t\t+ addZero(new Date(workLog.end_time).getMinutes());\r\n\t\r\n\t\t\t\tconst workTimeFormatted =\r\n\t\t\t\t\tworkTimeConverted.hours + \" st. \" \r\n\t\t\t\t\t+ workTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\t// Calculate the total\r\n\t\t\t\ttotalWorkTime += new Date(workLog.end_time) - new Date(workLog.start_time);\r\n\t\t\t\ttotalWorkTimeConverted = millisecondConverter(totalWorkTime);\r\n\r\n\t\t\t\t// Each work log entry formatted and applied in HTML format\r\n\t\t\t\tbadges.push(\r\n\t\t\t\t\t<Row key={index} style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t\t<Col xs={6}>\r\n\t\t\t\t\t\t\t<nobr>\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{workTimeStartFormatted}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tcell.working && index === cell.workLogs.length - 1\r\n\t\t\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t\t\t: <span>\r\n\t\t\t\t\t\t\t\t\t\t&#8594; {workTimeEndFormatted}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</nobr>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs={\"auto\"} className=\"text-center\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tworkTimeFormatted !== null\r\n\t\t\t\t\t\t\t\t? <span>\r\n\t\t\t\t\t\t\t\t\t{workTimeFormatted}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\t\t//Total row formatted\r\n\t\t\tif(badges.length) {\r\n\t\t\t\tconst totalWorkTimeFormatted =\r\n\t\t\t\ttotalWorkTimeConverted.hours + \" st. \" \r\n\t\t\t\t+ totalWorkTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\tbadges.push(\r\n\t\t\t\t\t<Row key={badges.length} style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t\t<Col xs={6}>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs={\"auto\"} className=\"text-center\" style={{ borderTop: \"solid 1px\" }}>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttotalWorkTimeFormatted !== null\r\n\t\t\t\t\t\t\t\t? <span>\r\n\t\t\t\t\t\t\t\t\t<b>{totalWorkTimeFormatted}</b>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn (badges);\r\n\t\t};\r\n\r\n\t\tconst commandFormatter = (cell, row) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Commands employee={cell}/>\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\tconst columns = [{\r\n\t\t\tdataField: \"id\",\r\n\t\t\ttext: \"#\",\r\n\t\t\tsort: true,\r\n\t\t\tclasses: \"align-middle d-none d-md-table-cell\",\r\n\t\t\theaderClasses: \"d-none d-md-table-cell\",\r\n\t\t\t// hidden: true,\r\n\t\t}, {\r\n\t\t\tdataField: \"name\",\r\n\t\t\ttext: \"Darbinieks\",\r\n\t\t\tsort: true,\r\n\t\t\tsortFunc: (a, b, order) => {\r\n\t\t\t\tif(convertSpecialCharacters(a.surname) < convertSpecialCharacters(b.surname)) {\r\n\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t} else if(convertSpecialCharacters(a.surname) > convertSpecialCharacters(b.surname)) {\r\n\t\t\t\t\treturn order === \"asc\" ? 1 : -1;\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\tformatter: nameFormatter,\r\n\t\t}, {\r\n\t\t\tdataField: \"company\",\r\n\t\t\ttext: \"Uzmums\",\r\n\t\t\tsort: true,\r\n\t\t\tclasses: \"align-middle d-none d-lg-table-cell\",\r\n\t\t\theaderClasses: \"d-none d-lg-table-cell\",\r\n\t\t\tformatter: companyFormatter\r\n\t\t}, {\r\n\t\t\tdataField: \"position\",\r\n\t\t\ttext: \"Amats\",\r\n\t\t\tsort: true,\r\n\t\t\tclasses: \"align-middle d-none d-lg-table-cell\",\r\n\t\t\theaderClasses: \"d-none d-lg-table-cell\",\r\n\t\t\tformatter: companyFormatter\r\n\t\t}, {\r\n\t\t\tdataField: \"today\",\r\n\t\t\ttext: \"odien\",\r\n\t\t\tsort: true,\r\n\t\t\tsortFunc: (a, b, order) => {\r\n\t\t\t\tif(a.workLogs.length && b.workLogs.length) {\r\n\t\t\t\t\tconst aData = a.working\r\n\t\t\t\t\t? new Date(a.workLogs[a.workLogs.length - 1].start_time)\r\n\t\t\t\t\t: new Date(a.workLogs[a.workLogs.length - 1].end_time);\r\n\r\n\t\t\t\t\tconst bData = b.working\r\n\t\t\t\t\t? new Date(b.workLogs[b.workLogs.length - 1].start_time)\r\n\t\t\t\t\t: new Date(b.workLogs[b.workLogs.length - 1].end_time);\r\n\r\n\t\t\t\t\tif(aData > bData) {\r\n\t\t\t\t\t\treturn order === \"asc\" ? 1 : -1;\r\n\t\t\t\t\t} else if(aData < bData) {\r\n\t\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If there are no work logs for today\r\n\t\t\t\tif(!a.workLogs.length) {\r\n\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\tformatter: todayFormatter\r\n\t\t}, {\r\n\t\t\tdataField: \"commands\",\r\n\t\t\ttext: \"\",\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\tformatter: commandFormatter\r\n\t\t}];\r\n\r\n\t\tconst defaultSorted = [{\r\n\t\t\tdataField: \"name\",\r\n\t\t\torder: \"asc\"\r\n\t\t}];\r\n\r\n\t\tconst onClickPageSize = (option) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tpageSize: option.page\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tconst sizePerPageRenderer = ({\r\n\t\t\toptions,\r\n\t\t\tcurrSizePerPage,\r\n\t\t\tonSizePerPageChange\r\n\t\t}) => (\r\n\t\t\t<Dropdown className=\"d-inline pr-2\">\r\n\t\t\t\t<Dropdown.Toggle variant=\"primary\">\r\n\t\t\t\t\t{this.state.pageSize === 9999 ? \"Viss\" : this.state.pageSize}\r\n\t\t\t\t</Dropdown.Toggle>\r\n\r\n\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\toptions.map((option, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\t\t\tkey={index} \r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tonClickPageSize(option);\r\n\t\t\t\t\t\t\t\t\t\tonSizePerPageChange(option.page);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.text}\r\n\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</Dropdown.Menu>\r\n\t\t\t</Dropdown>\r\n\t\t);\r\n\r\n\t\tconst pagination = paginationFactory({\r\n\t\t\tpage: 1,\r\n\t\t\talwaysShowAllBtns: true,\r\n\t\t\tshowTotal: false,\r\n\t\t\tsizePerPage : this.state.pageSize,\r\n\t\t\tsizePerPageRenderer,\r\n\t\t\tsizePerPageList: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"10\",\r\n\t\t\t\t\tvalue: 10,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"25\",\r\n\t\t\t\t\tvalue: 25,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"50\",\r\n\t\t\t\t\tvalue: 50,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"100\",\r\n\t\t\t\t\tvalue: 100,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"Viss\",\r\n\t\t\t\t\tvalue: 9999,\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\r\n\t\tconst rowStyle = (row) => {\r\n\t\t\tif(!row.active) {\r\n\t\t\t\treturn { backgroundColor: \"rgba(255, 0, 0, 0.1)\" };\r\n\t\t\t}\r\n\r\n\t\t\tif(row.archived) {\r\n\t\t\t\treturn { backgroundColor: \"rgba(255, 255, 0, 0.1)\" };\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<ContainerBox header={\"Darbinieki\"}>\r\n\t\t\t\t<Filters \r\n\t\t\t\t\tonDataFiltered={this.onDataFiltered}\r\n\t\t\t\t\tonFilterChange={this.onFilterChange}\r\n\t\t\t\t\tfilterData={filterData => this.filterData = filterData}\r\n\t\t\t\t/>\r\n\t\t\t\t<BootstrapTable \r\n\t\t\t\t\tbootstrap4={ true }\r\n\t\t\t\t\tkeyField=\"id\"\r\n\t\t\t\t\tdata={ this.state.tableData } \r\n\t\t\t\t\tcolumns={ columns } \r\n\t\t\t\t\tbordered={ false }\r\n\t\t\t\t\thover={ true }\r\n\t\t\t\t\tdefaultSorted={ defaultSorted }\r\n\t\t\t\t\tremote={ { filter: true } }\r\n\t\t\t\t\tonTableChange={ this.onTableChange }\r\n\t\t\t\t\tpagination={ pagination }\r\n\t\t\t\t\trowStyle={ rowStyle }\r\n\t\t\t\t/>\r\n\t\t\t</ContainerBox>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\temployees: state.employees.employees,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowRegisterEmployee: () => dispatch(showRegisterEmployee()),\r\n\t\tshowExportExcel: () => dispatch(showExportExcel()),\r\n\t\tshowCheckCard: () => dispatch(showCheckCard()),\r\n\t\tshowEmployeeWorkLog: (id) => dispatch(showEmployeeWorkLog(id))\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Employees);\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nimport Cookies from 'universal-cookie';\r\n\r\nimport { Button, Row, Col, Dropdown } from \"react-bootstrap\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\r\n\r\nimport ContainerBox from \"./ContainerBox\";\r\nimport Filters from \"./Filters\";\r\n\r\nimport {\r\n\tshowEmployeeWorkLog,\r\n\tshowExportExcel\r\n} from \"../actions/employeeActions\";\r\n\r\nimport { addZero, millisecondConverter, convertSpecialCharacters } from \"../utils/commonUtils\";\r\n\r\nimport { FiUser } from \"react-icons/fi\";\r\n\r\nclass Employees extends React.Component {\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tconst cookies = new Cookies();\r\n\t\tlet settings = cookies.get(\"settings\");\r\n\r\n\t\tconst startDate = new Date();\r\n        startDate.setHours(0,0,0);\r\n\r\n        const endDate = new Date();\r\n        endDate.setHours(23,59,59);\r\n\r\n\t\tif(settings) {\r\n\t\t\tsettings = {\r\n                ...settings,\r\n\t\t\t\tstartDate: settings.startDate ? new Date(settings.startDate) : new Date(startDate),\r\n\t\t\t\tendDate: settings.endDate ? new Date(settings.endDate) : new Date(endDate),\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tsettings = {\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t}\r\n\r\n\t\t\tcookies.set(\"settings\", settings);\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\tworkLogUserId: null,\r\n\t\t\tshowWorkLogModal: false,\r\n\t\t\ttableData: [],\r\n\t\t\tpageSize: 10,\r\n\t\t\t...settings,\r\n\t\t\tdropdown: {\r\n\t\t\t\tcurrentFilter: \"odiena\",\r\n\t\t\t\tfilters: [\"odiena\", \"Vakardiena\", \"Pdjs 7 dienas\", \"Pdjs 30 dienas\"]\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.onTableChange();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif(prevProps.employees !== this.props.employees) {\r\n\t\t\tthis.onTableChange();\r\n\t\t}\r\n\r\n\t\tif(prevState.pageSize !== this.state.pageSize) {\r\n\t\t\tthis.saveSettings();\r\n\t\t}\r\n\t}\r\n\r\n\tsaveSettings = () => {\r\n\t\tconst cookies = new Cookies();\r\n\t\tconst settings = {\r\n\t\t\t...cookies.get(\"settings\"),\r\n\t\t\tpageSize: this.state.pageSize,\r\n\t\t}\r\n\r\n\t\tcookies.set(\"settings\", settings);\r\n\t}\r\n\r\n\tonTableChange = () => {\r\n\t\tthis.formatTable((tableData) => {\r\n\t\t\tthis.filterData(tableData);\r\n\t\t});\r\n\t}\r\n\r\n\tonFilterChange = (filters) => {\r\n\t\tthis.setState({\r\n\t\t\tstartDate: filters.startDate,\r\n\t\t\tendDate: filters.endDate,\r\n\t\t}, () => {\r\n\t\t\tthis.onTableChange();\r\n\t\t});\r\n\t}\r\n\r\n\tonDataFiltered = (data) => {\r\n\t\tthis.setState({\r\n\t\t\ttableData: data\r\n\t\t});\r\n\t}\r\n\r\n\tformatTable = (callback = () => null) => {\r\n\t\tconst workLogFrom = new Date(this.state.startDate);\r\n\t\tconst workLogTo = new Date(this.state.endDate);\r\n\r\n\t\tconst promise = this.props.employees.map((employee) => {\r\n\t\t\tconst workLogToday = [];\r\n\t\t\temployee.workLog.forEach((workLog) => {\r\n\t\t\t\tif(new Date(workLog.start_time).getTime() >= workLogFrom.getTime() && new Date(workLog.start_time).getTime() <= workLogTo.getTime()) {\r\n\t\t\t\t\treturn workLogToday.push(workLog);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\treturn({\r\n\t\t\t\tid: employee.id,\r\n\t\t\t\tposition: employee.position ? employee.position.toString() : \"\",\r\n\t\t\t\tcompany: employee.company ? employee.company.toString() : \"\",\r\n\t\t\t\tarchived: employee.archived,\r\n\t\t\t\tactive: employee.active,\r\n\t\t\t\tworking: employee.working,\r\n\t\t\t\tname: {\r\n\t\t\t\t\tid: employee.id,\r\n\t\t\t\t\tname: employee.name,\r\n\t\t\t\t\tsurname: employee.surname,\r\n\t\t\t\t\tworking: employee.working,\r\n\t\t\t\t\tcomments: employee.comments,\r\n\t\t\t\t},\r\n\t\t\t\ttoday: {\r\n\t\t\t\t\tworking: employee.working,\r\n\t\t\t\t\tworkLogs: workLogToday,\r\n\t\t\t\t},\r\n\t\t\t\tcommands: employee,\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tPromise.all(promise).then((data) => {\r\n\t\t\tcallback(data);\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst nameFormatter = (cell, row) => {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<nobr>\r\n\t\t\t\t\t\t<FiUser/>\r\n\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\tvariant=\"link\" \r\n\t\t\t\t\t\t\tonClick={() => this.props.showEmployeeWorkLog(cell.id)}\r\n\t\t\t\t\t\t\tstyle={{ color: \"#0000FF\" }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{cell.surname + \" \" + cell.name}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</nobr>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\tconst companyFormatter = (cell, row) => {\r\n\t\t\treturn (\r\n\t\t\t\t<span className=\"d-none d-md-inline-block text-truncate\" style={{ maxWidth: \"14vw\" }}>\r\n\t\t\t\t\t{cell}\r\n\t\t\t\t</span>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tconst todayFormatter = (cell, row) => {\r\n\t\t\tlet badges = [];\r\n\t\t\tlet totalWorkTime = 0;\r\n\t\t\tlet totalWorkTimeConverted = {\r\n\t\t\t\thours: 0,\r\n\t\t\t\tminutes: 0,\r\n\t\t\t\tseconds: 0\r\n\t\t\t};\r\n\r\n\t\t\tconst displayOneDay = cell.endDate - cell.startDate < 86400000;\r\n\r\n\t\t\tcell.workLogs.forEach((workLog, index) => {\r\n\t\t\t\tlet workTime = 0;\r\n\t\t\t\tlet workTimeConverted = {\r\n\t\t\t\t\thours: 0,\r\n\t\t\t\t\tminutes: 0,\r\n\t\t\t\t\tseconds: 0\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif(workLog.end_time === null) {\r\n\t\t\t\t\tworkLog.end_time = new Date();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Calculate each row data\r\n\t\t\t\tworkTime = new Date(workLog.end_time) - new Date(workLog.start_time);\r\n\t\t\t\tworkTimeConverted = millisecondConverter(workTime);\r\n\r\n\t\t\t\tconst workTimeStartFormatted =\r\n\t\t\t\t\taddZero(new Date(workLog.start_time).getHours()) + \":\" \r\n\t\t\t\t\t+ addZero(new Date(workLog.start_time).getMinutes());\r\n\t\t\t\t\r\n\t\t\t\tconst workTimeEndFormatted =\r\n\t\t\t\t\taddZero(new Date(workLog.end_time).getHours()) + \":\" \r\n\t\t\t\t\t+ addZero(new Date(workLog.end_time).getMinutes());\r\n\t\r\n\t\t\t\tconst workTimeFormatted =\r\n\t\t\t\t\tworkTimeConverted.hours + \" st. \" \r\n\t\t\t\t\t+ workTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\t// Calculate the total\r\n\t\t\t\ttotalWorkTime += new Date(workLog.end_time) - new Date(workLog.start_time);\r\n\t\t\t\ttotalWorkTimeConverted = millisecondConverter(totalWorkTime);\r\n\r\n\t\t\t\tif(displayOneDay) {\r\n\t\t\t\t\t// Each work log entry formatted and applied in HTML format\r\n\t\t\t\t\tbadges.push(\r\n\t\t\t\t\t\t<Row key={index} style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t\t\t<Col xs={6}>\r\n\t\t\t\t\t\t\t\t<nobr>\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t{workTimeStartFormatted}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tcell.working && index === cell.workLogs.length - 1\r\n\t\t\t\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t\t\t\t: <span>\r\n\t\t\t\t\t\t\t\t\t\t\t&#8594; {workTimeEndFormatted}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</nobr>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col xs={\"auto\"} className=\"text-center\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tworkTimeFormatted !== null\r\n\t\t\t\t\t\t\t\t\t? <span>\r\n\t\t\t\t\t\t\t\t\t\t{workTimeFormatted}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//Total row formatted\r\n\t\t\tif(badges.length && displayOneDay) {\r\n\t\t\t\tconst totalWorkTimeFormatted =\r\n\t\t\t\ttotalWorkTimeConverted.hours + \" st. \" \r\n\t\t\t\t+ totalWorkTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\tbadges.push(\r\n\t\t\t\t\t<Row key={badges.length} style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t\t<Col xs={6}>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs={\"auto\"} className=\"text-center\" style={{ borderTop: \"solid 1px\" }}>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttotalWorkTimeFormatted !== null\r\n\t\t\t\t\t\t\t\t? <span>\r\n\t\t\t\t\t\t\t\t\t<b>{totalWorkTimeFormatted}</b>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t} else if(!displayOneDay) {\r\n\t\t\t\tconst totalWorkTimeFormatted =\r\n\t\t\t\ttotalWorkTimeConverted.hours + \" st. \" \r\n\t\t\t\t+ totalWorkTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\tbadges.push(\r\n\t\t\t\t\t<Row key={badges.length} style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t\t<Col className=\"text-center\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttotalWorkTimeFormatted !== null\r\n\t\t\t\t\t\t\t\t? <span>\r\n\t\t\t\t\t\t\t\t\t{totalWorkTimeFormatted}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs=\"4\">\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs=\"4\">\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn (badges);\r\n\t\t};\r\n\r\n\t\tconst startDateFormatted = \r\n\t\t\t  addZero(new Date(this.state.startDate).getDate()) + \".\" \r\n\t\t\t+ addZero(new Date(this.state.startDate).getMonth() + 1) + \".\" \r\n\t\t\t+ addZero(new Date(this.state.startDate).getFullYear());\r\n\r\n\r\n\t\tconst endDateFormatted =\r\n\t\t\t  addZero(new Date(this.state.endDate).getDate()) + \".\" \r\n\t\t\t+ addZero(new Date(this.state.endDate).getMonth() + 1) + \".\" \r\n\t\t\t+ addZero(new Date(this.state.endDate).getFullYear());\r\n\r\n\t\tconst dateRange = startDateFormatted + (startDateFormatted === endDateFormatted ? \"\" : \" - \" + endDateFormatted);\r\n\r\n\t\tconst columns = [{\r\n\t\t\tdataField: \"id\",\r\n\t\t\ttext: \"#\",\r\n\t\t\tsort: true,\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\t// hidden: true,\r\n\t\t}, {\r\n\t\t\tdataField: \"name\",\r\n\t\t\ttext: \"Darbinieks\",\r\n\t\t\tsort: true,\r\n\t\t\tsortFunc: (a, b, order) => {\r\n\t\t\t\tif(convertSpecialCharacters(a.surname) < convertSpecialCharacters(b.surname)) {\r\n\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t} else if(convertSpecialCharacters(a.surname) > convertSpecialCharacters(b.surname)) {\r\n\t\t\t\t\treturn order === \"asc\" ? 1 : -1;\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\tformatter: nameFormatter,\r\n\t\t}, {\r\n\t\t\tdataField: \"company\",\r\n\t\t\ttext: \"Uzmums\",\r\n\t\t\tsort: true,\r\n\t\t\tclasses: \"align-middle d-none d-lg-table-cell\",\r\n\t\t\theaderClasses: \"d-none d-lg-table-cell\",\r\n\t\t\tformatter: companyFormatter\r\n\t\t}, {\r\n\t\t\tdataField: \"position\",\r\n\t\t\ttext: \"Amats\",\r\n\t\t\tsort: true,\r\n\t\t\tclasses: \"align-middle d-none d-lg-table-cell\",\r\n\t\t\theaderClasses: \"d-none d-lg-table-cell\",\r\n\t\t\tformatter: companyFormatter\r\n\t\t}, {\r\n\t\t\tdataField: \"today\",\r\n\t\t\ttext: dateRange,\r\n\t\t\tsort: true,\r\n\t\t\tsortFunc: (a, b, order) => {\r\n\t\t\t\tif(a.workLogs.length && b.workLogs.length) {\r\n\t\t\t\t\tconst aData = a.working\r\n\t\t\t\t\t? new Date(a.workLogs[a.workLogs.length - 1].start_time)\r\n\t\t\t\t\t: new Date(a.workLogs[a.workLogs.length - 1].end_time);\r\n\r\n\t\t\t\t\tconst bData = b.working\r\n\t\t\t\t\t? new Date(b.workLogs[b.workLogs.length - 1].start_time)\r\n\t\t\t\t\t: new Date(b.workLogs[b.workLogs.length - 1].end_time);\r\n\r\n\t\t\t\t\tif(aData > bData) {\r\n\t\t\t\t\t\treturn order === \"asc\" ? 1 : -1;\r\n\t\t\t\t\t} else if(aData < bData) {\r\n\t\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\tformatter: todayFormatter\r\n\t\t}];\r\n\r\n\t\tconst defaultSorted = [{\r\n\t\t\tdataField: \"name\",\r\n\t\t\torder: \"asc\"\r\n\t\t}];\r\n\r\n\t\tconst onClickPageSize = (option) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tpageSize: option.page\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tconst sizePerPageRenderer = ({\r\n\t\t\toptions,\r\n\t\t\tcurrSizePerPage,\r\n\t\t\tonSizePerPageChange\r\n\t\t}) => (\r\n\t\t\t<Dropdown className=\"d-inline pr-2\">\r\n\t\t\t\t<Dropdown.Toggle variant=\"primary\">\r\n\t\t\t\t\t{this.state.pageSize === 9999 ? \"Viss\" : this.state.pageSize}\r\n\t\t\t\t</Dropdown.Toggle>\r\n\r\n\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\toptions.map((option, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\t\t\tkey={index} \r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tonClickPageSize(option);\r\n\t\t\t\t\t\t\t\t\t\tonSizePerPageChange(option.page);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.text}\r\n\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</Dropdown.Menu>\r\n\t\t\t</Dropdown>\r\n\t\t);\r\n\r\n\t\tconst pagination = paginationFactory({\r\n\t\t\tpage: 1,\r\n\t\t\talwaysShowAllBtns: true,\r\n\t\t\tshowTotal: false,\r\n\t\t\tsizePerPage : this.state.pageSize,\r\n\t\t\tsizePerPageRenderer,\r\n\t\t\tsizePerPageList: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"10\",\r\n\t\t\t\t\tvalue: 10,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"25\",\r\n\t\t\t\t\tvalue: 25,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"50\",\r\n\t\t\t\t\tvalue: 50,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"100\",\r\n\t\t\t\t\tvalue: 100,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"Viss\",\r\n\t\t\t\t\tvalue: 9999,\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\r\n\r\n\t\tconst rowStyle = (row) => {\r\n\t\t\tif(!row.commands.active) {\r\n\t\t\t\treturn { backgroundColor: \"rgba(255, 0, 0, 0.1)\" };\r\n\t\t\t}\r\n\r\n\t\t\tif(row.commands.archived) {\r\n\t\t\t\treturn { backgroundColor: \"rgba(255, 255, 0, 0.1)\" };\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<ContainerBox header={\"Atskaites\"}>\r\n\t\t\t\t<Filters \r\n\t\t\t\t\tonDataFiltered={this.onDataFiltered}\r\n\t\t\t\t\tonFilterChange={this.onFilterChange}\r\n\t\t\t\t\tfilterData={filterData => this.filterData = filterData}\r\n\t\t\t\t\tdateFilter={true}\r\n\t\t\t\t/>\r\n\t\t\t\t<BootstrapTable\r\n\t\t\t\t\tbootstrap4={ true }\r\n\t\t\t\t\tkeyField=\"id\" \r\n\t\t\t\t\tdata={ this.state.tableData } \r\n\t\t\t\t\tcolumns={ columns } \r\n\t\t\t\t\tbordered={ false }\r\n\t\t\t\t\thover={ true }\r\n\t\t\t\t\tdefaultSorted={ defaultSorted }\r\n\t\t\t\t\tremote={ { filter: true } }\r\n\t\t\t\t\tonTableChange={ this.onTableChange }\r\n\t\t\t\t\tpagination={ pagination }\r\n\t\t\t\t\trowStyle={ rowStyle }\r\n\t\t\t\t/>\r\n\t\t\t</ContainerBox>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\temployees: state.employees.employees,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowEmployeeWorkLog: (id) => dispatch(showEmployeeWorkLog(id)),\r\n\t\tshowExportExcel: () => dispatch(showExportExcel()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Employees);\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nimport { Form, Button, Alert, Modal, Row, Col } from \"react-bootstrap\";\r\n\r\nimport { showRegisterEmployee, hideRegisterEmployee } from \"../actions/employeeActions\";\r\n\r\nimport { addNotification, storeUpdateEmployees, addServerEmployee, awaitCard, deleteServerEmployee } from \"../utils/employeeUtils\";\r\nimport * as LOG_TYPE from \"../utils/logTypes\";\r\n\r\nconst REGISTER_STATE = {\r\n\tDATA_INPUT: 0,\r\n\tRFID_WAIT: 1,\r\n\tCOMPLETE: 2,\r\n}\r\n\r\nclass RegisterEmployee extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.initialState = {\r\n\t\t\tregistrationState: REGISTER_STATE.DATA_INPUT,\r\n\t\t\tcheckInterval: null,\r\n\t\t\tnewEmployee: {},\r\n\t\t\tname: \"\",\r\n\t\t\tsurname: \"\",\r\n\t\t\tcompany: 'SIA \"Vrpas 1\"',\r\n\t\t\tposition: \"\",\r\n\t\t\tnumber: \"\",\r\n\t\t\tpersonalCode: \"\",\r\n\t\t\taddCard: true,\r\n\t\t\tuid: null,\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\t...this.initialState\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tonNameChange = (event) => {\r\n\t\tthis.setState({ name: event.target.value });\r\n\t}\r\n\r\n\tonSurnameChange = (event) => {\r\n\t\tthis.setState({ surname: event.target.value });\r\n\t}\r\n\r\n\tonCompanyChange = (event) => {\r\n\t\tthis.setState({ company: event.target.value });\r\n\t}\r\n\r\n\tonPositionChange = (event) => {\r\n\t\tthis.setState({ position: event.target.value });\r\n\t}\r\n\r\n\tonNumberChange = (event) => {\r\n\t\tthis.setState({ number: event.target.value });\r\n\t}\r\n\r\n\tonPersonalCodeChange = (event) => {\r\n\t\tthis.setState({ personalCode: event.target.value });\r\n\t}\r\n\r\n\tonAddCardChange = () => {\r\n\t\tthis.setState({ addCard: !this.state.addCard });\r\n\t}\r\n\r\n\tonFormSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\t\t\r\n\t\tlet employee = {\r\n\t\t\tname: this.state.name,\r\n\t\t\tsurname: this.state.surname,\r\n\t\t\tcompany: this.state.company,\r\n\t\t\tposition: this.state.position,\r\n\t\t\tnumber: this.state.number,\r\n\t\t\tpersonalCode: this.state.personalCode,\r\n\t\t\tuid: this.state.uid,\r\n\t\t}\r\n\t\t\r\n\t\tif(this.state.registrationState === REGISTER_STATE.DATA_INPUT) {\r\n\t\t\tif(this.state.addCard) {\r\n\t\t\t\tthis.setState({ \r\n\t\t\t\t\tregistrationState: REGISTER_STATE.RFID_WAIT,\r\n\t\t\t\t});\r\n\r\n\t\t\t\tawaitCard().then((res) => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tuid: res.data.uid,\r\n\t\t\t\t\t}, () => {\r\n\t\t\t\t\t\temployee = {\r\n\t\t\t\t\t\t\t...employee,\r\n\t\t\t\t\t\t\tuid: res.data.uid,\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\taddServerEmployee(employee).then((res) => {\r\n\t\t\t\t\t\t\tstoreUpdateEmployees();\r\n\t\t\t\t\t\t\taddNotification(LOG_TYPE.LOG_ADD_EMPLOYEE, { user: this.props.user.username, id: res.data.id });\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tregistrationState: REGISTER_STATE.COMPLETE,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\taddServerEmployee(employee).then((res) => {\r\n\t\t\t\t\tstoreUpdateEmployees();\r\n\t\t\t\t\taddNotification(LOG_TYPE.LOG_ADD_EMPLOYEE, { user: this.props.user.username, id: res.data.id });\r\n\t\t\t\t\tif(res.data) {\r\n\t\t\t\t\t\tthis.setState({ \r\n\t\t\t\t\t\t\tregistrationState: REGISTER_STATE.COMPLETE,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else if(this.state.registrationState === REGISTER_STATE.COMPLETE) {\r\n\t\t\tthis.props.hideRegisterEmployee();\r\n\t\t}\r\n\t}\r\n\r\n\thideRegisterEmployeeAndDelete = () => {\r\n\t\tif(this.state.registrationState >= REGISTER_STATE.RFID_WAIT) {\r\n\t\t\tdeleteServerEmployee(this.state.newEmployee.id);\r\n\t\t\tthis.props.hideRegisterEmployee();\r\n\t\t}\r\n\t}\r\n\r\n\tonExited = () => {\r\n\t\tthis.setState({\r\n\t\t\t...this.initialState\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.registerEmployee.show} \r\n\t\t\t\tonHide={() => this.props.hideRegisterEmployee()}\r\n\t\t\t\tonExit={this.deleteAndCancel}\r\n\t\t\t\tonExited={this.onExited}\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={this.onFormSubmit}>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>Pievienot Darbinieku</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>* Vrds</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\trequired \r\n\t\t\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT} \r\n\t\t\t\t\t\t\t\t\tvalue={this.state.name} \r\n\t\t\t\t\t\t\t\t\tonChange={this.onNameChange}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Vrds\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>* Uzvrds</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\trequired \r\n\t\t\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT} \r\n\t\t\t\t\t\t\t\t\tvalue={this.state.surname} \r\n\t\t\t\t\t\t\t\t\tonChange={this.onSurnameChange}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Uzvrds\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>Personas Kods</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT} \r\n\t\t\t\t\t\t\t\t\tvalue={this.state.personalCode} \r\n\t\t\t\t\t\t\t\t\tonChange={this.onPersonalCodeChange}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Personas Kods\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>Telefona Numurs</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT} \r\n\t\t\t\t\t\t\t\t\tvalue={this.state.number} \r\n\t\t\t\t\t\t\t\t\tonChange={this.onNumberChange}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Telefona Numurs\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Uzmums</Form.Label>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\tas=\"select\"\r\n\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT}  \r\n\t\t\t\t\t\t\tonChange={this.onCompanyChange}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option>SIA \"Vrpas 1\"</option>\r\n\t\t\t\t\t\t\t<option>SIA \"Adeptus Renewable Energy\"</option>\r\n\t\t\t\t\t\t\t<option>SIA \"Valkas koks\"</option>\r\n\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Amats</Form.Label>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT} \r\n\t\t\t\t\t\t\tvalue={this.state.position} \r\n\t\t\t\t\t\t\tonChange={this.onPositionChange}\r\n\t\t\t\t\t\t\tplaceholder=\"Darba Amats\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group controlId=\"formBasicChecbox\">\r\n\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\tlabel=\"Turpint reistrciju pievienojot NFC karti\"\r\n\t\t\t\t\t\t\tname=\"addCard\"\r\n\t\t\t\t\t\t\tchecked={this.state.addCard}\r\n\t\t\t\t\t\t\tonChange={this.onAddCardChange}/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Alert variant={\"primary\"} show={this.state.registrationState === REGISTER_STATE.RFID_WAIT} onClose={() => null}>\r\n\t\t\t\t\t\tNoskenjiet vlamo kartiu.\r\n\t\t\t\t\t</Alert>\r\n\r\n\t\t\t\t\t<Alert variant={\"success\"} show={this.state.registrationState === REGISTER_STATE.COMPLETE} onClose={() => null}>\r\n\t\t\t\t\t\tDarbinieks veiksmgi pievienots darbinieku sarakstam.\r\n\t\t\t\t\t</Alert>\r\n\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Buttons \r\n\t\t\t\t\t\tregistrationState={this.state.registrationState}\r\n\t\t\t\t\t\thideRegisterEmployee={this.props.hideRegisterEmployee}\r\n\t\t\t\t\t\thideRegisterEmployeeAndDelete={this.hideRegisterEmployeeAndDelete}\r\n\t\t\t\t\t\taddCard={this.state.addCard}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction Buttons(props) {\r\n\tswitch(props.registrationState) {\r\n\t\tdefault:\r\n\t\tcase REGISTER_STATE.DATA_INPUT: {\r\n\t\t\treturn(\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Button variant={ props.addCard ? \"primary\" : \"success\"} type=\"submit\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tprops.addCard \r\n\t\t\t\t\t\t\t? \"Tlk\"\r\n\t\t\t\t\t\t\t: \"Pabeigt\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\t\tcase REGISTER_STATE.RFID_WAIT: {\r\n\t\t\treturn(\r\n\t\t\t\tnull\r\n\t\t\t);\r\n\t\t}\r\n\t\tcase REGISTER_STATE.COMPLETE: {\r\n\t\t\treturn(\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Button variant=\"success\" type=\"submit\">\r\n\t\t\t\t\t\tPabeigt\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\temployees: state.employees.employees,\r\n\t\tregisterEmployee: state.employees.registerEmployee,\r\n\t\tuser: state.employees.user,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowRegisterEmployee: () => dispatch(showRegisterEmployee()),\r\n\t\thideRegisterEmployee: () => dispatch(hideRegisterEmployee()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(RegisterEmployee);\r\n","import React from \"react\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\n\r\nconst NotFound = () => {\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t<Col className=\"text-center mt-4 mb-4\">\r\n\t\t\t\t<h1>404</h1>\r\n\t\t\t\t<h5>Lapa netika atrasta...</h5>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n}\r\n\r\nexport default NotFound;\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nimport { Table, Modal, Dropdown, DropdownButton, Col, Row, Form, Button } from \"react-bootstrap\";\r\nimport BoostrapDatePicker from \"./BoostrapDatePicker\";\r\n\r\nimport { workLogUpdateInterval } from \"../utils/config\";\r\n\r\nimport { hideEmployeeWorkLog } from \"../actions/employeeActions\";\r\n\r\nimport { getServerEmployee, getServerEmployeeWorkLog, deleteServerWorkLog, editServerWorkLog } from \"../utils/employeeUtils\";\r\nimport { addZero, millisecondConverter } from \"../utils/commonUtils\";\r\n\r\nimport { FiTrash, FiEdit, FiX, FiCheck } from \"react-icons/fi\";\r\n\r\nclass ViewEmployee extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tconst startDate = new Date();\r\n\t\tstartDate.setHours(0, 0, 0);\r\n\r\n\t\tconst endDate = new Date();\r\n\t\tendDate.setHours(23, 59, 59);\r\n\r\n\t\tthis.state = {\r\n\t\t\temployee: {\r\n\t\t\t\tname: \"Ield...\",\r\n\t\t\t\tsurname: \" \"\r\n\t\t\t},\r\n\t\t\tworkLog: [],\r\n\t\t\teditWorkLog: {\r\n\t\t\t\tid: null,\r\n\t\t\t\tstartDate: null,\r\n\t\t\t\tendDate: null,\r\n\t\t\t\tworking: false,\r\n\t\t\t},\r\n\t\t\tresults: 0,\r\n\t\t\tupdateInterval: null,\r\n\t\t\tstartDate: startDate,\r\n\t\t\tendDate: endDate,\r\n\t\t\tdropdown: {\r\n\t\t\t\tcurrentFilter: \"odiena\",\r\n\t\t\t\tfilters: [\"odiena\", \"Vakardiena\", \"Pdjs 7 dienas\", \"Pdjs 30 dienas\"]\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.employeeWorkLog.id !== prevProps.employeeWorkLog.id && this.props.employeeWorkLog.id !== null) {\r\n\t\t\tthis.fetchWorkLog();\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.state.updateInterval);\r\n\t}\r\n\r\n\tfetchWorkLog = () => {\r\n\t\tgetServerEmployee(this.props.employeeWorkLog.id).then((res) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\temployee: res.data\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tgetServerEmployeeWorkLog(this.props.employeeWorkLog.id, \"DESC\").then((res) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tworkLog: res.data\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tclearInterval(this.state.updateInterval);\r\n\t\tthis.setState({\r\n\t\t\tupdateInterval: setInterval(() => {\r\n\t\t\t\tgetServerEmployee(this.props.employeeWorkLog.id).then((res) => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\temployee: res.data\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\tgetServerEmployeeWorkLog(this.props.employeeWorkLog.id, \"DESC\").then((res) => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tworkLog: res.data\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}, workLogUpdateInterval)\r\n\t\t});\r\n\t}\r\n\r\n\tonHide = () => {\r\n\t\tclearInterval(this.state.updateInterval);\r\n\t\tthis.props.hideEmployeeWorkLog();\r\n\t}\r\n\r\n\tonExited = () => {\r\n\t\tthis.setState({\r\n\t\t\temployee: {\r\n\t\t\t\tname: \"Ield...\",\r\n\t\t\t\tsurname: \" \"\r\n\t\t\t},\r\n\t\t\tworkLog: [],\r\n\t\t\teditWorkLog: {\r\n\t\t\t\tid: null,\r\n\t\t\t\tstartDate: null,\r\n\t\t\t\tendDate: null,\r\n\t\t\t\tworking: false,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\thandleDateChangeStart = (date) => {\r\n\t\tconst startOfDay = new Date(date);\r\n\t\tstartOfDay.setHours(0, 0, 0);\r\n\t\tthis.setState({\r\n\t\t\tstartDate: startOfDay,\r\n\t\t});\r\n\t}\r\n\r\n\thandleDateChangeEnd = (date) => {\r\n\t\tconst endOfDay = new Date(date);\r\n\t\tendOfDay.setHours(23, 59, 59);\r\n\t\tthis.setState({\r\n\t\t\tendDate: endOfDay,\r\n\t\t});\r\n\t}\r\n\r\n\tonClickFilter = (index) => {\r\n\t\tswitch (index) {\r\n\t\t\tcase 0: {\r\n\t\t\t\tthis.handleDateChangeStart(new Date());\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 1: {\r\n\t\t\t\tconst yesterday = new Date();\r\n\t\t\t\tyesterday.setDate(yesterday.getDate() - 1);\r\n\t\t\t\tthis.handleDateChangeStart(yesterday);\r\n\t\t\t\tthis.handleDateChangeEnd(yesterday);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 2: {\r\n\t\t\t\tconst last7Days = new Date();\r\n\t\t\t\tlast7Days.setDate(last7Days.getDate() - 7);\r\n\t\t\t\tthis.handleDateChangeStart(last7Days);\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 3: {\r\n\t\t\t\tconst last30Days = new Date();\r\n\t\t\t\tlast30Days.setDate(last30Days.getDate() - 30);\r\n\t\t\t\tthis.handleDateChangeStart(last30Days);\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdefault: {\r\n\t\t\t\tthis.handleDateChangeStart(new Date());\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tdropdown: {\r\n\t\t\t\t...this.state.dropdown,\r\n\t\t\t\tcurrentFilter: this.state.dropdown.filters[index],\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tdeleteWorkLog = (id, working, employeeId) => {\r\n\t\tdeleteServerWorkLog(id, working, employeeId).then(() => {\r\n\t\t\tthis.fetchWorkLog();\r\n\t\t});\r\n\t}\r\n\r\n\teditWorkLog = (id, startDate, endDate, working) => {\r\n\t\tthis.setState({\r\n\t\t\teditWorkLog: {\r\n\t\t\t\t...this.state.editWorkLog,\r\n\t\t\t\tid: id,\r\n\t\t\t\tstartDate: startDate,\r\n\t\t\t\tendDate: endDate,\r\n\t\t\t\tworking: working,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tconfirmEditWorkLog = () => {\r\n\t\tconst prevWorkLog = this.state.workLog.find((workLog) => workLog.id === this.state.editWorkLog.id);\r\n\t\teditServerWorkLog(\r\n\t\t\tthis.state.editWorkLog.id,\r\n\t\t\tthis.state.editWorkLog.startDate,\r\n\t\t\tthis.state.editWorkLog.endDate,\r\n\t\t\tthis.state.editWorkLog.working,\r\n\t\t\tthis.state.employee.id,\r\n\t\t\tprevWorkLog).then(() => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\teditWorkLog: {\r\n\t\t\t\t\t\tid: null,\r\n\t\t\t\t\t\tstartDate: null,\r\n\t\t\t\t\t\tendDate: null,\r\n\t\t\t\t\t\tworking: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t}, () => {\r\n\t\t\t\t\tthis.fetchWorkLog();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\tcancelEditWorkLog = () => {\r\n\t\tthis.setState({\r\n\t\t\teditWorkLog: {\r\n\t\t\t\tid: null,\r\n\t\t\t\tstartDate: null,\r\n\t\t\t\tendDate: null,\r\n\t\t\t\tworking: false,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tonStartDateChange = (date) => {\r\n\t\tthis.setState({\r\n\t\t\teditWorkLog: {\r\n\t\t\t\t...this.state.editWorkLog,\r\n\t\t\t\tstartDate: date\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonEndDateChange = (date) => {\r\n\t\tthis.setState({\r\n\t\t\teditWorkLog: {\r\n\t\t\t\t...this.state.editWorkLog,\r\n\t\t\t\tendDate: date\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet filterResults = 0;\r\n\t\tlet lastStartDate = null;\r\n\t\tlet totalDayWorkTime = 0;\r\n\t\tlet totalWorkTime = 0;\r\n\t\tlet totalDays = 0;\r\n\r\n\t\tconst workLogFiltered = this.state.workLog\r\n\t\t\t.filter((log) => {\r\n\t\t\t\t// Filter out all rows which do not match the date\r\n\t\t\t\tconst startTimePure = new Date(log.start_time);\r\n\r\n\t\t\t\tif (startTimePure < this.state.startDate || startTimePure > this.state.endDate) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tfilterResults++;\r\n\t\t\t\treturn true;\r\n\t\t\t});\r\n\r\n\t\tconst workLog = workLogFiltered\r\n\t\t\t.map((log, index) => {\r\n\t\t\t\t// Format the remaining filtered work logs\r\n\t\t\t\tconst stillWorking = log.end_time === null ? true : false;\r\n\t\t\t\tconst startTimePure = new Date(log.start_time);\r\n\t\t\t\tconst endTimePure = stillWorking ? new Date() : new Date(log.end_time);\r\n\r\n\t\t\t\tconst startTimeFormatted =\r\n\t\t\t\t\taddZero(startTimePure.getHours()) + \":\"\r\n\t\t\t\t\t+ addZero(startTimePure.getMinutes());\r\n\r\n\t\t\t\tconst endTimeFormatted = stillWorking ? \" - \" :\r\n\t\t\t\t\taddZero(endTimePure.getHours()) + \":\"\r\n\t\t\t\t\t+ addZero(endTimePure.getMinutes());\r\n\r\n\t\t\t\tconst workTime = millisecondConverter(endTimePure - startTimePure);\r\n\t\t\t\ttotalDayWorkTime += (endTimePure - startTimePure);\r\n\t\t\t\ttotalWorkTime += (endTimePure - startTimePure);\r\n\t\t\t\tconst workTimeFormatted =\r\n\t\t\t\t\t+ workTime.hours + \" st. \"\r\n\t\t\t\t\t+ workTime.minutes + \" min. \";\r\n\r\n\t\t\t\tconst workingStyle = {\r\n\t\t\t\t\tbackgroundColor: \"#ffffe6\",\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst commands = (\r\n\t\t\t\t\t<Row className=\"text-center\">\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.editWorkLog.id === log.id\r\n\t\t\t\t\t\t\t\t\t? <>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize={\"sm\"}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.confirmEditWorkLog()}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<FiCheck className=\"mb-1\" />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize={\"sm\"}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.cancelEditWorkLog()}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<FiX className=\"mb-1\" />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t: <>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize={\"sm\"}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.editWorkLog(log.id, log.start_time, log.end_time, stillWorking)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<FiEdit className=\"mb-1\" />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize={\"sm\"}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.deleteWorkLog(log.id, stillWorking, log.employee_id)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<FiTrash className=\"mb-1\" />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\r\n\t\t\t\tconst workRow = (\r\n\t\t\t\t\t<tr className=\"text-center\" style={stillWorking ? workingStyle : null}>\r\n\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.editWorkLog.id === log.id\r\n\t\t\t\t\t\t\t\t\t? <BoostrapDatePicker\r\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy. HH:mm\"\r\n\t\t\t\t\t\t\t\t\t\tselected={new Date(this.state.editWorkLog.startDate)}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onStartDateChange}\r\n\t\t\t\t\t\t\t\t\t\ttimeIntervals={1}\r\n\t\t\t\t\t\t\t\t\t\tshowTimeSelect\r\n\t\t\t\t\t\t\t\t\t\ttimeFormat=\"HH:mm\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t: startTimeFormatted\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.editWorkLog.id === log.id && !stillWorking\r\n\t\t\t\t\t\t\t\t\t? <BoostrapDatePicker\r\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy. HH:mm\"\r\n\t\t\t\t\t\t\t\t\t\tselected={new Date(this.state.editWorkLog.endDate)}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onEndDateChange}\r\n\t\t\t\t\t\t\t\t\t\ttimeIntervals={1}\r\n\t\t\t\t\t\t\t\t\t\tshowTimeSelect\r\n\t\t\t\t\t\t\t\t\t\ttimeFormat=\"HH:mm\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t: endTimeFormatted\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>{workTimeFormatted}</td>\r\n\t\t\t\t\t\t<td>{commands}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\r\n\t\t\t\tlet dateRow = null;\r\n\t\t\t\tlet totalDayRow = null;\r\n\t\t\t\tlet totalRow = null;\r\n\r\n\t\t\t\tif (lastStartDate === null || lastStartDate !== startTimePure.getDate()) {\r\n\t\t\t\t\tlastStartDate = startTimePure.getDate();\r\n\r\n\t\t\t\t\tconst dateFormatted =\r\n\t\t\t\t\t\taddZero(startTimePure.getDate()) + \".\"\r\n\t\t\t\t\t\t+ addZero(startTimePure.getMonth() + 1) + \".\"\r\n\t\t\t\t\t\t+ addZero(startTimePure.getFullYear());\r\n\r\n\t\t\t\t\tdateRow = (\r\n\t\t\t\t\t\t<tr className=\"bg-dark text-light\">\r\n\t\t\t\t\t\t\t<td style={{ width: \"100px\" }}><b>{dateFormatted}</b></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet nextStartDate = null;\r\n\r\n\t\t\t\tif (workLogFiltered[index + 1]) {\r\n\t\t\t\t\tnextStartDate = new Date(workLogFiltered[index + 1].start_time).getDate();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (nextStartDate !== startTimePure.getDate()) {\r\n\t\t\t\t\tconst totalDayWorkTimeConverted = millisecondConverter(totalDayWorkTime);\r\n\r\n\t\t\t\t\tconst totalDayWorkTimeFormatted =\r\n\t\t\t\t\t\t+ totalDayWorkTimeConverted.hours + \" st. \"\r\n\t\t\t\t\t\t+ totalDayWorkTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\t\ttotalDayRow = (\r\n\t\t\t\t\t\t<tr className=\"bg-light text-dark\">\r\n\t\t\t\t\t\t\t<td><b>KOP</b></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td className=\"text-center\"><b>{totalDayWorkTimeFormatted}</b></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\ttotalDays++;\r\n\t\t\t\t\ttotalDayWorkTime = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (totalDays > 1 && nextStartDate === null) {\r\n\t\t\t\t\tconst totalWorkTimeConverted = millisecondConverter(totalWorkTime);\r\n\r\n\t\t\t\t\tconst totalWorkTimeFormatted =\r\n\t\t\t\t\t\t+ totalWorkTimeConverted.hours + \" st. \"\r\n\t\t\t\t\t\t+ totalWorkTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\t\tconst fromDateFormatted =\r\n\t\t\t\t\t\taddZero(this.state.startDate.getDate()) + \".\"\r\n\t\t\t\t\t\t+ addZero(this.state.startDate.getMonth() + 1) + \".\"\r\n\t\t\t\t\t\t+ addZero(this.state.startDate.getFullYear());\r\n\r\n\t\t\t\t\tconst toDateFormatted =\r\n\t\t\t\t\t\taddZero(this.state.endDate.getDate()) + \".\"\r\n\t\t\t\t\t\t+ addZero(this.state.endDate.getMonth() + 1) + \".\"\r\n\t\t\t\t\t\t+ addZero(this.state.endDate.getFullYear());\r\n\r\n\r\n\t\t\t\t\ttotalRow = (\r\n\t\t\t\t\t\t<tr className=\"text-dark\">\r\n\t\t\t\t\t\t\t<td colSpan={2}><b>{fromDateFormatted} - {toDateFormatted}</b></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td className=\"text-center\"><b>{totalWorkTimeFormatted}</b></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\ttotalWorkTime = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tbody key={index} className=\"vertical-align-center\">\r\n\t\t\t\t\t\t{dateRow}\r\n\t\t\t\t\t\t{workRow}\r\n\t\t\t\t\t\t{totalDayRow}\r\n\t\t\t\t\t\t{totalRow}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tshow={this.props.employeeWorkLog.show}\r\n\t\t\t\tonHide={this.onHide}\r\n\t\t\t\tonExited={this.onExited}\r\n\t\t\t\tsize={\"lg\"}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title className=\"w-100\">\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t\t{this.state.employee.surname + \" \" + this.state.employee.name}\r\n\t\t\t\t\t\t\t\t\t{this.state.employee.personalCode\r\n\t\t\t\t\t\t\t\t\t\t? \" (\" + this.state.employee.personalCode + \")\"\r\n\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<h5 className=\"text-secondary\">{this.state.employee.company}</h5>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<h5 className=\"text-secondary\">{this.state.employee.position}</h5>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col className=\"text-right\">\r\n\t\t\t\t\t\t\t\t<h5 className=\"text-secondary\">\r\n\t\t\t\t\t\t\t\t\t{this.state.employee.number\r\n\t\t\t\t\t\t\t\t\t\t? \"Tel. \" + this.state.employee.number\r\n\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label column xs={2}>No</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Col xs={10}>\r\n\t\t\t\t\t\t\t\t\t\t<BoostrapDatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy.\"\r\n\t\t\t\t\t\t\t\t\t\t\tselected={this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleDateChangeStart}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxDate={new Date()}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label column xs={2}>Ldz</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Col xs={10}>\r\n\t\t\t\t\t\t\t\t\t\t<BoostrapDatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy.\"\r\n\t\t\t\t\t\t\t\t\t\t\tselected={this.state.endDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleDateChangeEnd}\r\n\t\t\t\t\t\t\t\t\t\t\tminDate={this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxDate={new Date()}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col className=\"d-flex flex-column\">\r\n\t\t\t\t\t\t\t\t<DropdownButton\r\n\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t\t\t\t\ttitle={this.state.dropdown.currentFilter}\r\n\t\t\t\t\t\t\t\t\tclassName=\"text-right mt-auto mb-3\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tthis.state.dropdown.filters.map((filter, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <Dropdown.Item key={index} onClick={() => this.onClickFilter(index)}>{filter}</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</DropdownButton>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.workLog.length && filterResults\r\n\t\t\t\t\t\t\t? (\r\n\t\t\t\t\t\t\t\t<Table size=\"sm\">\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Ienca</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Izgja</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Nostrdja</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t{workLog}\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\tNetika atrasts neviens ieraksts...\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\temployeeWorkLog: state.employees.employeeWorkLog,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\thideEmployeeWorkLog: () => dispatch(hideEmployeeWorkLog()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ViewEmployee);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button } from \"react-bootstrap\";\r\n\r\nimport { showDeleteEmployee, hideDeleteEmployee } from \"../actions/employeeActions\";\r\n\r\nimport { storeUpdateEmployees, deleteServerEmployee } from \"../utils/employeeUtils\";\r\n\r\nclass DeleteEmployee extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.deleteEmployee.show}\r\n\t\t\t\tonHide={() => this.props.hideDeleteEmployee()}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>{this.props.deleteEmployee.employee.name + \" \" + this.props.deleteEmployee.employee.surname}</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\tVai esiet prliecints ka vlaties dzst o darbinieku?\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"danger\" onClick={() => {\r\n\t\t\t\t\t\tdeleteServerEmployee(this.props.deleteEmployee.employee.id).then(() => {\r\n\t\t\t\t\t\t\tstoreUpdateEmployees();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.props.hideDeleteEmployee();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\tDzst\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tdeleteEmployee: state.employees.deleteEmployee,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowDeleteEmployee: () => dispatch(showDeleteEmployee()),\r\n\t\thideDeleteEmployee: () => dispatch(hideDeleteEmployee()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(DeleteEmployee);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button, Form, Row, Col, Alert } from \"react-bootstrap\";\r\n\r\nimport { showEditEmployee, hideEditEmployee } from \"../actions/employeeActions\";\r\n\r\nimport {\r\n\tsetEmployeeUID,\r\n\tremoveEmployeeUID,\r\n\tawaitCard,\r\n\tstoreUpdateEmployee,\r\n\teditServerEmployee,\r\n} from \"../utils/employeeUtils\";\r\n\r\nimport {\r\n\taddZero\r\n} from \"../utils/commonUtils\";\r\n\r\nconst CHANGE_CARD_STATE = {\r\n\tOFF: 0,\r\n\tRFID_WAIT: 1,\r\n\tCOMPLETE: 2,\r\n\tDELETED: 3,\r\n}\r\n\r\nclass EditEmployee extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.initialState = {\r\n\t\t\temployee: {\r\n\t\t\t\tname: \"\",\r\n\t\t\t\tsurname: \"\",\r\n\t\t\t\tpersonalCode: \"\",\r\n\t\t\t\tcompany: \"\",\r\n\t\t\t\tposition: \"\",\r\n\t\t\t\tnumber: \"\",\r\n\t\t\t\tuid: \"\"\r\n\t\t\t},\r\n\t\t\tchangeCard: {\r\n\t\t\t\tstatus: 0,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\t...this.initialState\r\n\t\t}\r\n\t}\r\n\r\n\tonEnter = () => {\r\n\t\tthis.setState({\r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\t...this.props.editEmployee.employee,\r\n\t\t\t}\r\n\t\t}, () => {\r\n\t\t\tif(!this.state.employee.company) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\temployee: {\r\n\t\t\t\t\t\t...this.state.employee,\r\n\t\t\t\t\t\tcompany: 'SIA \"Vrpas 1\"',\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonHide = () => {\r\n\t\tthis.props.hideEditEmployee();\r\n\t\tthis.setState({\r\n\t\t\t...this.initialState\r\n\t\t});\r\n\t}\r\n\r\n\tonNameChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tname: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonSurnameChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tsurname: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonPersonalCodeChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tpersonalCode: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonCompanyChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tcompany: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonPositionChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tposition: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonNumberChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tnumber: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tchangeCard = (id) => {\r\n\t\tthis.setState({\r\n\t\t\tchangeCard: {\r\n\t\t\t\tstatus: CHANGE_CARD_STATE.RFID_WAIT\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tawaitCard().then((res) => {\r\n\t\t\tif(res.data) {\r\n\t\t\t\tsetEmployeeUID(res.data.uid, id).then(() => {\r\n\t\t\t\t\tstoreUpdateEmployee(id);\r\n\t\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\temployee: {\r\n\t\t\t\t\t\t\t...this.state.employee,\r\n\t\t\t\t\t\t\tuid: res.data.uid,\r\n\t\t\t\t\t\t\tuid_added: new Date(),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tchangeCard: {\r\n\t\t\t\t\t\t\tstatus: CHANGE_CARD_STATE.COMPLETE\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tchangeCard: {\r\n\t\t\t\t\t\tstatus: CHANGE_CARD_STATE.OFF\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tdeleteCard = (id) => {\r\n\t\tremoveEmployeeUID(id).then(() => {\r\n\t\t\tstoreUpdateEmployee(id);\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\temployee: {\r\n\t\t\t\t\t...this.state.employee,\r\n\t\t\t\t\tuid: \"N/A\",\r\n\t\t\t\t\tuid_added: null,\r\n\t\t\t\t},\r\n\t\t\t\tchangeCard: {\r\n\t\t\t\t\tstatus: CHANGE_CARD_STATE.DELETED\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst uidAddedDate = new Date(this.state.employee.uid_added);\r\n\t\tconst uidAdded = \r\n\t\t\taddZero(uidAddedDate.getDate()) + \".\" \r\n\t\t\t+ addZero(uidAddedDate.getMonth() + 1) + \".\" \r\n\t\t\t+ addZero(uidAddedDate.getFullYear());\r\n\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.editEmployee.show}\r\n\t\t\t\tonHide={() => this.onHide()}\r\n\t\t\t\tonEnter={() => this.onEnter()}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>{this.props.editEmployee.employee.name + \" \" + this.props.editEmployee.employee.surname}</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>* Vrds</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control required value={this.state.employee.name} onChange={this.onNameChange}/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>* Uzvrds</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control required value={this.state.employee.surname} onChange={this.onSurnameChange}/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>Personas Kods</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control value={this.state.employee.personalCode} onChange={this.onPersonalCodeChange}/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>Telefona Numurs</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control value={this.state.employee.number} onChange={this.onNumberChange}/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Uzmums</Form.Label>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\tas=\"select\"\r\n\t\t\t\t\t\t\tonChange={this.onCompanyChange}\r\n\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\tthis.state.employee.company\r\n\t\t\t\t\t\t\t\t? this.state.employee.company\r\n\t\t\t\t\t\t\t\t: 'SIA \"Vrpas 1\"'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value='SIA \"Vrpas 1\"'>SIA \"Vrpas 1\"</option>\r\n\t\t\t\t\t\t\t<option value='SIA \"Adeptus Renewable Energy\"'>SIA \"Adeptus Renewable Energy\"</option>\r\n\t\t\t\t\t\t\t<option value='SIA \"Valkas koks\"'>SIA \"Valkas koks\"</option>\r\n\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Amats</Form.Label>\r\n\t\t\t\t\t\t<Form.Control value={this.state.employee.position} onChange={this.onPositionChange}/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t<Form.Label column xs={\"auto\"}>UID (NFC Karte)</Form.Label>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\tdisabled \r\n\t\t\t\t\t\t\t\tvalue={this.state.employee.uid ? this.state.employee.uid : \"N/A\"}\r\n\t\t\t\t\t\t\t\tclassName=\"text-center\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs={\"auto\"}>\r\n\t\t\t\t\t\t\t<Button variant=\"link\" onClick={() => this.deleteCard(this.props.editEmployee.employee.id)}>Dzst</Button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs={\"auto\"}>\r\n\t\t\t\t\t\t\t<Button variant=\"link\" onClick={() => this.changeCard(this.props.editEmployee.employee.id)}>Maint</Button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.employee.uid_added\r\n\t\t\t\t\t\t? <Form.Group as={Row}>\r\n\t\t\t\t\t\t\t<Form.Label column>Karte reistrta: { uidAdded }</Form.Label>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t: null\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t<Alert \r\n\t\t\t\t\t\tvariant={\"primary\"} \r\n\t\t\t\t\t\tshow={\r\n\t\t\t\t\t\t\tthis.state.changeCard.status === CHANGE_CARD_STATE.RFID_WAIT\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\tonClose={() => null}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tNoskenjiet vlamo kartiu.\r\n\t\t\t\t\t</Alert>\r\n\r\n\t\t\t\t\t<Alert \r\n\t\t\t\t\t\tvariant={\"success\"} \r\n\t\t\t\t\t\tshow={\r\n\t\t\t\t\t\t\tthis.state.changeCard.status === CHANGE_CARD_STATE.COMPLETE\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\tonClose={() => null}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tDarbiniekam karte nomainta.\r\n\t\t\t\t\t</Alert>\r\n\r\n\t\t\t\t\t<Alert \r\n\t\t\t\t\t\tvariant={\"danger\"} \r\n\t\t\t\t\t\tshow={\r\n\t\t\t\t\t\t\tthis.state.changeCard.status === CHANGE_CARD_STATE.DELETED\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\tonClose={() => null}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tDarbinieka karte dzsta.\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"success\" onClick={() => {\r\n\t\t\t\t\t\tconst employeeId = this.state.employee.id;\r\n\t\t\t\t\t\teditServerEmployee(this.state.employee).then(() => {\r\n\t\t\t\t\t\t\tstoreUpdateEmployee(employeeId);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.props.hideEditEmployee();\r\n\t\t\t\t\t\tthis.onHide();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\tRedit\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\teditEmployee: state.employees.editEmployee,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowEditEmployee: () => dispatch(showEditEmployee()),\r\n\t\thideEditEmployee: () => dispatch(hideEditEmployee()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(EditEmployee);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button, Row, Col, Table, Form } from \"react-bootstrap\";\r\nimport BoostrapDatePicker from \"./BoostrapDatePicker\";\r\nimport download from \"downloadjs\";\r\n\r\nimport { showExportExcel, hideExportExcel } from \"../actions/employeeActions\";\r\n\r\nimport { exportServerEmployees } from \"../utils/employeeUtils\";\r\n\r\nclass ExportExcel extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tmonth: new Date(),\r\n\t\t\temployeeList: [],\r\n\t\t\tcheckAll: false,\r\n\t\t\tincludeNoHours: false,\r\n\t\t\tincludeInactive: false,\r\n\t\t\tincludeArchived: false\r\n\t\t}\r\n\t}\r\n\r\n\thandleDateChange = (date) => {\r\n\t\tthis.setState({\r\n\t\t\tmonth: date,\r\n\t\t});\r\n\t}\r\n\r\n\tonToggleIncludeNoHours = () => {\r\n\t\tthis.setState({\r\n\t\t\tincludeNoHours: !this.state.includeNoHours\r\n\t\t});\r\n\t}\r\n\r\n\tonToggleIncludeInactive = () => {\r\n\t\tthis.setState({\r\n\t\t\tincludeInactive: !this.state.includeInactive\r\n\t\t});\r\n\t}\r\n\r\n\tonToggleIncludeArchived = () => {\r\n\t\tthis.setState({\r\n\t\t\tincludeArchived: !this.state.includeArchived\r\n\t\t});\r\n\t}\r\n\r\n\tonEmployeeCheck = (index) => {\r\n\t\tconst newList = this.state.employeeList;\r\n\t\tnewList[index].checked = !newList[index].checked;\r\n\r\n\t\tthis.setState({\r\n\t\t\temployeeList: newList\r\n\t\t});\r\n\t}\r\n\r\n\tonCheckAll = () => {\r\n\t\tthis.setState({\r\n\t\t\temployeeList: this.state.employeeList.map(employee => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...employee,\r\n\t\t\t\t\tchecked: !this.state.checkAll\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tcheckAll: !this.state.checkAll\r\n\t\t});\r\n\t}\r\n\r\n\texport = () => {\r\n\t\texportServerEmployees({\r\n\t\t\tmonth: this.state.month,\r\n\t\t\temployees: this.state.employeeList.filter(employee => {\r\n\t\t\t\treturn employee.checked;\r\n\t\t\t}),\r\n\t\t\tincludeNoHours: this.state.includeNoHours,\r\n\t\t\tincludeInactive: this.state.includeInactive,\r\n\t\t\tincludeArchived: this.state.includeArchived\r\n\t\t}).then((response) => {\r\n\t\t\tconst content = response.headers[\"content-type\"];\r\n           \tdownload(response.data, \"Varpas 1.xlsx\", content);\r\n\t\t});\r\n\t}\r\n\r\n\tonEnter = () => {\r\n\t\tthis.setState({\r\n\t\t\temployeeList: this.props.employees.map(employee => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...employee,\r\n\t\t\t\t\tchecked: false\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tif(!this.props.exportExcel.show) return null;\r\n\r\n\t\tconst employees = this.state.employeeList.map((employee, index) => {\r\n\t\t\treturn (\r\n\t\t\t\t<tbody key={index}>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\tchecked={employee.checked}\r\n\t\t\t\t\t\t\t\tonChange={() => this.onEmployeeCheck(index)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>{employee.surname + \" \" + employee.name}</td>\r\n\t\t\t\t\t\t<td>{employee.personalCode}</td>\r\n\t\t\t\t\t\t<td>{employee.position}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tsize=\"lg\"\r\n\t\t\t\tshow={this.props.exportExcel.show}\r\n\t\t\t\tonEnter={() => this.onEnter()}\r\n\t\t\t\tonHide={() => this.props.hideExportExcel()}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>Eksports</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<h5>Periods</h5>\r\n\t\t\t\t\t\t\t<Form.Group as={Row} className=\"ml-1\">\r\n\t\t\t\t\t\t\t\t<Form.Label column xs={\"3\"}>Mnesis: </Form.Label>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<BoostrapDatePicker\r\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"MM.yyyy.\"\r\n\t\t\t\t\t\t\t\t\t\tselected={this.state.month}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleDateChange}\r\n\t\t\t\t\t\t\t\t\t\tshowMonthYearPicker\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<h5>Iekaut</h5>\r\n\t\t\t\t\t\t\t<Form.Group as={Row} className=\"ml-1\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\t\tlabel=\"darbiniekus bez nostrdtm stundm\"\r\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.includeNoHours}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onToggleIncludeNoHours}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group as={Row} className=\"ml-1\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\t\tlabel=\"deaktiviztus darbiniekus\"\r\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.includeInactive}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onToggleIncludeInactive}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group as={Row} className=\"ml-1\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\t\tlabel=\"arhivtus darbiniekus\"\r\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.includeArchived}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onToggleIncludeArchived}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<h5>Atlast Darbiniekus</h5>\r\n\t\t\t\t\t\t\t<Table size=\"sm\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.checkAll}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={() => this.onCheckAll()}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Vrds</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Personas Kods</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Amats</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t{employees}\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"success\" onClick={() => {\r\n\t\t\t\t\t\tthis.export();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\tEksportt\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\texportExcel: state.employees.exportExcel,\r\n\t\temployees: state.employees.employees\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowExportExcel: () => dispatch(showExportExcel()),\r\n\t\thideExportExcel: () => dispatch(hideExportExcel()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ExportExcel);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button, Form, Alert } from \"react-bootstrap\";\r\n\r\nimport { authenticate } from \"../utils/userUtils\";\r\nimport { production } from \"../utils/config\";\r\n\r\nimport logo from \"../images/logo.png\";\r\n\r\nconst DEBUG = !production;\r\n\r\nclass LogIn extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\tusername: DEBUG ? \"nils.asejevs\" : \"\",\r\n\t\t\tpassword: DEBUG ? \"EvoNils112\" : \"\",\r\n\t\t\trememberMe: true,\r\n\t\t\tauthenticationError: false,\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif(DEBUG) {\r\n\t\t\tthis.logIn();\r\n\t\t}\r\n\t}\r\n\r\n\tonUsernameChange = (event) => {\r\n\t\tthis.setState({ username: event.target.value });\r\n\t}\r\n\r\n\tonPasswordChange = (event) => {\r\n\t\tthis.setState({ password: event.target.value });\r\n\t}\r\n\r\n\tonRememberMeChange = () => {\r\n\t\tthis.setState({ rememberMe: !this.state.rememberMe });\r\n\t}\r\n\r\n\tlogIn = (e) => {\r\n\t\tif(DEBUG === false) {\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t\tauthenticate(this.state.username, this.state.password, this.state.rememberMe).then((res) => {\r\n\t\t\tif(res.data) {\r\n\t\t\t\twindow.location.reload();\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tauthenticationError: true,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tcentered\r\n\t\t\t\tshow={true}\r\n\t\t\t\tonHide={() => null}\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={e => this.logIn(e)}>\r\n\t\t\t\t<Modal.Header className=\"justify-content-center\">\r\n\t\t\t\t\t<Modal.Title>\r\n\t\t\t\t\t\t<img \r\n\t\t\t\t\t\t\tsrc={logo}\r\n\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\twidth=\"auto\"\r\n\t\t\t\t\t\t\theight=\"40px\"\r\n\t\t\t\t\t\t\tclassName=\"d-inline-block align-top mr-2\"\r\n\t\t\t\t\t\t\tstyle={{filter: \"invert(100%)\"}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\tAutentifikcija\r\n\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Lietotjvrds</Form.Label>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={this.state.username} \r\n\t\t\t\t\t\t\tonChange={this.onUsernameChange}\r\n\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Parole</Form.Label>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={this.state.password} \r\n\t\t\t\t\t\t\tonChange={this.onPasswordChange}\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group controlId=\"formBasicChecbox\">\r\n\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\tlabel=\"Atcerties mani\"\r\n\t\t\t\t\t\t\tname=\"rememberMe\"\r\n\t\t\t\t\t\t\tchecked={this.state.rememberMe}\r\n\t\t\t\t\t\t\tonChange={this.onRememberMeChange}/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Alert variant={\"danger\"} show={this.state.authenticationError} onClose={() => null}>\r\n\t\t\t\t\t\tNepareizs lietotjvrds un/vai parole.\r\n\t\t\t\t\t</Alert>\r\n\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"success\" type=\"submit\">\r\n\t\t\t\t\t\tIelogoties\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(LogIn);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Alert } from \"react-bootstrap\";\r\n\r\nimport { showCheckCard, hideCheckCard, showEmployeeWorkLog } from \"../actions/employeeActions\";\r\n\r\nimport { awaitCard, getEmployeeByUID } from \"../utils/employeeUtils\";\r\n\r\n//import { checkCard } from \"../utils/employeeUtils\";\r\n\r\nclass CheckCard extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\tcardScanned: false,\r\n\t\t\tnotFound: false,\r\n\t\t}\r\n\t}\r\n\r\n\tcheckCard = () => {\r\n\t\tawaitCard().then((res) => {\r\n\t\t\tif(res.data) {\t\r\n\t\t\t\tgetEmployeeByUID(res.data.uid).then((res2) => {\r\n\t\t\t\t\tif(res2.data) {\r\n\t\t\t\t\t\tthis.hideModal();\r\n\t\t\t\t\t\tthis.props.showEmployeeWorkLog(res2.data.id);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tcardScanned: true,\r\n\t\t\t\t\t\t\tnotFound: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\thideModal = () => {\r\n\t\tthis.props.hideCheckCard();\r\n\r\n\t\tthis.setState({\r\n\t\t\tcardScanned: false,\r\n\t\t\temployee: {}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.checkCard.show}\r\n\t\t\t\tonHide={this.hideModal}\r\n\t\t\t\tonEntered={() => this.checkCard()}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>Atrast darbinieku pc kartes</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Alert variant={\"primary\"} show={!this.state.cardScanned}>\r\n\t\t\t\t\t\tNoskenjiet NFC kartiu...\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t<Alert variant={\"danger\"} show={this.state.cardScanned && this.state.notFound}>\r\n\t\t\t\t\t\tUz s kartias nav reistrts neviens darbinieks.\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tcheckCard: state.employees.checkCard,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowCheckCard: () => dispatch(showCheckCard()),\r\n\t\thideCheckCard: () => dispatch(hideCheckCard()),\r\n\t\tshowEmployeeWorkLog: (id) => dispatch(showEmployeeWorkLog(id)),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(CheckCard);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button, Form, Row, Col } from \"react-bootstrap\";\r\nimport BoostrapDatePicker from \"./BoostrapDatePicker\";\r\n\r\nimport { showCommentEmployee, hideCommentEmployee } from \"../actions/employeeActions\";\r\n\r\nimport { storeUpdateEmployee, addEmployeeComment } from \"../utils/employeeUtils\";\r\n\r\nclass CommentEmployee extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.initialState = {\r\n\t\t\tcomment: {\r\n\t\t\t\ttext: \"\",\r\n\t\t\t\texpires: new Date(),\r\n\t\t\t\tmanualDelete: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\t...this.initialState\r\n\t\t}\r\n\t}\r\n\r\n\tonExited = () => {\r\n\t\tthis.props.hideCommentEmployee();\r\n\t\tthis.setState({\r\n\t\t\t...this.initialState\r\n\t\t});\r\n\t}\r\n\r\n\tonCommentChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\tcomment: {\r\n\t\t\t\t...this.state.comment,\r\n\t\t\t\ttext: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonExpiryDateChange = (date) => {\r\n\t\tthis.setState({\r\n\t\t\tcomment: {\r\n\t\t\t\t...this.state.comment,\r\n\t\t\t\texpires: date\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonManualDeleteChange = () => {\r\n\t\tthis.setState({ \r\n\t\t\tcomment: {\r\n\t\t\t\t...this.state.comment,\r\n\t\t\t\tmanualDelete: !this.state.comment.manualDelete\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tshow={this.props.commentEmployee.show}\r\n\t\t\t\tonExited={() => this.onExited()}\r\n\t\t\t\tonHide={() => this.props.hideCommentEmployee()}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>{this.props.employee.name + \" \" + this.props.employee.surname}</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t<Form.Label column xs={2}>Komentrs</Form.Label>\r\n\t\t\t\t\t\t<Col xs={10}>\r\n\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\tas=\"textarea\"\r\n\t\t\t\t\t\t\t\trows=\"3\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.comment.text}\r\n\t\t\t\t\t\t\t\tonChange={this.onCommentChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t<Form.Label column xs={2}>Dzst</Form.Label>\r\n\t\t\t\t\t\t<Col xs={10}>\r\n\t\t\t\t\t\t\t<BoostrapDatePicker\r\n\t\t\t\t\t\t\t\tdisabled={this.state.comment.manualDelete}\r\n\t\t\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy. HH:mm\"\r\n\t\t\t\t\t\t\t\tselected={this.state.comment.expires}\r\n\t\t\t\t\t\t\t\tonChange={this.onExpiryDateChange}\r\n\t\t\t\t\t\t\t\tmaxDate={new Date()}\r\n\t\t\t\t\t\t\t\ttimeIntervals={1}\r\n\t\t\t\t\t\t\t\tshowTimeSelect\r\n\t\t\t\t\t\t\t\ttimeFormat=\"HH:mm\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\tlabel=\"Tikai manuli dzams\"\r\n\t\t\t\t\t\t\tname=\"manualDelete\"\r\n\t\t\t\t\t\t\tchecked={this.state.comment.manualDelete}\r\n\t\t\t\t\t\t\tonChange={this.onManualDeleteChange}/>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"success\" onClick={() => {\r\n\t\t\t\t\t\tconst employeeId = this.props.employee.id;\r\n\t\t\t\t\t\taddEmployeeComment(this.props.employee, this.state.comment).then(() => {\r\n\t\t\t\t\t\t\tstoreUpdateEmployee(employeeId);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.props.hideCommentEmployee();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\tPievienot\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tcommentEmployee: state.employees.commentEmployee,\r\n\t\temployee: state.employees.commentEmployee.employee,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowCommentEmployee: () => dispatch(showCommentEmployee()),\r\n\t\thideCommentEmployee: () => dispatch(hideCommentEmployee()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(CommentEmployee);\r\n","import React from \"react\";\r\n\r\nclass ScheduleCell extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.transparentColor = \"RGBA(0, 0, 0, 0)\";\r\n\t\tthis.dayColor = \"#ffcc00\";\r\n\t\tthis.nightColor = \"#005f9d\";\r\n\t\tthis.dayOffColor = \"#ff99cc\";\r\n\t\tthis.vacationColor = \"#00ff00\";\r\n\t\tthis.sickListColor = \"#2fc2b5\";\r\n\t\tthis.lateColor = \"red\";\r\n\t}\r\n\t\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\tif(nextProps.row.selectedFields.find((selectedField) => {\r\n\t\t\treturn selectedField[1] === this.props.rowIndex &&\r\n\t\t\tselectedField[2] === this.props.extraData.colIndex;\r\n\t\t}) || this.props.row.selectedFields.find((selectedField) => {\r\n\t\t\treturn selectedField[1] === this.props.rowIndex &&\r\n\t\t\tselectedField[2] === this.props.extraData.colIndex;\r\n\t\t})) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif(JSON.stringify(nextProps.row.schedule.days[nextProps.extraData.colIndex]) !== \r\n\t\t\tJSON.stringify(this.props.row.schedule.days[this.props.extraData.colIndex])) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst rowIndex = this.props.rowIndex;\r\n\t\tconst colIndex = this.props.extraData.colIndex;\r\n\t\tlet selectedFields = this.props.row.selectedFields;\r\n\r\n\t\tlet color = this.transparentColor;\r\n\t\tlet outline = \"0px\";\r\n\r\n\t\tswitch(this.props.row.schedule.days[colIndex]) {\r\n\t\t\tcase \"D\": {\r\n\t\t\t\tcolor = this.dayColor;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase \"N\": {\r\n\t\t\t\tcolor = this.nightColor;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase \"B\": {\r\n\t\t\t\tcolor = this.dayOffColor;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase \"A\": {\r\n\t\t\t\tcolor = this.vacationColor;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase \"S\": {\r\n\t\t\t\tcolor = this.sickListColor;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase \"K\": {\r\n\t\t\t\tcolor = this.lateColor;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdefault: {\r\n\t\t\t\tcolor = this.transparentColor;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor(let i = 0; i < selectedFields.length; i++) {\r\n\t\t\tif(selectedFields[i][1] === rowIndex &&\r\n\t\t\t\tselectedFields[i][2] === colIndex) {\r\n\t\t\t\toutline = \"2px #2f8cfb solid\";\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div style={{ backgroundColor: color, outline: outline }}>\r\n\t\t\t\t<input \r\n\t\t\t\t\tonClick={(event) => this.props.onClickScheduleInput(event, this.props.row.scheduleIndex, rowIndex, colIndex)}\r\n\t\t\t\t\tonFocus={(event) => this.props.onFocusScheduleInput(event, this.props.row.scheduleIndex, rowIndex, colIndex)}\r\n\t\t\t\t\tonChange={(event) => this.props.onChangeScheduleInput(event, this.props.row.scheduleIndex, rowIndex, colIndex)}\r\n\t\t\t\t\tclassName=\"border-0 text-center\" \r\n\t\t\t\t\tstyle={{ width: \"32px\", height: \"32px\", fontSize: \"12px\", backgroundColor: \"RGBA(0, 0, 0, 0)\", outline: \"none\"}}\r\n\t\t\t\t\tvalue={this.props.row.schedule.days[colIndex]}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ScheduleCell;\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\n\r\nimport { Row, Col, Button, Dropdown, Form } from \"react-bootstrap\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\r\n\r\nimport ContainerBox from \"./ContainerBox\";\r\nimport Filters from \"./Filters\";\r\nimport ScheduleCell from \"./ScheduleCell\";\r\nimport BoostrapDatePicker from \"./BoostrapDatePicker\";\r\n\r\nimport {\r\n\tshowRegisterEmployee,\r\n\tshowExportExcel,\r\n\tshowCheckCard,\r\n\tshowEmployeeWorkLog\r\n} from \"../actions/employeeActions\";\r\n\r\nimport { getSchedules, saveSchedules } from \"../utils/employeeUtils\";\r\n\r\nimport { daysInMonth, convertSpecialCharacters, isWeekend } from \"../utils/commonUtils\";\r\n\r\nclass Employees extends React.Component {\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.transparentColor = \"RGBA(0, 0, 0, 0)\";\r\n\t\tthis.dayColor = \"#ffcc00\";\r\n\t\tthis.nightColor = \"#005f9d\";\r\n\t\tthis.dayOffColor = \"#ff99cc\";\r\n\t\tthis.vacationColor = \"#00ff00\";\r\n\t\tthis.sickListColor = \"#2fc2b5\";\r\n\t\tthis.weekendColor = \"#ffcc99\";\r\n\t\tthis.lateColor = \"red\";\r\n\r\n\t\tthis.keyDown = {};\r\n\r\n\t\tthis.cellRefs = [];\r\n\r\n\t\tconst cookies = new Cookies();\r\n\t\tlet settings = cookies.get(\"settings\");\r\n\r\n\t\tif(!settings) {\r\n\t\t\tsettings = {\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t}\r\n\r\n\t\t\tcookies.set(\"settings\", settings);\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\t// General\r\n\t\t\ttableData: [],\r\n\t\t\tpageSize: 10,\r\n\t\t\t...settings,\r\n\t\t\tsaving: false,\r\n\t\t\t// Scheduling specific\r\n\t\t\tuncheckedEmployees: [],\r\n\t\t\tschedules: [],\r\n\t\t\tselectedFields: [],\r\n\t\t\tscheduleDate: new Date(),\r\n\t\t}\r\n\r\n\t\tthis.columns = [{\r\n\t\t\tdataField: \"id\",\r\n\t\t\ttext: \"#\",\r\n\t\t\tsort: true,\r\n\t\t\tclasses: \"align-middle d-none d-md-table-cell\",\r\n\t\t\theaderClasses: \"d-none d-md-table-cell\",\r\n\t\t\thidden: true,\r\n\t\t}, {\r\n\t\t\tdataField: \"name\",\r\n\t\t\ttext: \"Vrds\",\r\n\t\t\tsort: true,\r\n\t\t\tsortFunc: (a, b, order) => {\r\n\t\t\t\tif(convertSpecialCharacters(a.surname) < convertSpecialCharacters(b.surname)) {\r\n\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t} else if(convertSpecialCharacters(a.surname) > convertSpecialCharacters(b.surname)) {\r\n\t\t\t\t\treturn order === \"asc\" ? 1 : -1;\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tformatter: this.nameFormatter,\r\n\t\t}];\r\n\r\n\t\tconst days = daysInMonth(new Date().getMonth(), new Date().getFullYear());\r\n\r\n\t\tfor(let i = 0; i < days; i++) {\r\n\t\t\tconst date = new Date(this.state.scheduleDate);\r\n\t\t\tdate.setDate(i + 1);\r\n\r\n\t\t\tlet color = \"RGBA(0, 0, 0, 0)\";\r\n\t\t\tif(isWeekend(date)) {\r\n\t\t\t\tcolor = this.weekendColor;\r\n\t\t\t}\r\n\r\n\t\t\tthis.columns.push({\r\n\t\t\t\tdataField: \"day\" + i,\r\n\t\t\t\ttext: (i + 1).toString(),\r\n\t\t\t\tformatter: this.dayFormatter,\r\n\t\t\t\tformatExtraData: { \r\n\t\t\t\t\tcolIndex: i,\r\n\t\t\t\t},\r\n\t\t\t\theaderClasses: \"text-center\",\r\n\t\t\t\theaderStyle: { backgroundColor: color },\r\n\t\t\t\tclasses: \"text-center p-0 m-0\",\r\n\t\t\t\tstyle: { backgroundColor: color }\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.defaultSorted = [{\r\n\t\t\tdataField: \"name\",\r\n\t\t\torder: \"asc\"\r\n\t\t}];\r\n\r\n\t\tthis.pagination = paginationFactory({\r\n\t\t\tpage: 1,\r\n\t\t\talwaysShowAllBtns: true,\r\n\t\t\tshowTotal: false,\r\n\t\t\tsizePerPage : this.state.pageSize,\r\n\t\t\tsizePerPageRenderer: this.sizePerPageRenderer,\r\n\t\t\tsizePerPageList: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"10\",\r\n\t\t\t\t\tvalue: 10,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"25\",\r\n\t\t\t\t\tvalue: 25,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"50\",\r\n\t\t\t\t\tvalue: 50,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"100\",\r\n\t\t\t\t\tvalue: 100,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"Viss\",\r\n\t\t\t\t\tvalue: 9999,\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.fetchSchedules();\r\n\r\n\t\twindow.addEventListener(\"keydown\", (event) => {\r\n\t\t\tthis.keyDown[event.keyCode] = true;\r\n\t\t});\r\n\r\n\t\twindow.addEventListener(\"keyup\", (event) => {\r\n\t\t\tthis.keyDown[event.keyCode] = false;\r\n\t\t});\r\n\t}\r\n\r\n\tfetchSchedules = () => {\r\n\t\tgetSchedules(this.state.scheduleDate.getMonth()).then((res) => {\r\n\t\t\tconst newSchedules = this.props.employees.map((employee) => {\r\n\t\t\t\tlet days = [];\r\n\t\t\t\tlet checked = true;\r\n\t\t\t\tconst schedule = res.data.find((schedule) => {\r\n\t\t\t\t\treturn schedule.employee_id === employee.id\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif(schedule === undefined) {\r\n\t\t\t\t\tdays = new Array(31).fill(\" \", 0, 31);\r\n\t\t\t\t\tchecked = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdays = JSON.parse(schedule.days);\r\n\t\t\t\t\tchecked = schedule.checked;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\temployee_id: employee.id,\r\n\t\t\t\t\tmonth: this.state.scheduleDate.getMonth(),\r\n\t\t\t\t\tdays: days,\r\n\t\t\t\t\tchecked: checked,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\r\n\t\t\tPromise.all(newSchedules).then((data) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tschedules: JSON.parse(JSON.stringify(data)),\r\n\t\t\t\t\tselectedFields: [],\r\n\t\t\t\t}, () => this.onTableChange());\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tcheckEmptySchedules = () => {\r\n\t\tconst newSchedules = this.props.employees.map((employee) => {\r\n\t\t\tlet days = [];\r\n\t\t\tconst schedule = this.state.schedules.find((schedule) => {\r\n\t\t\t\treturn schedule.employee_id === employee.id\r\n\t\t\t});\r\n\r\n\t\t\tif(schedule === undefined) {\r\n\t\t\t\tdays = new Array(31).fill(\" \", 0, 31);\r\n\t\t\t} else {\r\n\t\t\t\tdays = schedule.days;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\temployee_id: employee.id,\r\n\t\t\t\tmonth: this.state.scheduleDate.getMonth(),\r\n\t\t\t\tdays: days\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\tPromise.all(newSchedules).then((data) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tschedules: JSON.parse(JSON.stringify(data)),\r\n\t\t\t}, () => {\r\n\t\t\t\tthis.onTableChange();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif(prevProps.employees.length === 0 && this.props.employees.length !== 0) {\r\n\t\t\tthis.fetchSchedules();\r\n\t\t}\r\n\r\n\t\tif(JSON.stringify(prevProps.employees) !== JSON.stringify(this.props.employees) &&\r\n\t\t\tthis.props.employees.length > 0) {\r\n\t\t\tthis.checkEmptySchedules();\r\n\t\t}\r\n\r\n\t\tif(JSON.stringify(prevProps.employees) !== JSON.stringify(this.props.employees) ||\r\n\t\t\tJSON.stringify(prevState.schedules) !== JSON.stringify(this.state.schedules) ||\r\n\t\t\tJSON.stringify(prevState.selectedFields) !== JSON.stringify(this.state.selectedFields)) {\r\n\t\t\tthis.onTableChange();\r\n\t\t}\r\n\r\n\t\tif(prevState.pageSize !== this.state.pageSize) {\r\n\t\t\tthis.saveSettings();\r\n\t\t}\r\n\t}\r\n\r\n\tisKeyDown = (key) => {\r\n\t\treturn this.keyDown[key];\r\n\t}\r\n\r\n\tsaveSettings = () => {\r\n\t\tconst cookies = new Cookies();\r\n\t\tconst settings = {\r\n\t\t\t...cookies.get(\"settings\"),\r\n\t\t\tpageSize: this.state.pageSize,\r\n\t\t}\r\n\r\n\t\tcookies.set(\"settings\", settings);\r\n\t}\r\n\r\n\tonTableChange = () => {\r\n\t\tthis.formatTable((tableData) => {\r\n\t\t\tthis.filterData(tableData);\r\n\t\t});\r\n\t}\r\n\r\n\tonFilterChange = () => {\r\n\t\tthis.onTableChange();\r\n\t}\r\n\r\n\tonDataFiltered = (data) => {\r\n\t\tthis.setState({\r\n\t\t\ttableData: data\r\n\t\t});\r\n\t}\r\n\r\n\tsaveSchedules = () => {\r\n\t\tthis.setState({ saving: true });\r\n\t\tsaveSchedules(this.state.schedules).then(() => {\r\n\t\t\tthis.setState({ saving: false });\r\n\t\t});\r\n\t}\r\n\r\n\tonChangeScheduleDate = (date) => {\r\n\t\tthis.setState({\r\n\t\t\tscheduleDate: new Date(date),\r\n\t\t}, () => {\r\n\t\t\tthis.columns = this.columns.map((column, index) => {\r\n\t\t\t\tif(!column.dataField.includes(\"day\")) {\r\n\t\t\t\t\treturn column;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tconst date = new Date(this.state.scheduleDate);\r\n\t\t\t\tdate.setDate(parseInt(column.text));\r\n\t\r\n\t\t\t\tlet color = \"RGBA(0, 0, 0, 0)\";\r\n\t\t\t\tif(isWeekend(date)) {\r\n\t\t\t\t\tcolor = this.weekendColor;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...column,\r\n\t\t\t\t\theaderStyle: { backgroundColor: color },\r\n\t\t\t\t\tstyle: { backgroundColor: color },\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.fetchSchedules();\r\n\t\t});\r\n\t}\r\n\r\n\tonClickScheduleInput = (event, scheduleIndex, rowIndex, colIndex) => {\r\n\t\tevent.target.select();\r\n\t}\r\n\r\n\tonFocusScheduleInput = (event, scheduleIndex, rowIndex, colIndex) => {\r\n\t\tevent.target.select();\r\n\t\tlet selectedFields = JSON.parse(JSON.stringify(this.state.selectedFields));\r\n\r\n\t\tif(!this.isKeyDown(17) && !this.isKeyDown(16)) { // CTRL and SHIFT is not being held\r\n\t\t\tselectedFields = [];\r\n\t\t}\r\n\r\n\t\tif(this.isKeyDown(16)) { // SHIFT is being held down\r\n\t\t\tconst start = selectedFields[selectedFields.length - 1];\r\n\t\t\tif(start !== undefined) {\r\n\t\t\t\tconst end = [scheduleIndex, rowIndex, colIndex];\r\n\r\n\t\t\t\tfor(let i = Math.min(start[1], end[1]); i <= Math.max(start[1], end[1]); i++) {\r\n\t\t\t\t\tfor(let i2 = Math.min(start[2], end[2]); i2 <= Math.max(start[2], end[2]); i2++) {\r\n\t\t\t\t\t\tselectedFields.push([-1, i, i2]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tselectedFields.push([scheduleIndex, rowIndex, colIndex]);\r\n\r\n\t\tthis.setState({\r\n\t\t\tselectedFields: selectedFields,\r\n\t\t});\r\n\t}\r\n\r\n\tonChangeScheduleInput = (event, scheduleIndex, rowIndex, colIndex) => {\r\n\t\tlet newSchedules = JSON.parse(JSON.stringify(this.state.schedules));\r\n\r\n\t\tconst value = event.target.value.toUpperCase();\r\n\r\n\t\tif(newSchedules[scheduleIndex].days[colIndex] !== value) {\r\n\t\t\tnewSchedules[scheduleIndex].days[colIndex] = value.replace(newSchedules[scheduleIndex].days[colIndex], \"\");\r\n\r\n\t\t\tif(newSchedules[scheduleIndex].days[colIndex] === \"\") {\r\n\t\t\t\tnewSchedules[scheduleIndex].days[colIndex] = \" \";\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(this.state.selectedFields.length > 1) {\r\n\t\t\tthis.state.selectedFields.forEach((selectedField) => {\r\n\t\t\t\tnewSchedules[this.cellRefs[selectedField[1]][selectedField[2]].props.row.scheduleIndex].days[selectedField[2]] = newSchedules[scheduleIndex].days[colIndex];\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tschedules: newSchedules,\r\n\t\t});\r\n\t}\r\n\r\n\tonEmployeeCheck = (id, scheduleIndex) => {\r\n\t\tlet newSchedules = JSON.parse(JSON.stringify(this.state.schedules));\r\n\t\t\r\n\t\tnewSchedules[scheduleIndex].checked = !newSchedules[scheduleIndex].checked;\r\n\r\n\t\tthis.setState({\r\n\t\t\tschedules: newSchedules,\r\n\t\t});\r\n\t}\r\n\r\n\tcreateEmptySchedule = () => {\r\n\t\tconst selectedFields = [];\r\n\r\n\t\tconst newSchedules = this.props.employees.map((employee) => {\r\n\t\t\tconst newDays = new Array(31).fill(\" \", 0, 31);\r\n\r\n\t\t\treturn {\r\n\t\t\t\temployee_id: employee.id,\r\n\t\t\t\tmonth: this.state.scheduleDate.getMonth(),\r\n\t\t\t\tdays: newDays,\r\n\t\t\t\tchecked: true,\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\tPromise.all(newSchedules).then(() => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tschedules: newSchedules,\r\n\t\t\t\tselectedFields: selectedFields,\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tformatTable = (callback = () => null) => {\r\n\t\tthis.cellRefs = [];\r\n\t\tconst promise = this.props.employees.map((employee, index) => {\r\n\t\t\treturn({\r\n\t\t\t\tid: employee.id,\r\n\t\t\t\tname: {\r\n\t\t\t\t\tid: employee.id,\r\n\t\t\t\t\tname: employee.name,\r\n\t\t\t\t\tsurname: employee.surname,\r\n\t\t\t\t\tchecked: this.state.schedules[index] === undefined ? true : this.state.schedules[index].checked\r\n\t\t\t\t},\r\n\t\t\t\tposition: employee.position ? employee.position.toString() : \"\",\r\n\t\t\t\tcompany: employee.company ? employee.company.toString() : \"\",\r\n\t\t\t\tarchived: employee.archived,\r\n\t\t\t\tactive: employee.active,\r\n\t\t\t\tworking: employee.working,\r\n\t\t\t\tschedule: this.state.schedules[index],\r\n\t\t\t\tscheduleIndex: index,\r\n\t\t\t\tselectedFields: this.state.selectedFields,\r\n\t\t\t\tchecked: this.state.schedules[index] === undefined ? true : this.state.schedules[index].checked\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tPromise.all(promise).then((data) => {\r\n\t\t\tcallback(data);\r\n\t\t});\r\n\t}\r\n\r\n\tnameFormatter = (cell, row) => {\r\n\t\treturn (\r\n\t\t\t<nobr>\r\n\t\t\t\t<Form.Check \r\n\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\tchecked={this.state.schedules[row.scheduleIndex].checked}\r\n\t\t\t\t\tonChange={() => this.onEmployeeCheck(cell.id, cell.scheduleIndex)}\r\n\t\t\t\t\tclassName=\"mr-1 d-inline\"\r\n\t\t\t\t/>\r\n\t\t\t\t<Button \r\n\t\t\t\t\tvariant=\"link\" \r\n\t\t\t\t\tonClick={() => this.props.showEmployeeWorkLog(cell.id)}\r\n\t\t\t\t\tstyle={{ color: \"#0000FF\", fontSize: \"12px\" }}\r\n\t\t\t\t\tclassName=\"m-0 p-0 align-text-top\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{cell.surname + \" \" + cell.name}\r\n\t\t\t\t</Button>\r\n\t\t\t</nobr>\r\n\t\t);\r\n\t};\r\n\r\n\tdayFormatter = (cell, row, rowIndex, extraData) => {\r\n\t\tif(row.schedule === undefined ||\r\n\t\t\trow === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst props = {\r\n\t\t\tcell, \r\n\t\t\trow, \r\n\t\t\trowIndex, \r\n\t\t\textraData\r\n\t\t}\r\n\t\treturn <ScheduleCell\r\n\t\t\tkey={[row.id, rowIndex]}\r\n\t\t\tonClickScheduleInput={this.onClickScheduleInput}\r\n\t\t\tonFocusScheduleInput={this.onFocusScheduleInput}\r\n\t\t\tonChangeScheduleInput={this.onChangeScheduleInput}\r\n\t\t\tref={(ref) => {\r\n\t\t\t\tif(this.cellRefs[rowIndex] === undefined) {\r\n\t\t\t\t\tthis.cellRefs[rowIndex] = new Array(31);\r\n\t\t\t\t}\r\n\t\t\t\tthis.cellRefs[rowIndex][extraData.colIndex] = ref;\r\n\t\t\t\treturn true;\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t};\r\n\r\n\tsizePerPageRenderer = ({\r\n\t\toptions,\r\n\t\tcurrSizePerPage,\r\n\t\tonSizePerPageChange\r\n\t}) => (\r\n\t\t<Dropdown className=\"d-inline pr-2\">\r\n\t\t\t<Dropdown.Toggle variant=\"primary\">\r\n\t\t\t\t{this.state.pageSize === 9999 ? \"Viss\" : this.state.pageSize}\r\n\t\t\t</Dropdown.Toggle>\r\n\r\n\t\t\t<Dropdown.Menu>\r\n\t\t\t\t{\r\n\t\t\t\t\toptions.map((option, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\t\tkey={index} \r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tthis.onClickPageSize(option);\r\n\t\t\t\t\t\t\t\t\tonSizePerPageChange(option.page);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{option.text}\r\n\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Dropdown.Menu>\r\n\t\t</Dropdown>\r\n\t);\r\n\r\n\tonClickPageSize = (option) => {\r\n\t\tthis.setState({\r\n\t\t\tpageSize: option.page\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ContainerBox header={\"Grafiks\"}>\r\n\t\t\t\t<Filters \r\n\t\t\t\t\tonDataFiltered={this.onDataFiltered}\r\n\t\t\t\t\tonFilterChange={this.onFilterChange}\r\n\t\t\t\t\tfilterData={filterData => this.filterData = filterData}\r\n\t\t\t\t\tscheduleFilters={true}\r\n\t\t\t\t/>\r\n\t\t\t\t<Row className=\"mt-3 text-center\" style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<span className=\"dot align-middle\" style={{ backgroundColor: this.dayColor }}/>\r\n\t\t\t\t\t\t<span className=\"ml-2\">(D) Diena</span>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<span className=\"dot align-middle\" style={{ backgroundColor: this.nightColor }}/>\r\n\t\t\t\t\t\t<span className=\"ml-2\">(N) Nakts</span>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<span className=\"dot align-middle\" style={{ backgroundColor: this.dayOffColor }}/>\r\n\t\t\t\t\t\t<span className=\"ml-2\">(B) Brvdiena</span>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<span className=\"dot align-middle\" style={{ backgroundColor: this.vacationColor }}/>\r\n\t\t\t\t\t\t<span className=\"ml-2\">(A) Atvainjums</span>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<span className=\"dot align-middle\" style={{ backgroundColor: this.sickListColor }}/>\r\n\t\t\t\t\t\t<span className=\"ml-2\">(S) Slimbas lapa</span>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<span className=\"dot align-middle\" style={{ backgroundColor: this.lateColor }}/>\r\n\t\t\t\t\t\t<span className=\"ml-2\">(K) Darba kavjums</span>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row className=\"mb-3 mt-3\">\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<ul style={{ fontSize: \"12px\" }}>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\tCTRL + KLIKIS - Iezm vairkus individulus laucius\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\tSHIFT + KLIKIS - Iezm vairkus no-ldz laucius\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Button  \r\n\t\t\t\t\t\t\tonClick={this.saveSchedules}\r\n\t\t\t\t\t\t\tclassName=\"float-right\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.saving \r\n\t\t\t\t\t\t\t\t? \"Saglab...\"\r\n\t\t\t\t\t\t\t\t: \"Saglabt\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<BoostrapDatePicker\r\n\t\t\t\t\t\t\tdateFormat=\"MM.yyyy.\"\r\n\t\t\t\t\t\t\tselected={this.state.scheduleDate}\r\n\t\t\t\t\t\t\tonChange={this.onChangeScheduleDate}\r\n\t\t\t\t\t\t\tshowMonthYearPicker\r\n\t\t\t\t\t\t\tclassName=\"float-right mr-2 text-center\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<BootstrapTable \r\n\t\t\t\t\tbootstrap4={ true }\r\n\t\t\t\t\tkeyField=\"id\"\r\n\t\t\t\t\tdata={ this.state.tableData } \r\n\t\t\t\t\tcolumns={ this.columns } \r\n\t\t\t\t\tbordered={ true }\r\n\t\t\t\t\tcondensed={ true }\r\n\t\t\t\t\thover={ true }\r\n\t\t\t\t\tdefaultSorted={ this.defaultSorted }\r\n\t\t\t\t\tremote={ { filter: true } }\r\n\t\t\t\t\tpagination={ this.pagination }\r\n\t\t\t\t/>\r\n\t\t\t</ContainerBox>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\temployees: state.employees.employees,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowRegisterEmployee: () => dispatch(showRegisterEmployee()),\r\n\t\tshowExportExcel: () => dispatch(showExportExcel()),\r\n\t\tshowCheckCard: () => dispatch(showCheckCard()),\r\n\t\tshowEmployeeWorkLog: (id) => dispatch(showEmployeeWorkLog(id))\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Employees);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Alert, Button, Row, Col } from \"react-bootstrap\";\r\n\r\nimport BoostrapDatePicker from \"./BoostrapDatePicker\";\r\n\r\nimport { hideHistory, showEmployeeWorkLog } from \"../actions/employeeActions\";\r\n\r\nimport { formatDate, addZero } from \"../utils/commonUtils\";\r\nimport * as LOG_TYPE from \"../utils/logTypes\";\r\n\r\nclass History extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tnotifications: [],\r\n\t\t\tnotificationDate: new Date(),\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif(prevState.notificationDate !== this.state.notificationDate ||\r\n\t\t\tprevProps.notifications !== this.props.notifications) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tnotifications: this.props.notifications.notifications.filter(notification => {\r\n\t\t\t\t\tconst notificationDate = new Date(notification.date);\r\n\t\t\t\t\treturn notificationDate.getFullYear() === this.state.notificationDate.getFullYear() &&\r\n\t\t\t\t\t\tnotificationDate.getMonth() === this.state.notificationDate.getMonth() &&\r\n\t\t\t\t\t\tnotificationDate.getDate() === this.state.notificationDate.getDate();\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\thistory = (notification, notificationData, employee) => {\r\n\t\tlet logTypeTranslated = notification.type;\r\n\t\tswitch(notification.type) {\r\n\t\t\tcase LOG_TYPE.LOG_EDIT_WORK_LOG: {\r\n\t\t\t\tconst formatTime = (date) => {\r\n\t\t\t\t\tconst dateParsed = JSON.parse(date);\r\n\t\t\t\t\tif(dateParsed === null) {\r\n\t\t\t\t\t\treturn \"neizgjis\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst dateObject = new Date(dateParsed);\r\n\t\t\t\t\treturn addZero(dateObject.getHours()) + \":\" +\r\n\t\t\t\t\t\taddZero(dateObject.getMinutes()) + \":\" +\r\n\t\t\t\t\t\taddZero(dateObject.getSeconds());\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst from = notificationData.from;\r\n\t\t\t\tconst to = notificationData.to;\r\n\t\t\t\t\r\n\t\t\t\tlogTypeTranslated = (<div>\r\n\t\t\t\t\t{\"izmaints darba laiks\"}<br/>\r\n\t\t\t\t\t<div style={{ fontSize: \"12px\" }}>\r\n\t\t\t\t\t\tNo: {formatTime(from.startDate)} - {formatTime(from.endDate)}<br/>\r\n\t\t\t\t\t\tUz: {formatTime(to.startDate)} - {formatTime(to.endDate)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>)\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase LOG_TYPE.LOG_SET_WORKING: logTypeTranslated = \"atzmts k iencis\"; break;\r\n\t\t\tcase LOG_TYPE.LOG_SET_NOT_WORKING: logTypeTranslated = \"atzmts k izgjis\"; break;\r\n\t\t\tcase LOG_TYPE.LOG_EDIT_EMPLOYEE: logTypeTranslated = \"regits darbinieks\"; break;\r\n\t\t\tcase LOG_TYPE.LOG_ADD_EMPLOYEE: logTypeTranslated = \"pievienots darbinieks\"; break;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Alert \r\n\t\t\t\tclassName=\"pt-0 pb-0\"\r\n\t\t\t\tkey={notification.id} \r\n\t\t\t\tvariant={\"info\"}\r\n\t\t\t>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"d-flex flex-column justify-content-center\">\r\n\t\t\t\t\t\t{notificationData.user}\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col className=\"d-flex flex-column justify-content-center\">\r\n\t\t\t\t\t\t{employee.surname + \" \" + employee.name}\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col className=\"d-flex flex-column justify-content-center\">\r\n\t\t\t\t\t\t<span className=\"text-center\">\r\n\t\t\t\t\t\t\t<b>{logTypeTranslated}</b>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col className=\"d-flex flex-column justify-content-center\">\r\n\t\t\t\t\t\t<span className=\"flex-right text-right\">\r\n\t\t\t\t\t\t\t{formatDate(notification.date)}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Alert>\r\n\t\t);\r\n\t}\r\n\r\n\tdisplayHistory = () => {\r\n\t\tconst notifications = this.state.notifications.map((notification) => {\r\n\t\t\tconst notificationData = JSON.parse(notification.data);\r\n\r\n\t\t\tswitch(notification.type) {\r\n\t\t\t\tcase LOG_TYPE.LOG_EDIT_WORK_LOG:\r\n\t\t\t\tcase LOG_TYPE.LOG_ADD_EMPLOYEE:\r\n\t\t\t\tcase LOG_TYPE.LOG_EDIT_EMPLOYEE:\r\n\t\t\t\tcase LOG_TYPE.LOG_SET_NOT_WORKING:\r\n\t\t\t\tcase LOG_TYPE.LOG_SET_WORKING: {\r\n\t\t\t\t\tconst employee = this.props.employees.find((employee) => employee.id === notificationData.id);\r\n\r\n\t\t\t\t\tif(employee) {\r\n\t\t\t\t\t\treturn this.history(notification, notificationData, employee);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\tdefault: {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif(notifications.filter(notification => notification != null).length === 0) {\r\n\t\t\treturn (\r\n\t\t\t\t<h2 style={{ color: \"grey\" }} className=\"text-center\">\r\n\t\t\t\t\tNav ierakstu...\r\n\t\t\t\t</h2>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn notifications;\r\n\t}\r\n\r\n\tonChangeNotificationDate = (date) => {\r\n\t\tthis.setState({\r\n\t\t\tnotificationDate: date,\r\n\t\t});\r\n\t}\r\n\r\n\tonHide = () => {\r\n\t\tthis.props.hideHistory();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tsize=\"lg\"\r\n\t\t\t\tshow={this.props.history.show}\r\n\t\t\t\tonHide={() => this.onHide()}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title className=\"w-100\">Vsture</Modal.Title>\r\n\t\t\t\t\t<BoostrapDatePicker\r\n\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy.\"\r\n\t\t\t\t\t\tselected={new Date(this.state.notificationDate)}\r\n\t\t\t\t\t\tonChange={this.onChangeNotificationDate}\r\n\t\t\t\t\t\tmaxDate={new Date()}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Alert className=\"pt-0 pb-0\">\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<b>Lietotjs</b>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<b>Darbinieks</b>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col className=\"d-flex flex-column justify-content-center text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<b>Darbba</b>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col className=\"d-flex flex-column justify-content-center text-right\">\r\n\t\t\t\t\t\t\t\t\t\t<b>Datums</b>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t{this.displayHistory()}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tnotifications: state.employees.notifications,\r\n\t\temployees: state.employees.employees,\r\n\t\thistory: state.employees.history,\r\n\t\tuser: state.employees.user,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\thideHistory: () => dispatch(hideHistory()),\r\n\t\tshowEmployeeWorkLog: (id) => dispatch(showEmployeeWorkLog(id))\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(History);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button, Form, Row, Col } from \"react-bootstrap\";\r\n\r\nimport { updateNotification } from \"../utils/employeeUtils\";\r\n\r\nimport { showProcessNotification, hideProcessNotification } from \"../actions/employeeActions\";\r\n\r\nimport { getSchedules, saveSchedules } from \"../utils/employeeUtils\";\r\n\r\nclass ProcessNotification extends React.PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.initialState = {\r\n\t\t\tcomment: {\r\n\t\t\t\ttext: \"\",\r\n\t\t\t\texpires: new Date(),\r\n\t\t\t\tmanualDelete: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\t...this.initialState\r\n\t\t}\r\n\t}\r\n\r\n\tonExited = () => {\r\n\t\tthis.setState({\r\n\t\t\t...this.initialState\r\n\t\t});\r\n\t}\r\n\r\n\tonCommentChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\ttext: event.target.value,\r\n\t\t});\r\n\t}\r\n\r\n\tupdateNotification = () => {\r\n\t\tconst notificationData = JSON.parse(this.props.notification.data);\r\n\t\tconst notificationDate = new Date(this.props.notification.date);\r\n\t\tconsole.log(this.props.processNotification);\r\n\t\tconst newData = {\r\n\t\t\t...notificationData,\r\n\t\t\tprocessed: true,\r\n\t\t\tcomment: this.state.text,\r\n\t\t\tjustified: this.props.processNotification.justified,\r\n\t\t}\r\n\t\tupdateNotification(this.props.notification.id, this.props.notification.type, newData);\r\n\t\tthis.props.hideProcessNotification();\r\n\r\n\t\tif(!this.props.processNotification.justified) {\r\n\t\t\t// Set schedule to DK\r\n\t\t\tgetSchedules(notificationDate.getMonth()).then((res) => {\r\n\t\t\t\tlet schedules = res.data;\r\n\r\n\t\t\t\tlet parsedSchedules = schedules.map((schedule) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...schedule,\r\n\t\t\t\t\t\tdays: JSON.parse(schedule.days)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t\tlet employeeScheduleIndex = schedules.findIndex((employee) => employee.employee_id === notificationData.id);\r\n\r\n\t\t\t\tif(employeeScheduleIndex !== -1) {\r\n\t\t\t\t\tPromise.all(parsedSchedules).then(() => {\r\n\t\t\t\t\t\tconst dateIndex = notificationDate.getDate() - 1;\r\n\t\t\t\t\t\tparsedSchedules[employeeScheduleIndex].days[dateIndex] = \"K\";\r\n\t\t\t\t\t\tsaveSchedules(parsedSchedules);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tif(this.props.notification !== null) {\r\n\t\t\tconst notificationData = JSON.parse(this.props.notification.data);\r\n\t\t\tlet header = notificationData.name + \" \" + notificationData.surname;\r\n\t\t\tswitch(this.props.notification.type) {\r\n\t\t\t\tcase \"EMPLOYEE_LATE\": {\r\n\t\t\t\t\theader += \" (Darba kavjums)\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tshow={this.props.processNotification.show}\r\n\t\t\t\t\tonExited={() => this.onExited()}\r\n\t\t\t\t\tonHide={() => this.props.hideProcessNotification()}\r\n\t\t\t\t\tcentered\r\n\t\t\t\t>\r\n\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t{header}\r\n\t\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t\t<Form.Label column xs={3}>Komentrs: </Form.Label>\r\n\t\t\t\t\t\t\t<Col xs={9}>\r\n\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\r\n\t\t\t\t\t\t\t\t\trows=\"1\"\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.text}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onCommentChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\tvariant={this.props.processNotification.justified ? \"success\" : \"danger\"}\r\n\t\t\t\t\t\t\tclassName=\"mr-1\"\r\n\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\tonClick={() => this.updateNotification()}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{this.props.processNotification.justified ? \"Attaisnots\" : \"Neattaisnots\"}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\tvariant=\"danger\"\r\n\t\t\t\t\t\t\tclassName=\"mr-1\"\r\n\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\tonClick={() => this.props.hideProcessNotification()}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAtcelt\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tprocessNotification: state.employees.processNotification,\r\n\t\tnotification: state.employees.processNotification.notification,\r\n\t\temployee: state.employees.commentEmployee.employee,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowProcessNotification: () => dispatch(showProcessNotification()),\r\n\t\thideProcessNotification: () => dispatch(hideProcessNotification()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ProcessNotification);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Alert, Button, Row, Col, Table } from \"react-bootstrap\";\r\n\r\nimport BoostrapDatePicker from \"./BoostrapDatePicker\";\r\n\r\nimport { \r\n\tshowProcessNotification, \r\n\thideProcessNotification, \r\n\thideNotifications, \r\n\tshowEmployeeWorkLog\r\n} from \"../actions/employeeActions\";\r\n\r\nimport { getServerEmployeeWorkLogFromTo } from \"../utils/employeeUtils\";\r\nimport { formatDate } from \"../utils/commonUtils\";\r\n\r\nimport ProcessNotification from \"./ProcessNotification\";\r\n\r\nclass Notifications extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tnotifications: [],\r\n\t\t\tnotificationDate: new Date(),\r\n\t\t\tprocessedNotifications: [],\r\n\r\n\t\t\tshowHistory: false,\r\n\t\t\thistoryNotifications: [],\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif(prevState.notificationDate !== this.state.notificationDate ||\r\n\t\t\tJSON.stringify(prevProps.notifications) !== JSON.stringify(this.props.notifications)) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tnotifications: this.props.notifications.notifications.filter(notification => {\r\n\t\t\t\t\tconst notificationDate = new Date(notification.date);\r\n\t\t\t\t\tconst notificationData = JSON.parse(notification.data);\r\n\t\t\t\t\treturn notificationDate.getFullYear() === this.state.notificationDate.getFullYear() &&\r\n\t\t\t\t\t\tnotificationDate.getMonth() === this.state.notificationDate.getMonth() &&\r\n\t\t\t\t\t\tnotificationDate.getDate() === this.state.notificationDate.getDate();\r\n\t\t\t\t})\r\n\t\t\t}, () => {\r\n\t\t\t\tthis.processNotifications();\r\n\t\t\t\tthis.processHistoryNotifications();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprocessHistoryNotifications = () => {\r\n\t\tconst processedNotifications = this.state.notifications.filter((notification) => {\r\n\t\t\tconst notificationData = JSON.parse(notification.data);\r\n\t\t\treturn notificationData.processed === true;\r\n\t\t});\r\n\r\n\t\tif(processedNotifications.length > 0) {\r\n\t\t\tconst historyNotifications = processedNotifications.map((notification, index) => {\r\n\t\t\t\tconst notificationData = JSON.parse(notification.data);\r\n\t\t\t\tconst notificationDate = new Date(notification.date);\r\n\r\n\t\t\t\tlet notificationType = \"\";\r\n\t\t\t\tswitch(notification.type) {\r\n\t\t\t\t\tcase \"EMPLOYEE_LATE\": {\r\n\t\t\t\t\t\tnotificationType = \"Darba kavjums\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet notificationStatuss = notificationData.justified ? \"Attaisnots\" : \"Neattaisnots\";\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tbody key={index}>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>{formatDate(notificationDate)}</td>\r\n\t\t\t\t\t\t\t<td>{notificationData.surname + \" \" + notificationData.name}</td>\r\n\t\t\t\t\t\t\t<td>{notificationType}</td>\r\n\t\t\t\t\t\t\t<td>{notificationStatuss}</td>\r\n\t\t\t\t\t\t\t<td>{notificationData.comment}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\r\n\t\t\tconst table = <Table size=\"sm\">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Datums</th>\r\n\t\t\t\t\t\t<th>Vrds</th>\r\n\t\t\t\t\t\t<th>Paziojums</th>\r\n\t\t\t\t\t\t<th>Statuss</th>\r\n\t\t\t\t\t\t<th>Piezme</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t{historyNotifications}\r\n\t\t\t</Table>\r\n\t\r\n\t\t\tthis.setState({\r\n\t\t\t\thistoryNotifications: table,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\thistoryNotifications: (\r\n\t\t\t\t\t<h2 style={{ color: \"grey\" }} className=\"text-center\">\r\n\t\t\t\t\t\tNav ierakstu...\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t),\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprocessNotifications = () => {\r\n\t\tconst notifications = this.state.notifications.sort((a, b) => {\r\n\t\t\tconst aData = JSON.parse(a.data);\r\n\t\t\tconst bData = JSON.parse(b.data);\r\n\r\n\t\t\tif(aData.processed != undefined) {\r\n\t\t\t\treturn 1;\r\n\t\t\t} else {\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t}).map((notification) => {\r\n\t\t\tconst notificationData = JSON.parse(notification.data);\r\n\r\n\t\t\tswitch(notification.type) {\r\n\t\t\t\tcase \"EMPLOYEE_LATE\": {\r\n\t\t\t\t\tconst employee = this.props.employees.find((employee) => employee.id === notificationData.id);\r\n\t\t\t\t\tlet showedUp = false;\r\n\t\t\t\t\tlet showedUpDate = null;\t\r\n\r\n\t\t\t\t\tif(employee) {\r\n\t\t\t\t\t\tconst notificationDate = new Date(notification.date);\r\n\t\t\t\t\t\tconst fromDate = notificationDate;\r\n\t\t\t\t\t\tfromDate.setHours(0, 0, 0, 0);\r\n\t\t\t\t\t\tconst toDate = notificationDate;\r\n\t\t\t\t\t\ttoDate.setHours(24, 0, 0, 0);\r\n\t\t\t\t\t\treturn getServerEmployeeWorkLogFromTo(employee.id, fromDate, toDate).then((res) => {\r\n\t\t\t\t\t\t\tconst workLogs = res.data;\r\n\t\t\t\t\t\t\tworkLogs.forEach(workLog => {\r\n\t\t\t\t\t\t\t\tconst workLogDate = new Date(workLog.start_time);\r\n\t\t\t\t\t\t\t\tif(workLogDate.getDate() === notificationDate.getDate() &&\r\n\t\t\t\t\t\t\t\t\tworkLogDate.getMonth() === notificationDate.getMonth() &&\r\n\t\t\t\t\t\t\t\t\tworkLogDate.getFullYear() === notificationDate.getFullYear()) {\r\n\r\n\t\t\t\t\t\t\t\t\tshowedUp = true;\r\n\t\t\t\t\t\t\t\t\tshowedUpDate = workLogDate;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tconst ShowedUp = () => {\r\n\t\t\t\t\t\t\t\tif(showedUp) {\r\n\t\t\t\t\t\t\t\t\treturn <div>Ierads: {formatDate(showedUpDate)}</div>\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\treturn <div><i>Nav ieradies</i></div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconst ButtonsAndStatus = () => {\r\n\t\t\t\t\t\t\t\tif(notificationData.processed) {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t{ notificationData.justified ? \"Attaisnots\" : \"Neattaisnots\" }\r\n\t\t\t\t\t\t\t\t\t\t\t{/* { \r\n\t\t\t\t\t\t\t\t\t\t\t\tnotificationData.comment !== undefined && notificationData.comment !== null \r\n\t\t\t\t\t\t\t\t\t\t\t\t? <div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t({ notificationData.comment })\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t\t\t\t} */}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-1 pt-0 pb-0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.props.showProcessNotification(notification, true)}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tAttaisnots\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"danger\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ml-1 pt-0 pb-0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.props.showProcessNotification(notification, false)}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tNeattaisnots\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Alert \r\n\t\t\t\t\t\t\t\t\tclassName=\"pt-0 pb-1\"\r\n\t\t\t\t\t\t\t\t\tkey={notification.id} \r\n\t\t\t\t\t\t\t\t\tvariant={\r\n\t\t\t\t\t\t\t\t\t\tnotificationData.processed \r\n\t\t\t\t\t\t\t\t\t\t? notificationData.justified ? \"secondary\" : \"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t: \"info\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.props.showEmployeeWorkLog(employee.id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"pt-0 pb-0\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{employee.surname + \" \" + employee.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t<Col className=\"d-flex flex-column justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Darba kavjums</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t<Col className=\"d-flex flex-column justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"flex-right text-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{formatDate(notification.date)}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t<Col className=\"d-flex flex-row justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t{<ButtonsAndStatus/>}\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t<Col className=\"d-flex flex-column justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"flex-right text-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ShowedUp/>\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\tdefault: {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif(notifications.filter(notification => notification != null).length === 0) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tprocessedNotifications: (\r\n\t\t\t\t\t<h2 style={{ color: \"grey\" }} className=\"text-center\">\r\n\t\t\t\t\t\tNav ierakstu...\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t),\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\treturn Promise.all(notifications).then((data) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tprocessedNotifications: data,\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tonChangeNotificationDate = (date) => {\r\n\t\tthis.setState({\r\n\t\t\tnotificationDate: date,\r\n\t\t});\r\n\t}\r\n\r\n\tonHide = () => {\r\n\t\tthis.props.hideNotifications();\r\n\t}\r\n\r\n\tonShow = () => {\r\n\t\tthis.processNotifications();\r\n\t\tthis.processHistoryNotifications()\r\n\t}\r\n\r\n\tshowHistory = () => {\r\n\t\tthis.setState({\r\n\t\t\tshowHistory: true\r\n\t\t}, () => {\r\n\t\t\tthis.processHistoryNotifications();\r\n\t\t});\r\n\t}\r\n\r\n\thideHistory = () => {\r\n\t\tthis.setState({\r\n\t\t\tshowHistory: false\r\n\t\t}, () => {\r\n\t\t\tthis.processNotifications();\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<ProcessNotification/>\r\n\t\t\t\t<Modal \r\n\t\t\t\t\tsize=\"lg\"\r\n\t\t\t\t\tshow={this.props.notifications.show}\r\n\t\t\t\t\tonHide={() => this.onHide()}\r\n\t\t\t\t\tonShow={() => this.onShow()}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t<Modal.Title className=\"w-100\">Paziojumi</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t<Row className=\"mb-3\">\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<BoostrapDatePicker\r\n\t\t\t\t\t\t\t\t\tclassName=\"d-inline-block text-center\"\r\n\t\t\t\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy.\"\r\n\t\t\t\t\t\t\t\t\tselected={new Date(this.state.notificationDate)}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChangeNotificationDate}\r\n\t\t\t\t\t\t\t\t\tmaxDate={new Date()}\r\n\t\t\t\t\t\t\t\t\tdayClassName={date => {\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={() => this.state.showHistory ? this.hideHistory() : this.showHistory()}\r\n\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{this.state.showHistory ? \"Neapstrdtie paziojumi\" : \"Apstrdtie paziojumi\"}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<span style={{ fontSize: \"12px\" }}>\r\n\t\t\t\t\t\t\t\t\t* Atzmjot darbinieku k 'Neattaisnots', grafik  diena atzmsies ar 'K' - Darba kavjums.<br/>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<hr/>\r\n\t\t\t\t\t\t<Row className=\"mt-3\">\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{this.state.showHistory ? this.state.historyNotifications : this.state.processedNotifications}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t</Modal>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tnotifications: state.employees.notifications,\r\n\t\tprocessedNotifications: state.processedNotifications,\r\n\t\temployees: state.employees.employees,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\thideNotifications: () => dispatch(hideNotifications()),\r\n\t\tshowEmployeeWorkLog: (id) => dispatch(showEmployeeWorkLog(id)),\r\n\t\tshowProcessNotification: (notification, justified) => dispatch(showProcessNotification(notification, justified)),\r\n\t\thideProcessNotification: () => dispatch(hideProcessNotification()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Notifications);\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nimport { Route, BrowserRouter as Router, Switch } from \"react-router-dom\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { Container, Row, Col, Navbar, Nav, Spinner } from \"react-bootstrap\";\r\n\r\nimport { production, employeeUpdateInterval } from \"../utils/config\";\r\n\r\nimport Employees from \"./Employees\";\r\nimport Report from \"./Report\";\r\nimport RegisterEmployee from \"./RegisterEmployee\";\r\nimport NotFound from \"./NotFound\";\r\nimport ViewEmployee from \"./ViewEmployee\";\r\nimport DeleteEmployee from \"./DeleteEmployee\";\r\nimport EditEmployee from \"./EditEmployee\";\r\nimport ExportExcel from \"./ExportExcel\";\r\nimport LogIn from \"./LogIn\";\r\nimport CheckCard from \"./CheckCard\";\r\nimport CommentEmployee from \"./CommentEmployee\";\r\nimport Schedule from \"./Schedule\";\r\nimport History from \"./History\";\r\nimport Notifications from \"./Notifications\";\r\n\r\nimport { checkSession, logOut, getUserByKey } from \"../utils/userUtils\";\r\nimport { pingServer } from \"../utils/commonUtils\";\r\nimport { storeUpdateEmployees, cardScanned } from \"../utils/employeeUtils\";\r\n\r\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\r\nimport \"../styles/table.css\";\r\n\r\nimport logo from \"../images/logo.png\";\r\nimport { FiLogOut } from \"react-icons/fi\";\r\nimport { updateUser, updateNotifications, showNotifications, showHistory } from \"../actions/employeeActions\";\r\nimport { getNotifications } from \"../utils/employeeUtils\";\r\n\r\nclass App extends React.PureComponent {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\tpingInterval: null,\r\n\t\t\tserverConnectionEstablished: false,\r\n\t\t\tscannerConnectionEstablished: false,\r\n\t\t\tloading: true,\r\n\t\t\tauthenticated: false,\r\n\t\t\tuser: {\r\n\t\t\t\tusername: \"\"\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\twindow.scanCard = cardScanned;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t// Check user session before displaying anything\r\n\t\tthis.establishConnection();\r\n\t\tthis.setState({ \r\n\t\t\tpingInterval: setInterval(() => {\r\n\t\t\t\tthis.establishConnection();\r\n\t\t\t}, 1000)\r\n\t\t});\r\n\t}\r\n\r\n\testablishConnection = () => {\r\n\t\tpingServer().then((res) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tserverConnectionEstablished: res.data.server,\r\n\t\t\t\tscannerConnectionEstablished: res.data.scanner,\r\n\t\t\t}, () => {\r\n\t\t\t\tcheckSession().then((res) => {\r\n\t\t\t\t\tif(!production\r\n\t\t\t\t\t\t|| (this.state.serverConnectionEstablished === true\r\n\t\t\t\t\t\t&& this.state.scannerConnectionEstablished === true)) {\r\n\t\t\t\t\t\tclearInterval(this.state.pingInterval);\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\t\tauthenticated: res.data,\r\n\t\t\t\t\t\t}, () => {\r\n\t\t\t\t\t\t\tif(this.state.authenticated) {\r\n\t\t\t\t\t\t\t\tthis.onAuthentification();\r\n\t\t\t\t\t\t\t\tgetUserByKey().then((res) => {\r\n\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\tuser: res.data,\r\n\t\t\t\t\t\t\t\t\t}, () => this.props.updateUser(this.state.user));\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\t\r\n\tonAuthentification = () => {\r\n\t\tstoreUpdateEmployees();\r\n\t\tgetNotifications().then(res => {\r\n\t\t\tthis.props.updateNotifications(res.data);\r\n\t\t});\r\n\r\n\t\tsetInterval(() => {\r\n\t\t\tstoreUpdateEmployees();\r\n\t\t\tgetNotifications().then(res => {\r\n\t\t\t\tthis.props.updateNotifications(res.data);\r\n\t\t\t});\r\n\t\t}, employeeUpdateInterval);\r\n\t}\r\n\r\n\tlogOut = () => {\r\n\t\tlogOut();\r\n\t\twindow.location.reload();\r\n\t}\r\n\r\n\trender() {\r\n\t\tif(this.state.loading) {\r\n\t\t\t// Loading screen\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<Spinner animation=\"border\"/>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.serverConnectionEstablished\r\n\t\t\t\t\t\t? \tthis.state.scannerConnectionEstablished\r\n\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t: <div>Veido savienojumu ar NFC skeneri...</div>\r\n\t\t\t\t\t\t: <div>Veido savienojumu ar serveri...</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tif(this.state.authenticated) {\r\n\t\t\t\t// User interface\r\n\t\t\t\tconst unreadNotifications = this.props.notifications.notifications.filter((notification) => {\r\n\t\t\t\t\tconst notificationDate = new Date(notification.date);\r\n\t\t\t\t\treturn notificationDate.getFullYear() === new Date().getFullYear() &&\r\n\t\t\t\t\t\tnotificationDate.getMonth() === new Date().getMonth() &&\r\n\t\t\t\t\t\tnotificationDate.getDate() === new Date().getDate() &&\r\n\t\t\t\t\t\t!notification.type.includes(\"LOG\");\r\n\t\t\t\t}).length;\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Router>\r\n\t\t\t\t\t\t<Container fluid={true}>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Navbar bg=\"dark\" variant=\"dark\" fixed=\"top\" expand=\"md\">\r\n\t\t\t\t\t\t\t\t\t\t<Navbar.Brand>\r\n\t\t\t\t\t\t\t\t\t\t\t<img \r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={logo}\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth=\"30\"\r\n\t\t\t\t\t\t\t\t\t\t\t\theight=\"30\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline-block align-top\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t{\" VRPAS 1\"}\r\n\t\t\t\t\t\t\t\t\t\t</Navbar.Brand>\r\n\t\t\t\t\t\t\t\t\t\t<Navbar.Toggle aria-controls=\"responsive-navbar-nav\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Navbar.Collapse id=\"responsive-navbar-nav\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Nav className=\"mr-auto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LinkContainer exact={true} to=\"/\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Nav.Link>Darbinieki</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LinkContainer exact={true} to=\"/report\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Nav.Link>Atskaites</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LinkContainer exact={true} to=\"/schedule\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Nav.Link>Grafiks</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Nav.Link onClick={this.props.showHistory}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tVsture\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Nav.Link \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.props.showNotifications} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ position: \"relative\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tPaziojumi\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tunreadNotifications ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tposition: \"absolute\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tright: \"-10px\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: \"red\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlineHeight: \"19px\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: \"50%\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: \"20px\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: \"20px\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"12px\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{unreadNotifications}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t\t\t\t\t\t<Nav>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Navbar.Text className=\"ml-md-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<u>{this.state.user.username}</u>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Navbar.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Nav.Link className=\"ml-md-2\" onClick={this.logOut}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tIziet\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FiLogOut className=\"ml-1\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t\t\t\t\t\t</Navbar>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t\t\t<Route exact path=\"/\" component={Employees} />\r\n\t\t\t\t\t\t\t\t\t\t<Route exact path=\"/report\" component={Report} />\r\n\t\t\t\t\t\t\t\t\t\t<Route exact path=\"/schedule\" component={Schedule} />\r\n\t\t\t\t\t\t\t\t\t\t<Route component={NotFound} />\r\n\t\t\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t\t\t<ViewEmployee/>\r\n\t\t\t\t\t\t\t\t\t<RegisterEmployee/>\r\n\t\t\t\t\t\t\t\t\t<DeleteEmployee/>\r\n\t\t\t\t\t\t\t\t\t<EditEmployee/>\r\n\t\t\t\t\t\t\t\t\t<ExportExcel/>\r\n\t\t\t\t\t\t\t\t\t<CheckCard/>\r\n\t\t\t\t\t\t\t\t\t<CommentEmployee/>\r\n\t\t\t\t\t\t\t\t\t<History/>\r\n\t\t\t\t\t\t\t\t\t<Notifications/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col className=\"footer\">\r\n\t\t\t\t\t\t\t\t\tVrpas 1  2019\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t</Router>\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\t// User Log In\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<LogIn/>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tnotifications: state.employees.notifications,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tupdateUser: (user) => dispatch(updateUser(user)),\r\n\t\tshowNotifications: () => dispatch(showNotifications()),\r\n\t\tupdateNotifications: (data) => dispatch(updateNotifications(data)),\r\n\t\tshowHistory: () => dispatch(showHistory()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === \"localhost\" ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === \"[::1]\" ||\r\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(\r\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n\t\t)\r\n);\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won\"t work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twindow.addEventListener(\"load\", () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let\"s check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\"This web app is being served cache-first by a service \" +\r\n\t\t\t\t\t\t\t\"worker. To learn more, visit http://bit.ly/CRA-PWA\"\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing;\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === \"installed\") {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t\"New content is available and will be used when all \" +\r\n\t\t\t\t\t\t\t\t\t\"tabs for this page are closed. See http://bit.ly/CRA-PWA.\"\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It\"s the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log(\"Content is cached for offline use.\");\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error(\"Error during service worker registration:\", error);\r\n\t\t});\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can\"t reload the page.\r\n\tfetch(swUrl)\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get(\"content-type\");\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t\"No internet connection found. App is running in offline mode.\"\r\n\t\t\t);\r\n\t\t});\r\n}\r\n\r\nexport function unregister() {\r\n\tif (\"serviceWorker\" in navigator) {\r\n\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\tregistration.unregister();\r\n\t\t});\r\n\t}\r\n}\r\n","import React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./styles/index.css\";\r\nimport App from \"./components/App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nimport store from \"./store/store\";\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<App />\r\n\t</Provider>,\r\ndocument.getElementById(\"root\"));\r\n\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.96ebfbf9.png\";"],"sourceRoot":""}