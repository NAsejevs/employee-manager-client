{"version":3,"sources":["actions/employeeActions.js","actions/actionTypes.js","store/initialState.js","reducers/index.js","reducers/employeeReducer.js","store/store.js","utils/config.js","utils/employeeUtils.js","utils/commonUtils.js","components/ContainerBox.js","components/Commands.js","components/Employees.js","components/BoostrapDatePicker.js","components/Report.js","components/RegisterEmployee.js","components/NotFound.js","components/ViewEmployee.js","components/DeleteEmployee.js","components/EditEmployee.js","components/ExportExcel.js","utils/userUtils.js","components/LogIn.js","components/CheckCard.js","components/CommentEmployee.js","components/App.js","serviceWorker.js","index.js","images/logo.png"],"names":["updateEmployees","employees","type","payload","showEmployeeWorkLog","employee","hideEmployeeWorkLog","showDeleteEmployee","hideDeleteEmployee","showEditEmployee","hideEditEmployee","showRegisterEmployee","hideRegisterEmployee","showExportExcel","hideExportExcel","showCheckCard","hideCheckCard","showCommentEmployee","hideCommentEmployee","initialState","employeeWorkLog","show","id","deleteEmployee","editEmployee","registerEmployee","exportExcel","checkCard","commentEmployee","rootReducer","combineReducers","state","arguments","length","undefined","action","Object","objectSpread","toConsumableArray","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","request","axios","create","baseURL","withCredentials","getServerEmployees","post","getServerEmployee","getServerEmployeeWorkLog","order","getServerEmployeeWorkLogFromTo","from","to","addServerEmployee","setServerEmployeeWorking","working","deleteServerEmployee","exportServerEmployees","settings","then","get","responseType","cardScanned","uid","status","timeout","addCard","changeCard","deleteCard","getEmployeeComments","getEmployees","res","dispatch","data","pingServer","addZero","i","millisecondConverter","ms","seconds","Math","floor","minutes","hours","ContainerBox","react_default","a","createElement","className","this","props","header","children","React","Component","connect","commandButton","Button","variant","onClick","fi","Row","Col","xs","Dropdown","Toggle","as","Menu","Item","eventKey","archived","height","width","active","OverlayTrigger","placement","overlay","Tooltip","Employees","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onTableChange","formatTable","applyNameFilter","applyPositionFilter","callback","result","tableData","filter","row","name","surname","toString","toLowerCase","indexOf","nameFilter","setState","position","positionFilter","showArchive","showInactive","workLogFrom","Date","setHours","workLogTo","promise","map","workLogs","comments","today","commands","Promise","all","onToggleArchive","onToggleInactive","onToggleFilters","showFilters","onChangeNameFilter","e","target","value","onChangePositionFilter","clearAllFilters","startDate","endDate","workLogUserId","showWorkLogModal","updateInterval","filters","setInterval","clearInterval","prevProps","prevState","_this2","columns","dataField","hidden","text","sort","sortFunc","b","classes","formatter","cell","commentBorderStyle","borderBottom","comment","index","key","style","cursor","commentId","Badge","fontSize","color","trigger","rootClose","Popover","aData","start_time","end_time","bData","badges","totalWorkTime","totalWorkTimeConverted","forEach","workLog","workTime","workTimeConverted","workTimeStartFormatted","getHours","getMinutes","workTimeEndFormatted","workTimeFormatted","push","totalWorkTimeFormatted","borderTop","components_Commands","pagination","paginationFactory","page","alwaysShowAllBtns","showTotal","sizePerPage","paginationTotalRenderer","size","sizePerPageList","components_ContainerBox","alignRight","Collapse","in","Form","Group","Check","label","checked","onChange","Control","placeholder","Text","react_bootstrap_table_next_lib_default","bootstrap4","keyField","bordered","hover","defaultSorted","remote","rowStyle","backgroundColor","BoostrapDatePicker","disabled","handleDateChangeStart","date","startOfDay","handleDateChangeEnd","endOfDay","onClickFilter","yesterday","setDate","getDate","last7Days","last30Days","dropdown","currentFilter","startDateFormatted","getMonth","getFullYear","endDateFormatted","displayOneDay","Label","column","react_datepicker_es","dateFormat","customInput","components_BoostrapDatePicker","selected","maxDate","minDate","DropdownButton","title","REGISTER_STATE","DATA_INPUT","RFID_WAIT","COMPLETE","RegisterEmployee","onNameChange","event","onSurnameChange","onPositionChange","onNumberChange","number","onPersonalCodeChange","personalCode","onAddCardChange","onFormSubmit","preventDefault","stopPropagation","registrationState","newEmployee","checkInterval","hideRegisterEmployeeAndDelete","onExited","Modal","onHide","onExit","deleteAndCancel","onSubmit","Header","closeButton","Title","Body","required","controlId","Alert","onClose","Footer","Buttons","Fragment","NotFound","ViewEmployee","fetchWorkLog","onModalHide","results","filterResults","lastDate","log","startTimePure","stillWorking","endTimePure","startTimeFormatted","endTimeFormatted","workRow","dateRow","colSpan","Table","DeleteEmployee","CHANGE_CARD_STATE","OFF","EditEmployee","onEnter","updateUID","catch","ExportExcel","handleDateChange","month","onToggleIncludeNoHours","includeNoHours","onToggleIncludeInactive","includeInactive","onToggleIncludeArchived","includeArchived","onEmployeeCheck","newList","employeeList","onCheckAll","checkAll","export","response","content","headers","download","showMonthYearPicker","checkSession","authenticate","username","password","rememberMe","logOut","getUserByKey","DEBUG","LogIn","onUsernameChange","onPasswordChange","onRememberMeChange","logIn","location","reload","authenticationError","centered","src","logo","alt","CheckCard","hideModal","onEntered","CommentEmployee","onCommentChange","onExpiryDateChange","console","expires","onManualDeleteChange","manualDelete","rows","showTimeSelect","timeFormat","App","establishConnection","serverConnectionEstablished","server","scannerConnectionEstablished","scanner","pingInterval","loading","authenticated","user","scanCard","Spinner","animation","BrowserRouter","Container","Navbar","bg","fixed","expand","Brand","aria-controls","Nav","lib","exact","Link","Switch","Route","path","component","Report","components_ViewEmployee","components_RegisterEmployee","components_DeleteEmployee","components_EditEmployee","components_ExportExcel","components_CheckCard","components_CommentEmployee","components_LogIn","Boolean","hostname","match","ReactDOM","render","es","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.1539b0f1.chunk.js","sourcesContent":["import { \r\n\tUPDATE_EMPLOYEES,\r\n\tSHOW_DELETE_EMPLOYEE, \r\n\tHIDE_DELETE_EMPLOYEE, \r\n\tSHOW_EDIT_EMPLOYEE, \r\n\tHIDE_EDIT_EMPLOYEE,\r\n\tSHOW_REGISTER_EMPLOYEE,\r\n\tHIDE_REGISTER_EMPLOYEE,\r\n\tSHOW_EXPORT_EXCEL,\r\n\tHIDE_EXPORT_EXCEL,\r\n\tSHOW_CHECK_CARD,\r\n\tHIDE_CHECK_CARD,\r\n\tSHOW_EMPLOYEE_WORK_LOG,\r\n\tHIDE_EMPLOYEE_WORK_LOG,\r\n\tSHOW_COMMENT_EMPLOYEE,\r\n\tHIDE_COMMENT_EMPLOYEE,\r\n} from \"./actionTypes\";\r\n\r\nexport const updateEmployees = (employees) => {\r\n\treturn {\r\n\t\ttype: UPDATE_EMPLOYEES,\r\n\t\tpayload: employees,\r\n\t}\r\n}\r\n\r\nexport const showEmployeeWorkLog = (employee) => {\r\n\treturn {\r\n\t\ttype: SHOW_EMPLOYEE_WORK_LOG,\r\n\t\tpayload: employee,\r\n\t}\r\n}\r\n\r\nexport const hideEmployeeWorkLog = () => {\r\n\treturn {\r\n\t\ttype: HIDE_EMPLOYEE_WORK_LOG,\r\n\t}\r\n}\r\n\r\nexport const showDeleteEmployee = (employee) => {\r\n\treturn {\r\n\t\ttype: SHOW_DELETE_EMPLOYEE,\r\n\t\tpayload: employee,\r\n\t}\r\n}\r\n\r\nexport const hideDeleteEmployee = () => {\r\n\treturn {\r\n\t\ttype: HIDE_DELETE_EMPLOYEE,\r\n\t}\r\n}\r\n\r\nexport const showEditEmployee = (employee) => {\r\n\treturn {\r\n\t\ttype: SHOW_EDIT_EMPLOYEE,\r\n\t\tpayload: employee,\r\n\t}\r\n}\r\n\r\nexport const hideEditEmployee = () => {\r\n\treturn {\r\n\t\ttype: HIDE_EDIT_EMPLOYEE,\r\n\t}\r\n}\r\n\r\nexport const showRegisterEmployee = () => {\r\n\treturn {\r\n\t\ttype: SHOW_REGISTER_EMPLOYEE,\r\n\t}\r\n}\r\n\r\nexport const hideRegisterEmployee = () => {\r\n\treturn {\r\n\t\ttype: HIDE_REGISTER_EMPLOYEE,\r\n\t}\r\n}\r\n\r\nexport const showExportExcel = () => {\r\n\treturn {\r\n\t\ttype: SHOW_EXPORT_EXCEL,\r\n\t}\r\n}\r\n\r\nexport const hideExportExcel = () => {\r\n\treturn {\r\n\t\ttype: HIDE_EXPORT_EXCEL,\r\n\t}\r\n}\r\n\r\nexport const showCheckCard = () => {\r\n\treturn {\r\n\t\ttype: SHOW_CHECK_CARD,\r\n\t}\r\n}\r\n\r\nexport const hideCheckCard = () => {\r\n\treturn {\r\n\t\ttype: HIDE_CHECK_CARD,\r\n\t}\r\n}\r\n\r\nexport const showCommentEmployee = (employee) => {\r\n\treturn {\r\n\t\ttype: SHOW_COMMENT_EMPLOYEE,\r\n\t\tpayload: employee,\r\n\t}\r\n}\r\n\r\nexport const hideCommentEmployee = () => {\r\n\treturn {\r\n\t\ttype: HIDE_COMMENT_EMPLOYEE,\r\n\t}\r\n}","export const UPDATE_EMPLOYEES = \"UPDATE_EMPLOYEES\";\r\n\r\nexport const SHOW_EMPLOYEE_WORK_LOG = \"SHOW_EMPLOYEE_WORK_LOG\";\r\nexport const HIDE_EMPLOYEE_WORK_LOG = \"HIDE_EMPLOYEE_WORK_LOG\";\r\n\r\nexport const SHOW_DELETE_EMPLOYEE = \"SHOW_DELETE_EMPLOYEE\";\r\nexport const HIDE_DELETE_EMPLOYEE = \"HIDE_DELETE_EMPLOYEE\";\r\n\r\nexport const SHOW_EDIT_EMPLOYEE = \"SHOW_EDIT_EMPLOYEE\";\r\nexport const HIDE_EDIT_EMPLOYEE = \"HIDE_EDIT_EMPLOYEE\";\r\n\r\nexport const SHOW_REGISTER_EMPLOYEE = \"SHOW_REGISTER_EMPLOYEE\";\r\nexport const HIDE_REGISTER_EMPLOYEE = \"HIDE_REGISTER_EMPLOYEE\";\r\n\r\nexport const SHOW_EXPORT_EXCEL = \"SHOW_EXPORT_EXCEL\";\r\nexport const HIDE_EXPORT_EXCEL = \"HIDE_EXPORT_EXCEL\";\r\n\r\nexport const SHOW_CHECK_CARD = \"SHOW_CHECK_CARD\";\r\nexport const HIDE_CHECK_CARD = \"HIDE_CHECK_CARD\";\r\n\r\nexport const SHOW_COMMENT_EMPLOYEE = \"SHOW_COMMENT_EMPLOYEE\";\r\nexport const HIDE_COMMENT_EMPLOYEE = \"HIDE_COMMENT_EMPLOYEE\";","const initialState = {\r\n\temployees: [],\r\n\temployeeWorkLog: {\r\n\t\tshow: false,\r\n\t\tid: null,\r\n\t},\r\n\tdeleteEmployee: {\r\n\t\tshow: false,\r\n\t\temployee: {},\r\n\t},\r\n\teditEmployee: {\r\n\t\tshow: false,\r\n\t\temployee: {},\r\n\t},\r\n\tregisterEmployee: {\r\n\t\tshow: false,\r\n\t},\r\n\texportExcel: {\r\n\t\tshow: false,\r\n\t},\r\n\tcheckCard: {\r\n\t\tshow: false,\r\n\t},\r\n\tcommentEmployee: {\r\n\t\tshow: false,\r\n\t\temployee: {},\r\n\t},\r\n};\r\n\r\nexport default initialState;","import { combineReducers } from 'redux';\r\n\r\nimport { employees } from './employeeReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n\temployees: employees,\r\n});\r\n\r\nexport default rootReducer;","import initialState from \"../store/initialState\";\r\n\r\nimport { \r\n\tUPDATE_EMPLOYEES,\r\n\tSHOW_DELETE_EMPLOYEE, \r\n\tHIDE_DELETE_EMPLOYEE, \r\n\tSHOW_EDIT_EMPLOYEE, \r\n\tHIDE_EDIT_EMPLOYEE,\r\n\tSHOW_REGISTER_EMPLOYEE,\r\n\tHIDE_REGISTER_EMPLOYEE,\r\n\tSHOW_EXPORT_EXCEL,\r\n\tHIDE_EXPORT_EXCEL,\r\n\tSHOW_CHECK_CARD,\r\n\tHIDE_CHECK_CARD,\r\n\tSHOW_EMPLOYEE_WORK_LOG,\r\n\tHIDE_EMPLOYEE_WORK_LOG,\r\n\tSHOW_COMMENT_EMPLOYEE,\r\n\tHIDE_COMMENT_EMPLOYEE,\r\n} from '../actions/actionTypes';\r\n\r\nexport const employees = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_EMPLOYEES:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\temployees: [...action.payload],\r\n\t\t\t}\r\n\t\tcase SHOW_EMPLOYEE_WORK_LOG:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\temployeeWorkLog: {\r\n\t\t\t\t\t...state.employeeWorkLog,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\tid: action.payload,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_EMPLOYEE_WORK_LOG:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\temployeeWorkLog: {\r\n\t\t\t\t\t...state.employeeWorkLog,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\tid: null,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_DELETE_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdeleteEmployee: {\r\n\t\t\t\t\t...state.deleteEmployee,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\temployee: action.payload,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_DELETE_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdeleteEmployee: {\r\n\t\t\t\t\t...state.deleteEmployee,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\temployee: {},\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_EDIT_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditEmployee: {\r\n\t\t\t\t\t...state.editEmployee,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\temployee: action.payload,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_EDIT_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditEmployee: {\r\n\t\t\t\t\t...state.editEmployee,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\temployee: {},\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_REGISTER_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tregisterEmployee: {\r\n\t\t\t\t\t...state.registerEmployee,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_REGISTER_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tregisterEmployee: {\r\n\t\t\t\t\t...state.registerEmployee,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_EXPORT_EXCEL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\texportExcel: {\r\n\t\t\t\t\t...state.exportExcel,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_EXPORT_EXCEL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\texportExcel: {\r\n\t\t\t\t\t...state.exportExcel,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_CHECK_CARD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcheckCard: {\r\n\t\t\t\t\t...state.checkCard,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_CHECK_CARD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcheckCard: {\r\n\t\t\t\t\t...state.checkCard,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_COMMENT_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcommentEmployee: {\r\n\t\t\t\t\t...state.commentEmployee,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\temployee: action.payload,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_COMMENT_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcommentEmployee: {\r\n\t\t\t\t\t...state.commentEmployee,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\temployee: {},\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}","import { createStore } from \"redux\";\r\nimport rootReducer from \"../reducers\";\r\n\r\nconst store = configureStore();\r\n\r\nfunction configureStore() {\r\n\treturn createStore(\r\n\t\trootReducer,\r\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\r\n\t);\r\n}\r\n\r\nexport default store;","import axios from \"axios\";\r\n\r\nexport const serverURL = \"http://192.168.1.150:8080\";\r\n\r\nexport const request = axios.create({\r\n\tbaseURL: serverURL,\r\n\twithCredentials: true,\r\n});\r\n","import store from \"../store/store\";\r\nimport { request } from \"./config\";\r\nimport { updateEmployees } from \"../actions/employeeActions\";\r\n\r\n// ------------ Server requests ------------\r\nexport const getServerEmployees = () => {\r\n\treturn request.post(\"/getEmployees\");\r\n}\r\n\r\nexport const getServerEmployee = (id) => {\r\n\treturn request.post(\"/getEmployee\", { \r\n\t\tid \r\n\t});\r\n}\r\n\r\nexport const getServerEmployeeWorkLog = (id, order = \"ASC\") => {\r\n\treturn request.post(\"/getEmployeeWorkLog\", { \r\n\t\tid,\r\n\t\torder\r\n\t});\r\n}\r\n\r\nexport const getServerEmployeeWorkLogFromTo = (id, from, to) => {\r\n\treturn request.post(\"/getEmployeeWorkLogFromTo\", { \r\n\t\tid,\r\n\t\tfrom,\r\n\t\tto\r\n\t});\r\n}\r\n\r\nexport const addServerEmployee = (employee) => {\r\n\treturn request.post(\"/addEmployee\", employee);\r\n}\r\n\r\nexport const setServerEmployeeWorking = (id, working) => {\r\n\treturn request.post(\"/setEmployeeWorking\", {\r\n\t\tid, \r\n\t\tworking\r\n\t});\r\n}\r\n\r\nexport const setServerEmployeeArchived = (id, archived) => {\r\n\treturn request.post(\"/setArchivedEmployee\", {\r\n\t\tid, \r\n\t\tarchived\r\n\t});\r\n}\r\n\r\nexport const setServerEmployeeActive = (id, active) => {\r\n\treturn request.post(\"/setActiveEmployee\", {\r\n\t\tid, \r\n\t\tactive\r\n\t});\r\n}\r\n\r\nexport const deleteServerEmployee = (id) => {\r\n\treturn request.post(\"/deleteEmployee\", {\r\n\t\tid\r\n\t});\r\n}\r\n\r\nexport const editServerEmployee = (employee) => {\r\n\treturn request.post(\"/editEmployee\", {\r\n\t\temployee\r\n\t});\r\n}\r\n\r\nexport const exportServerEmployees = (settings) => {\r\n\treturn request.post(\"/export\", {\r\n\t\tsettings\r\n\t}).then(() => {\r\n\t\treturn request.get(\"/export\", {\r\n\t\t\tresponseType: \"blob\"\r\n\t\t})\r\n\t});\r\n}\r\n\r\nexport const cardScanned = (uid) => {\r\n\treturn request.post(\"/cardScanned\", { \r\n\t\tuid: uid \r\n\t});\r\n}\r\n\r\nexport const checkCard = (status) => {\r\n\treturn request.post(\"/checkCard\", { \r\n\t\tstatus \r\n\t}, {\r\n\t\ttimeout: 1000,\r\n\t});\r\n}\r\n\r\nexport const addCard = (id) => {\r\n\treturn request.post(\"/addCard\", {\r\n\t\tid\r\n\t});\r\n}\r\n\r\nexport const changeCard = (id) => {\r\n\treturn request.post(\"/changeCard\", {\r\n\t\tid\r\n\t});\r\n}\r\n\r\nexport const deleteCard = (id) => {\r\n\treturn request.post(\"/deleteCard\", {\r\n\t\tid\r\n\t});\r\n}\r\n\r\nexport const addEmployeeComment = (employee, comment) => {\r\n\treturn request.post(\"/addEmployeeComment\", {\r\n\t\temployee,\r\n\t\tcomment,\r\n\t});\r\n}\r\n\r\nexport const getEmployeeComments = (id) => {\r\n\treturn request.post(\"/getEmployeeComments\", {\r\n\t\tid,\r\n\t});\r\n}\r\n\r\nexport const deleteEmployeeComment = (commentId) => {\r\n\treturn request.post(\"/deleteEmployeeComment\", {\r\n\t\tcommentId,\r\n\t});\r\n}\r\n// ---------------------------------------\r\n\r\nexport const getEmployees = () => {\r\n\tgetServerEmployees().then((res) => {\r\n\t\tstore.dispatch(updateEmployees(res.data));\r\n\t});\r\n}\r\n\r\nexport const setEmployeeWorking = (id, working, callback) => {\r\n\tsetServerEmployeeWorking(id, working).then(() => {\r\n\t\tgetServerEmployees().then((res) => {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t});\r\n}","import { request } from \"./config\";\r\n\r\nexport const pingServer = () => {\r\n\treturn request.post(\"/ping\");\r\n}\r\n\r\nexport const addZero = (i) => {\r\n\tif (i < 10) {\r\n\t\ti = \"0\" + i;\r\n\t}\r\n\treturn i;\r\n}\r\n\r\nexport const millisecondConverter = (ms) => {\r\n\tlet seconds = Math.floor(ms/1000);\r\n\tlet minutes = Math.floor(seconds/60);\r\n\tlet hours = Math.floor(minutes/60);\r\n\r\n\tminutes = minutes-(hours*60);\r\n\tseconds = seconds-(hours*60*60)-(minutes*60);\r\n\r\n\treturn {\r\n\t\tseconds,\r\n\t\tminutes,\r\n\t\thours\r\n\t}\r\n}\r\n\r\nexport const getMonthName = (month) => {\r\n\tconst months = [\r\n\t\t\"Janvāris\",\r\n\t\t\"Februāris\",\r\n\t\t\"Marts\",\r\n\t\t\"Aprīlis\",\r\n\t\t\"Maijs\",\r\n\t\t\"Jūnijs\",\r\n\t\t\"Jūlijs\",\r\n\t\t\"Augusts\",\r\n\t\t\"Septembris\",\r\n\t\t\"Oktobris\",\r\n\t\t\"Novembris\",\r\n\t\t\"Decembris\"\r\n\t];\r\n\r\n\treturn months[month];\r\n}\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\n\r\nimport \"../styles/main.css\";\r\n\r\nclass ContainerBox extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"container-box\">\r\n\t\t\t\t<div className=\"container-box-header\">\r\n\t\t\t\t\t{this.props.header}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"container-box-body\">\r\n\t\t\t\t\t{this.props.children}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ContainerBox);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { \r\n\tButton, \r\n\tDropdown,\r\n\tRow,\r\n\tCol,\r\n\tTooltip,\r\n\tOverlayTrigger,\r\n} from \"react-bootstrap\";\r\n\r\nimport { \r\n\tsetServerEmployeeWorking, \r\n\tsetServerEmployeeArchived, \r\n\tsetServerEmployeeActive, \r\n\tgetEmployees \r\n} from \"../utils/employeeUtils\";\r\n\r\nimport { \r\n\tshowDeleteEmployee,\r\n\tshowEditEmployee,\r\n\tshowCommentEmployee,\r\n} from \"../actions/employeeActions\";\r\n\r\nimport { \r\n\tFiMoreHorizontal, \r\n\tFiTrash, \r\n\tFiEdit,\r\n\tFiArchive, \r\n\tFiX,\r\n\tFiCheck\r\n} from \"react-icons/fi\";\r\n\r\nclass commandButton extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Button variant=\"link\" onClick={this.props.onClick}>\r\n\t\t\t\t<FiMoreHorizontal/>\r\n\t\t\t</Button>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst Commands = (props) => {\r\n\treturn (\r\n\t\t<Row className=\"float-right\">\r\n\t\t\t<Col xs=\"6\">\r\n\t\t\t\t<Dropdown>\r\n\t\t\t\t\t<Dropdown.Toggle as={commandButton} id=\"dropdown-custom-components\"/>\r\n\t\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\teventKey=\"1\"\r\n\t\t\t\t\t\t\tonClick={() => props.showEditEmployee(props.employee)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FiEdit className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\tRediģēt\r\n\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\teventKey=\"2\"\r\n\t\t\t\t\t\t\tonClick={() => setServerEmployeeArchived(props.employee.id, !props.employee.archived).then(() => {\r\n\t\t\t\t\t\t\t\tgetEmployees();\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FiArchive height=\"100%\" width=\"auto\" className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\t{ props.employee.archived ? \"Izņemt no arhīva\" : \"Arhivēt\" }\r\n\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\teventKey=\"3\"\r\n\t\t\t\t\t\t\tonClick={() => setServerEmployeeActive(props.employee.id, !props.employee.active).then(() => {\r\n\t\t\t\t\t\t\t\tgetEmployees();\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\t\tprops.employee.active \r\n\t\t\t\t\t\t\t\t? <FiX height=\"100%\" width=\"auto\" className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\t\t: <FiCheck height=\"100%\" width=\"auto\" className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\t\tprops.employee.active \r\n\t\t\t\t\t\t\t\t? \"Deaktivizēt\" \r\n\t\t\t\t\t\t\t\t: \"Aktivizēt\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\teventKey=\"4\"\r\n\t\t\t\t\t\t\tonClick={() => props.showDeleteEmployee(props.employee)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FiTrash height=\"100%\" width=\"auto\" className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\tDzēst\r\n\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\teventKey=\"5\"\r\n\t\t\t\t\t\t\tonClick={() => props.showCommentEmployee(props.employee)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FiEdit className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\tPievienot Komentāru\r\n\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t</Dropdown>\r\n\t\t\t</Col>\r\n\t\t\t<Col xs=\"6\">\r\n\t\t\t\t<OverlayTrigger\r\n\t\t\t\t\tplacement={\"top\"}\r\n\t\t\t\t\toverlay={\r\n\t\t\t\t\t\t<Tooltip>\r\n\t\t\t\t\t\t\tAtzīmēt kā {props.employee.working ? \"izgājušu\" : \"ienākušu\"}\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={() => setServerEmployeeWorking(props.employee.id, !props.employee.working).then(() => {\r\n\t\t\t\t\t\t\tgetEmployees();\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\tvariant={props.employee.working ? \"danger\" : \"success\"}\r\n\t\t\t\t\t>\r\n\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tprops.employee.working \r\n\t\t\t\t\t\t\t? <FiX/>\r\n\t\t\t\t\t\t\t: <FiCheck/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</OverlayTrigger>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tdeleteEmployee: state.employees.deleteEmployee,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowDeleteEmployee: (employee) => dispatch(showDeleteEmployee(employee)),\r\n\t\tshowEditEmployee: (employee) => dispatch(showEditEmployee(employee)),\r\n\t\tshowCommentEmployee: (employee) => dispatch(showCommentEmployee(employee)),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Commands);","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\n\r\nimport { Badge, Form, Button, Collapse, Row, Col, Dropdown, OverlayTrigger, Popover } from \"react-bootstrap\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\r\n\r\nimport { \r\n\tupdateEmployees, \r\n\tshowRegisterEmployee,\r\n\tshowExportExcel,\r\n\tshowCheckCard,\r\n\tshowEmployeeWorkLog\r\n} from \"../actions/employeeActions\";\r\n\r\nimport { \r\n\tgetEmployees,\r\n\tgetServerEmployeeWorkLogFromTo,\r\n\tgetEmployeeComments,\r\n\tdeleteEmployeeComment,\r\n} from \"../utils/employeeUtils\";\r\nimport { addZero, millisecondConverter } from \"../utils/commonUtils\";\r\n\r\nimport \"../styles/main.css\";\r\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\r\nimport \"../styles/table.css\";\r\n\r\nimport ContainerBox from \"./ContainerBox\";\r\nimport Commands from \"./Commands\";\r\n\r\nimport { FiUser, FiMinimize2, FiMaximize2, FiMessageSquare, FiXCircle } from \"react-icons/fi\";\r\n\r\nclass Employees extends React.Component {\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\tworkLogUserId: null,\r\n\t\t\tshowWorkLogModal: false,\r\n\t\t\tupdateInterval: null,\r\n\t\t\ttableData: [],\r\n\t\t\tfilter: {\r\n\t\t\t\ttype: \"\",\r\n\t\t\t\tfilters: \"\",\r\n\t\t\t},\r\n\t\t\tshowFilters: false,\r\n\t\t\tshowArchive: false,\r\n\t\t\tshowInactive: false,\r\n\t\t\tnameFilter: \"\",\r\n\t\t\tpositionFilter: \"\"\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tgetEmployees();\r\n\r\n\t\tthis.setState({\r\n\t\t\tupdateInterval: (\r\n\t\t\t\tsetInterval(() => {\r\n\t\t\t\t\tgetEmployees();\r\n\t\t\t\t}, 1000)\r\n\t\t\t),\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.state.updateInterval);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif(prevProps.employees !== this.props.employees\r\n\t\t\t|| prevState.showArchive !== this.state.showArchive\r\n\t\t\t|| prevState.showInactive !== this.state.showInactive\r\n\t\t\t|| prevState.nameFilter !== this.state.nameFilter\r\n\t\t\t|| prevState.positionFilter !== this.state.positionFilter) {\r\n\t\t\tthis.onTableChange();\r\n\t\t}\r\n\t}\r\n\r\n\tonTableChange = () => {\r\n\t\tthis.formatTable(() => {\r\n\t\t\tthis.applyNameFilter(() => {\r\n\t\t\t\tthis.applyPositionFilter();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tapplyNameFilter = (callback = () => null) => {\r\n\t\tconst result = this.state.tableData.filter((row) => {\r\n\t\t\treturn (row.name.name + \" \" + row.name.surname).toString().toLowerCase().indexOf(this.state.nameFilter.toLowerCase()) > -1;\r\n\t\t});\r\n\r\n\t\tthis.setState({\r\n\t\t\ttableData: result\r\n\t\t}, callback);\r\n\t}\r\n\r\n\tapplyPositionFilter = (callback = () => null) => {\r\n\t\tconst result = this.state.tableData.filter((row) => {\r\n\t\t\treturn (row.position).toString().toLowerCase().indexOf(this.state.positionFilter.toLowerCase()) > -1;\r\n\t\t});\r\n\r\n\t\tthis.setState({\r\n\t\t\ttableData: result\r\n\t\t}, callback);\r\n\t}\r\n\r\n\tformatTable = (callback = () => null) => {\r\n\t\tconst employees = this.props.employees.filter((employee) => {\r\n\t\t\tif(employee.archived && !this.state.showArchive) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif(!employee.active && !this.state.showInactive) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\r\n\t\tconst workLogFrom = new Date();\r\n\t\tworkLogFrom.setHours(0, 0, 0);\r\n\r\n\t\tconst workLogTo = new Date();\r\n\t\tworkLogTo.setHours(23, 59, 59);\r\n\r\n\t\tconst promise = employees.map((employee) => {\r\n\t\t\treturn getServerEmployeeWorkLogFromTo(employee.id, workLogFrom, workLogTo).then((workLogs) => {\r\n\t\t\t\treturn getEmployeeComments(employee.id).then((comments) => {\r\n\t\t\t\t\treturn({\r\n\t\t\t\t\t\tid: employee.id,\r\n\t\t\t\t\t\tposition: employee.position.toString(),\r\n\t\t\t\t\t\tname: {\r\n\t\t\t\t\t\t\tid: employee.id,\r\n\t\t\t\t\t\t\tname: employee.name,\r\n\t\t\t\t\t\t\tsurname: employee.surname,\r\n\t\t\t\t\t\t\tworking: employee.working,\r\n\t\t\t\t\t\t\tcomments: comments.data,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttoday: {\r\n\t\t\t\t\t\t\tworking: employee.working,\r\n\t\t\t\t\t\t\tworkLogs: workLogs.data,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcommands: employee,\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tPromise.all(promise).then((res) => {\r\n\t\t\tthis.setState({ tableData: res,\r\n\t\t\t}, () => {\r\n\t\t\t\tcallback();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tonToggleArchive = () => {\r\n\t\tthis.setState({ showArchive: !this.state.showArchive });\r\n\t}\r\n\r\n\tonToggleInactive = () => {\r\n\t\tthis.setState({ showInactive: !this.state.showInactive });\r\n\t}\r\n\r\n\tonToggleFilters = () => {\r\n\t\tthis.setState({ showFilters: !this.state.showFilters });\r\n\t}\r\n\r\n\tonChangeNameFilter = (e) => {\r\n\t\tthis.setState({ nameFilter: e.target.value });\r\n\t}\r\n\r\n\tonChangePositionFilter = (e) => {\r\n\t\tthis.setState({ positionFilter: e.target.value });\r\n\t}\r\n\r\n\tclearAllFilters = () => {\r\n\t\tconst startDate = new Date();\r\n\t\tstartDate.setHours(0,0,0);\r\n\r\n\t\tconst endDate = new Date();\r\n\t\tendDate.setHours(23,59,59);\r\n\r\n\t\tthis.setState({\r\n\t\t\tnameFilter: \"\",\r\n\t\t\tpositionFilter: \"\",\r\n\t\t\tshowArchive: false,\r\n\t\t\tshowInactive: false,\r\n\t\t\tstartDate: startDate,\r\n\t\t\tendDate: endDate,\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst positionFormatter = (cell, row) => {\r\n\t\t\treturn (\r\n\t\t\t\t<span>{cell}</span>\r\n\t\t\t);\r\n\t\t};\r\n\t\t\r\n\t\tconst nameFormatter = (cell, row) => {\r\n\t\t\tconst commentBorderStyle = {\r\n\t\t\t\tborderBottom: \"solid 1px gray\"\r\n\t\t\t}\r\n\r\n\t\t\tconst comments = cell.comments.length \r\n\t\t\t? cell.comments.map((comment, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Row \r\n\t\t\t\t\t\tkey={index} \r\n\t\t\t\t\t\tstyle={index < cell.comments.length - 1 ? commentBorderStyle : null} \r\n\t\t\t\t\t\tclassName=\"ml-1 mr-1 pt-1 pb-2\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<span>{comment.text}</span>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs=\"auto\">\r\n\t\t\t\t\t\t\t<FiXCircle \r\n\t\t\t\t\t\t\t\tstyle={{ \r\n\t\t\t\t\t\t\t\t\tcursor: \"pointer\" \r\n\t\t\t\t\t\t\t\t}} \r\n\t\t\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\t\t\t() => deleteEmployeeComment(comment.id).then(() => getEmployees())\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t\t: null;\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<nobr>\r\n\t\t\t\t\t\t<Badge \r\n\t\t\t\t\t\t\tstyle={{ fontSize: \"14px\" }}\r\n\t\t\t\t\t\t\tvariant={ cell.working ? \"success\" : \"danger\" }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FiUser/>\r\n\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\tvariant=\"link\" \r\n\t\t\t\t\t\t\tonClick={() => this.props.showEmployeeWorkLog(cell.id)}\r\n\t\t\t\t\t\t\tstyle={{ color: \"#0000FF\" }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{cell.name + \" \" + cell.surname}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcell.comments.length\r\n\t\t\t\t\t\t\t? \r\n\t\t\t\t\t\t\t<OverlayTrigger\r\n\t\t\t\t\t\t\t\ttrigger=\"click\"\r\n\t\t\t\t\t\t\t\trootClose\r\n\t\t\t\t\t\t\t\tplacement=\"bottom\"\r\n\t\t\t\t\t\t\t\toverlay={\r\n\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t{comments}\r\n\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FiMessageSquare style={{ cursor: \"pointer\" }} className=\"ml-1\"/>\r\n\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t: \r\n\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</nobr>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\tconst todayFormatter = (cell, row) => {\r\n\t\t\tlet badges = [];\r\n\t\t\tlet totalWorkTime = 0;\r\n\t\t\tlet totalWorkTimeConverted = {\r\n\t\t\t\thours: 0,\r\n\t\t\t\tminutes: 0,\r\n\t\t\t\tseconds: 0\r\n\t\t\t};\r\n\r\n\t\t\tcell.workLogs.forEach((workLog, index) => {\r\n\t\t\t\tlet workTime = 0;\r\n\t\t\t\tlet workTimeConverted = {\r\n\t\t\t\t\thours: 0,\r\n\t\t\t\t\tminutes: 0,\r\n\t\t\t\t\tseconds: 0\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif(workLog.end_time === null) {\r\n\t\t\t\t\tworkLog.end_time = new Date();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Calculate each row data\r\n\t\t\t\tworkTime = new Date(workLog.end_time) - new Date(workLog.start_time);\r\n\t\t\t\tworkTimeConverted = millisecondConverter(workTime);\r\n\r\n\t\t\t\tconst workTimeStartFormatted =\r\n\t\t\t\t\t  addZero(new Date(workLog.start_time).getHours()) + \":\" \r\n\t\t\t\t\t+ addZero(new Date(workLog.start_time).getMinutes());\r\n\t\t\t\t\r\n\t\t\t\tconst workTimeEndFormatted =\r\n\t\t\t\t\t  addZero(new Date(workLog.end_time).getHours()) + \":\" \r\n\t\t\t\t\t+ addZero(new Date(workLog.end_time).getMinutes());\r\n\t\r\n\t\t\t\tconst workTimeFormatted =\r\n\t\t\t\t\tworkTimeConverted.hours + \" st. \" \r\n\t\t\t\t\t+ workTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\t// Calculate the total\r\n\t\t\t\ttotalWorkTime += new Date(workLog.end_time) - new Date(workLog.start_time);\r\n\t\t\t\ttotalWorkTimeConverted = millisecondConverter(totalWorkTime);\r\n\r\n\t\t\t\t// Each work log entry formatted and applied in HTML format\r\n\t\t\t\tbadges.push(\r\n\t\t\t\t\t<Row key={index} style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t\t<Col xs=\"4\">\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\tIenāca: {workTimeStartFormatted}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs=\"4\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tcell.working && index === cell.workLogs.length - 1\r\n\t\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t\t: <span>\r\n\t\t\t\t\t\t\t\t\tIzgāja: {workTimeEndFormatted}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs=\"4\" className=\"text-center\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tworkTimeFormatted !== null\r\n\t\t\t\t\t\t\t\t? <span>\r\n\t\t\t\t\t\t\t\t\t{workTimeFormatted}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\t\t//Total row formatted\r\n\t\t\tif(badges.length) {\r\n\t\t\t\tconst totalWorkTimeFormatted =\r\n\t\t\t\ttotalWorkTimeConverted.hours + \" st. \" \r\n\t\t\t\t+ totalWorkTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\tbadges.push(\r\n\t\t\t\t\t<Row key={badges.length} style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t\t<Col xs=\"4\">\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs=\"4\">\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs=\"4\" className=\"text-center\" style={{ borderTop: \"solid 1px\" }}>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttotalWorkTimeFormatted !== null\r\n\t\t\t\t\t\t\t\t? <span>\r\n\t\t\t\t\t\t\t\t\t<b>{totalWorkTimeFormatted}</b>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn (badges);\r\n\t\t};\r\n\r\n\t\tconst commandFormatter = (cell, row) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Commands employee={cell}/>\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\tconst columns = [{\r\n\t\t\tdataField: \"id\",\r\n\t\t\thidden: true,\r\n\t\t}, {\r\n\t\t\tdataField: \"position\",\r\n\t\t\ttext: \"Amats\",\r\n\t\t\tsort: true,\r\n\t\t\tsortFunc: (a, b, order) => {\r\n\t\t\t\tif(a < b) {\r\n\t\t\t\t\treturn order === \"asc\" ? 1 : -1;\r\n\t\t\t\t} else if(a > b) {\r\n\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\tformatter: positionFormatter,\r\n\t\t}, {\r\n\t\t\tdataField: \"name\",\r\n\t\t\ttext: \"Vārds\",\r\n\t\t\tsort: true,\r\n\t\t\tsortFunc: (a, b, order) => {\r\n\t\t\t\tif(a.name < b.name) {\r\n\t\t\t\t\treturn order === \"asc\" ? 1 : -1;\r\n\t\t\t\t} else if(a.name > b.name) {\r\n\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\tformatter: nameFormatter,\r\n\t\t}, {\r\n\t\t\tdataField: \"today\",\r\n\t\t\ttext: \"Šodien\",\r\n\t\t\tsort: true,\r\n\t\t\tsortFunc: (a, b, order) => {\r\n\t\t\t\tconst aData = a.working\r\n\t\t\t\t? new Date(a.workLogs[a.workLogs.length - 1].start_time)\r\n\t\t\t\t: new Date(a.workLogs[a.workLogs.length - 1].end_time);\r\n\r\n\t\t\t\tconst bData = b.working\r\n\t\t\t\t? new Date(b.workLogs[b.workLogs.length - 1].start_time)\r\n\t\t\t\t: new Date(b.workLogs[b.workLogs.length - 1].end_time);\r\n\r\n\t\t\t\tif(aData > bData) {\r\n\t\t\t\t\treturn order === \"asc\" ? 1 : -1;\r\n\t\t\t\t} else if(aData < bData) {\r\n\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\tformatter: todayFormatter\r\n\t\t}, {\r\n\t\t\tdataField: \"commands\",\r\n\t\t\ttext: \"\",\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\tformatter: commandFormatter\r\n\t\t}];\r\n\r\n\t\tconst defaultSorted = [{\r\n\t\t\tdataField: \"name\",\r\n\t\t\torder: \"asc\"\r\n\t\t}];\r\n\r\n\t\tconst paginationTotalRenderer = (from, to, size) => {\r\n\t\t\tif(to === 0) {\r\n\t\t\t\treturn(\r\n\t\t\t\t\t<span className=\"react-bootstrap-table-pagination-total\">\r\n\t\t\t\t\t\t&nbsp;Netika atrasts neviens rezultāts\r\n\t\t\t\t\t</span>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn(\r\n\t\t\t\t<span className=\"react-bootstrap-table-pagination-total\">\r\n\t\t\t\t\t&nbsp;Rāda { to-from+1 } no { size } rezultātiem\r\n\t\t\t\t</span>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tconst pagination = paginationFactory({\r\n\t\t\tpage: 1,\r\n\t\t\talwaysShowAllBtns: true,\r\n\t\t\tshowTotal: true,\r\n\t\t\tsizePerPage : 10,\r\n\t\t\tpaginationTotalRenderer: paginationTotalRenderer,\r\n\t\t\tsizePerPageList: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"10\",\r\n\t\t\t\t\tvalue: 10,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"25\",\r\n\t\t\t\t\tvalue: 25,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"50\",\r\n\t\t\t\t\tvalue: 50,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"100\",\r\n\t\t\t\t\tvalue: 100,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"Visi\",\r\n\t\t\t\t\tvalue: this.state.tableData.length,\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\r\n\t\tconst rowStyle = (row) => {\r\n\t\t\tif(!row.commands.active) {\r\n\t\t\t\treturn { backgroundColor: \"rgba(255, 0, 0, 0.1)\" };\r\n\t\t\t}\r\n\r\n\t\t\tif(row.commands.archived) {\r\n\t\t\t\treturn { backgroundColor: \"rgba(255, 255, 0, 0.1)\" };\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<ContainerBox header={\"Darbinieki\"}>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\tvariant=\"link\" \r\n\t\t\t\t\t\t\tonClick={this.onToggleFilters}\r\n\t\t\t\t\t\t\tclassName=\"float-left\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.showFilters\r\n\t\t\t\t\t\t\t\t? <FiMinimize2 className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\t\t: <FiMaximize2 className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tFiltri\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Dropdown alignRight className=\"float-right\">\r\n\t\t\t\t\t\t\t<Dropdown.Toggle variant=\"link\">\r\n\t\t\t\t\t\t\t\tOpcijas\r\n\t\t\t\t\t\t\t</Dropdown.Toggle>\r\n\r\n\t\t\t\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t<Dropdown.Item onClick={this.props.showRegisterEmployee}>Pievienot darbinieku</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t<Dropdown.Item onClick={this.props.showCheckCard}>Atrast darbinieku pēc kartes</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t<Dropdown.Item onClick={this.props.showExportExcel}>Eksports</Dropdown.Item>\r\n\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\r\n\t\t\t\t<Collapse in={this.state.showFilters}>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\tlabel=\"Rādīt arhīvā esošos darbiniekus\"\r\n\t\t\t\t\t\t\t\t\tchecked={this.state.showArchive}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onToggleArchive}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\tlabel=\"Rādīt deaktivizētus darbiniekus\"\r\n\t\t\t\t\t\t\t\t\tchecked={this.state.showInactive}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onToggleInactive}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Vārds...\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChangeNameFilter}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.nameFilter}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Form.Text>\r\n\t\t\t\t\t\t\t\t\tMeklēt darbinieku pēc vārda vai uzvārda\r\n\t\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Amats...\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChangePositionFilter}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.positionFilter}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Form.Text>\r\n\t\t\t\t\t\t\t\t\tMeklēt darbinieku pēc amata\r\n\t\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\tclassName=\"ml-2 float-right\"\r\n\t\t\t\t\t\t\t\tvariant=\"danger\"\r\n\t\t\t\t\t\t\t\tonClick={this.clearAllFilters}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tNotīrīt visus filtrus\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Collapse>\r\n\r\n\t\t\t\t<BootstrapTable \r\n\t\t\t\t\tbootstrap4={ true }\r\n\t\t\t\t\tkeyField=\"id\"\r\n\t\t\t\t\tdata={ this.state.tableData } \r\n\t\t\t\t\tcolumns={ columns } \r\n\t\t\t\t\tbordered={ false }\r\n\t\t\t\t\thover={ true }\r\n\t\t\t\t\tdefaultSorted={ defaultSorted }\r\n\t\t\t\t\tremote={ { filter: true } }\r\n\t\t\t\t\tonTableChange={ this.onTableChange }\r\n\t\t\t\t\tpagination={ pagination }\r\n\t\t\t\t\trowStyle={ rowStyle }\r\n\t\t\t\t/>\r\n\t\t\t</ContainerBox>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\temployees: state.employees.employees,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tupdateEmployees: (employees) => dispatch(updateEmployees(employees)),\r\n\t\tshowRegisterEmployee: () => dispatch(showRegisterEmployee()),\r\n\t\tshowExportExcel: () => dispatch(showExportExcel()),\r\n\t\tshowCheckCard: () => dispatch(showCheckCard()),\r\n\t\tshowEmployeeWorkLog: (id) => dispatch(showEmployeeWorkLog(id))\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Employees);\r\n","import React from \"react\";\r\nimport { Form } from \"react-bootstrap\";\r\n\r\nclass BoostrapDatePicker extends React.Component {\r\n    render() {\r\n        return (\r\n            <Form.Control\r\n                disabled={this.props.disabled}\r\n                onClick={this.props.onClick}\r\n                onChange={this.props.onChange}\r\n                placeholder={this.props.value} \r\n                value={this.props.value}\r\n                className=\"text-center\"\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nexport default BoostrapDatePicker;\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\n\r\nimport { DropdownButton, Form, Button, Row, Col, Dropdown } from \"react-bootstrap\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport BoostrapDatePicker from \"./BoostrapDatePicker\";\r\n\r\nimport { \r\n\tupdateEmployees,\r\n\tshowEmployeeWorkLog\r\n} from \"../actions/employeeActions\";\r\n\r\nimport { \r\n\tgetEmployees,\r\n\tgetServerEmployeeWorkLogFromTo,\r\n\tgetEmployeeComments,\r\n} from \"../utils/employeeUtils\";\r\nimport { addZero, millisecondConverter } from \"../utils/commonUtils\";\r\n\r\nimport \"../styles/main.css\";\r\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\r\nimport \"../styles/table.css\";\r\n\r\nimport ContainerBox from \"./ContainerBox\";\r\n\r\nclass Employees extends React.Component {\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tconst startDate = new Date();\r\n\t\tstartDate.setHours(0,0,0);\r\n\r\n\t\tconst endDate = new Date();\r\n\t\tendDate.setHours(23,59,59);\r\n\r\n\t\tthis.state = {\r\n\t\t\tworkLogUserId: null,\r\n\t\t\tshowWorkLogModal: false,\r\n\t\t\tupdateInterval: null,\r\n\t\t\ttableData: [],\r\n\t\t\tfilter: {\r\n\t\t\t\ttype: \"\",\r\n\t\t\t\tfilters: \"\",\r\n\t\t\t},\r\n\t\t\tshowFilters: false,\r\n\t\t\tshowArchive: false,\r\n\t\t\tshowInactive: false,\r\n\t\t\tnameFilter: \"\",\r\n\t\t\tpositionFilter: \"\",\r\n\t\t\tstartDate: startDate,\r\n\t\t\tendDate: endDate,\r\n\t\t\tdropdown: {\r\n\t\t\t\tcurrentFilter: \"Šodiena\",\r\n\t\t\t\tfilters: [\"Šodiena\", \"Vakardiena\", \"Pēdējās 7 dienas\", \"Pēdējās 30 dienas\"]\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tgetEmployees();\r\n\r\n\t\tthis.setState({\r\n\t\t\tupdateInterval: (\r\n\t\t\t\tsetInterval(() => {\r\n\t\t\t\t\tgetEmployees();\r\n\t\t\t\t}, 5000)\r\n\t\t\t),\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.state.updateInterval);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif(prevProps.employees !== this.props.employees\r\n\t\t\t|| prevState.showArchive !== this.state.showArchive\r\n\t\t\t|| prevState.showInactive !== this.state.showInactive\r\n\t\t\t|| prevState.nameFilter !== this.state.nameFilter\r\n\t\t\t|| prevState.positionFilter !== this.state.positionFilter\r\n\t\t\t|| prevState.startDate !== this.state.startDate\r\n\t\t\t|| prevState.endDate !== this.state.endDate) {\r\n\t\t\tthis.onTableChange();\r\n\t\t}\r\n\t}\r\n\r\n\thandleDateChangeStart = (date) => {\r\n\t\tconst startOfDay = new Date(date);\r\n\t\tstartOfDay.setHours(0,0,0);\r\n\t\tthis.setState({\r\n\t\t\tstartDate: startOfDay,\r\n\t\t});\r\n\t}\r\n\r\n\thandleDateChangeEnd = (date) => {\r\n\t\tconst endOfDay = new Date(date);\r\n\t\tendOfDay.setHours(23,59,59);\r\n\t\tthis.setState({\r\n\t\t\tendDate: endOfDay,\r\n\t\t});\r\n\t}\r\n\r\n\tonClickFilter = (index) => {\r\n\t\tswitch(index) {\r\n\t\t\tcase 0: {\r\n\t\t\t\tthis.handleDateChangeStart(new Date());\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 1: {\r\n\t\t\t\tconst yesterday = new Date();\r\n\t\t\t\tyesterday.setDate(yesterday.getDate() - 1);\r\n\t\t\t\tthis.handleDateChangeStart(yesterday);\r\n\t\t\t\tthis.handleDateChangeEnd(yesterday);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 2: {\r\n\t\t\t\tconst last7Days = new Date();\r\n\t\t\t\tlast7Days.setDate(last7Days.getDate() - 7);\r\n\t\t\t\tthis.handleDateChangeStart(last7Days);\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 3: {\r\n\t\t\t\tconst last30Days = new Date();\r\n\t\t\t\tlast30Days.setDate(last30Days.getDate() - 30);\r\n\t\t\t\tthis.handleDateChangeStart(last30Days);\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdefault: {\r\n\t\t\t\tthis.handleDateChangeStart(new Date());\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tdropdown: {\r\n\t\t\t\t...this.state.dropdown,\r\n\t\t\t\tcurrentFilter: this.state.dropdown.filters[index],\r\n\t\t\t}\t\t\t\r\n\t\t})\r\n\t}\r\n\r\n\tonTableChange = () => {\r\n\t\tthis.formatTable(() => {\r\n\t\t\tthis.applyNameFilter(() => {\r\n\t\t\t\tthis.applyPositionFilter();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tapplyNameFilter = (callback = () => null) => {\r\n\t\tconst result = this.state.tableData.filter((row) => {\r\n\t\t\treturn (row.name.name + \" \" + row.name.surname).toString().toLowerCase().indexOf(this.state.nameFilter.toLowerCase()) > -1;\r\n\t\t});\r\n\r\n\t\tthis.setState({\r\n\t\t\ttableData: result\r\n\t\t}, callback);\r\n\t}\r\n\r\n\tapplyPositionFilter = (callback = () => null) => {\r\n\t\tconst result = this.state.tableData.filter((row) => {\r\n\t\t\treturn (row.position).toString().toLowerCase().indexOf(this.state.positionFilter.toLowerCase()) > -1;\r\n\t\t});\r\n\r\n\t\tthis.setState({\r\n\t\t\ttableData: result\r\n\t\t}, callback);\r\n\t}\r\n\r\n\tformatTable = (callback = () => null) => {\r\n\t\tconst employees = this.props.employees.filter((employee) => {\r\n\t\t\tif(employee.archived && !this.state.showArchive) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif(!employee.active && !this.state.showInactive) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\r\n\t\tconst workLogFrom = new Date(this.state.startDate);\r\n\r\n\t\tconst workLogTo = new Date(this.state.endDate);\r\n\r\n\t\tconst promise = employees.map((employee) => {\r\n\t\t\treturn getServerEmployeeWorkLogFromTo(employee.id, workLogFrom, workLogTo).then((workLogs) => {\r\n\t\t\t\treturn getEmployeeComments(employee.id).then((comments) => {\r\n\t\t\t\t\treturn({\r\n\t\t\t\t\t\tid: employee.id,\r\n\t\t\t\t\t\tposition: employee.position.toString(),\r\n\t\t\t\t\t\tname: {\r\n\t\t\t\t\t\t\tid: employee.id,\r\n\t\t\t\t\t\t\tname: employee.name,\r\n\t\t\t\t\t\t\tsurname: employee.surname,\r\n\t\t\t\t\t\t\tworking: employee.working,\r\n\t\t\t\t\t\t\tcomments: comments.data,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttoday: {\r\n\t\t\t\t\t\t\tworking: employee.working,\r\n\t\t\t\t\t\t\tworkLogs: workLogs.data,\r\n\t\t\t\t\t\t\tstartDate: this.state.startDate,\r\n\t\t\t\t\t\t\tendDate: this.state.endDate,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcommands: employee,\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tPromise.all(promise).then((res) => {\r\n\t\t\tthis.setState({ tableData: res,\r\n\t\t\t}, () => {\r\n\t\t\t\tcallback();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tonToggleArchive = () => {\r\n\t\tthis.setState({ showArchive: !this.state.showArchive });\r\n\t}\r\n\r\n\tonToggleInactive = () => {\r\n\t\tthis.setState({ showInactive: !this.state.showInactive });\r\n\t}\r\n\r\n\tonToggleFilters = () => {\r\n\t\tthis.setState({ showFilters: !this.state.showFilters });\r\n\t}\r\n\r\n\tonChangeNameFilter = (e) => {\r\n\t\tthis.setState({ nameFilter: e.target.value });\r\n\t}\r\n\r\n\tonChangePositionFilter = (e) => {\r\n\t\tthis.setState({ positionFilter: e.target.value });\r\n\t}\r\n\r\n\tclearAllFilters = () => {\r\n\t\tconst startDate = new Date();\r\n\t\tstartDate.setHours(0,0,0);\r\n\r\n\t\tconst endDate = new Date();\r\n\t\tendDate.setHours(23,59,59);\r\n\r\n\t\tthis.setState({\r\n\t\t\tnameFilter: \"\",\r\n\t\t\tpositionFilter: \"\",\r\n\t\t\tshowArchive: false,\r\n\t\t\tshowInactive: false,\r\n\t\t\tstartDate: startDate,\r\n\t\t\tendDate: endDate,\r\n\t\t\tdropdown: {\r\n\t\t\t\tcurrentFilter: \"Šodiena\",\r\n\t\t\t\tfilters: [\"Šodiena\", \"Vakardiena\", \"Pēdējās 7 dienas\", \"Pēdējās 30 dienas\"]\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst positionFormatter = (cell, row) => {\r\n\t\t\treturn (\r\n\t\t\t\t<span>{cell}</span>\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\tconst nameFormatter = (cell, row) => {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<nobr>\r\n\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\tvariant=\"link\" \r\n\t\t\t\t\t\t\tonClick={() => this.props.showEmployeeWorkLog(cell.id)}\r\n\t\t\t\t\t\t\tstyle={{ color: \"#0000FF\" }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{cell.name + \" \" + cell.surname}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</nobr>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\tconst todayFormatter = (cell, row) => {\r\n\t\t\tlet badges = [];\r\n\t\t\tlet totalWorkTime = 0;\r\n\t\t\tlet totalWorkTimeConverted = {\r\n\t\t\t\thours: 0,\r\n\t\t\t\tminutes: 0,\r\n\t\t\t\tseconds: 0\r\n\t\t\t};\r\n\r\n\t\t\tconst displayOneDay = cell.endDate - cell.startDate < 86400000;\r\n\r\n\t\t\tcell.workLogs.forEach((workLog, index) => {\r\n\t\t\t\tlet workTime = 0;\r\n\t\t\t\tlet workTimeConverted = {\r\n\t\t\t\t\thours: 0,\r\n\t\t\t\t\tminutes: 0,\r\n\t\t\t\t\tseconds: 0\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif(workLog.end_time === null) {\r\n\t\t\t\t\tworkLog.end_time = new Date();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Calculate each row data\r\n\t\t\t\tworkTime = new Date(workLog.end_time) - new Date(workLog.start_time);\r\n\t\t\t\tworkTimeConverted = millisecondConverter(workTime);\r\n\r\n\t\t\t\tconst workTimeStartFormatted =\r\n\t\t\t\t\taddZero(new Date(workLog.start_time).getHours()) + \":\" \r\n\t\t\t\t\t+ addZero(new Date(workLog.start_time).getMinutes());\r\n\t\t\t\t\r\n\t\t\t\tconst workTimeEndFormatted =\r\n\t\t\t\t\taddZero(new Date(workLog.end_time).getHours()) + \":\" \r\n\t\t\t\t\t+ addZero(new Date(workLog.end_time).getMinutes());\r\n\t\r\n\t\t\t\tconst workTimeFormatted =\r\n\t\t\t\t\tworkTimeConverted.hours + \" st. \" \r\n\t\t\t\t\t+ workTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\t// Calculate the total\r\n\t\t\t\ttotalWorkTime += new Date(workLog.end_time) - new Date(workLog.start_time);\r\n\t\t\t\ttotalWorkTimeConverted = millisecondConverter(totalWorkTime);\r\n\r\n\t\t\t\tif(displayOneDay) {\r\n\t\t\t\t\t// Each work log entry formatted and applied in HTML format\r\n\t\t\t\t\tbadges.push(\r\n\t\t\t\t\t\t<Row key={index} style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t\t\t<Col xs=\"4\">\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\tIenāca: {workTimeStartFormatted}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col xs=\"4\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tcell.working && index === cell.workLogs.length - 1\r\n\t\t\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t\t\t: <span>\r\n\t\t\t\t\t\t\t\t\t\tIzgāja: {workTimeEndFormatted}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col xs=\"4\" className=\"text-center\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tworkTimeFormatted !== null\r\n\t\t\t\t\t\t\t\t\t? <span>\r\n\t\t\t\t\t\t\t\t\t\t{workTimeFormatted}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//Total row formatted\r\n\t\t\tif(badges.length && displayOneDay) {\r\n\t\t\t\tconst totalWorkTimeFormatted =\r\n\t\t\t\ttotalWorkTimeConverted.hours + \" st. \" \r\n\t\t\t\t+ totalWorkTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\tbadges.push(\r\n\t\t\t\t\t<Row key={badges.length} style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t\t<Col xs=\"4\">\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs=\"4\">\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs=\"4\" className=\"text-center\" style={{ borderTop: \"solid 1px\" }}>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttotalWorkTimeFormatted !== null\r\n\t\t\t\t\t\t\t\t? <span>\r\n\t\t\t\t\t\t\t\t\t<b>{totalWorkTimeFormatted}</b>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t} else if(!displayOneDay) {\r\n\t\t\t\tconst totalWorkTimeFormatted =\r\n\t\t\t\ttotalWorkTimeConverted.hours + \" st. \" \r\n\t\t\t\t+ totalWorkTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\tbadges.push(\r\n\t\t\t\t\t<Row key={badges.length} style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t\t<Col className=\"text-center\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttotalWorkTimeFormatted !== null\r\n\t\t\t\t\t\t\t\t? <span>\r\n\t\t\t\t\t\t\t\t\t{totalWorkTimeFormatted}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs=\"4\">\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs=\"4\">\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn (badges);\r\n\t\t};\r\n\r\n\t\tconst startDateFormatted = \r\n\t\t\t  addZero(this.state.startDate.getDate()) + \".\" \r\n\t\t\t+ addZero(this.state.startDate.getMonth() + 1) + \".\" \r\n\t\t\t+ addZero(this.state.startDate.getFullYear());\r\n\r\n\r\n\t\tconst endDateFormatted =\r\n\t\t\t  addZero(this.state.endDate.getDate()) + \".\" \r\n\t\t\t+ addZero(this.state.endDate.getMonth() + 1) + \".\" \r\n\t\t\t+ addZero(this.state.endDate.getFullYear());\r\n\r\n\t\tconst dateRange = startDateFormatted + (startDateFormatted === endDateFormatted ? \"\" : \" - \" + endDateFormatted);\r\n\r\n\t\tconst columns = [{\r\n\t\t\tdataField: \"id\",\r\n\t\t\thidden: true,\r\n\t\t}, {\r\n\t\t\tdataField: \"position\",\r\n\t\t\ttext: \"Amats\",\r\n\t\t\tsort: true,\r\n\t\t\tsortFunc: (a, b, order) => {\r\n\t\t\t\tif(a < b) {\r\n\t\t\t\t\treturn order === \"asc\" ? 1 : -1;\r\n\t\t\t\t} else if(a > b) {\r\n\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\tformatter: positionFormatter,\r\n\t\t}, {\r\n\t\t\tdataField: \"name\",\r\n\t\t\ttext: \"Vārds\",\r\n\t\t\tsort: true,\r\n\t\t\tsortFunc: (a, b, order) => {\r\n\t\t\t\tif(a.name < b.name) {\r\n\t\t\t\t\treturn order === \"asc\" ? 1 : -1;\r\n\t\t\t\t} else if(a.name > b.name) {\r\n\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\tformatter: nameFormatter,\r\n\t\t}, {\r\n\t\t\tdataField: \"today\",\r\n\t\t\ttext: dateRange,\r\n\t\t\tsort: true,\r\n\t\t\tsortFunc: (a, b, order) => {\r\n\t\t\t\tconst aData = a.working\r\n\t\t\t\t? new Date(a.workLogs[a.workLogs.length - 1].start_time)\r\n\t\t\t\t: new Date(a.workLogs[a.workLogs.length - 1].end_time);\r\n\r\n\t\t\t\tconst bData = b.working\r\n\t\t\t\t? new Date(b.workLogs[b.workLogs.length - 1].start_time)\r\n\t\t\t\t: new Date(b.workLogs[b.workLogs.length - 1].end_time);\r\n\r\n\t\t\t\tif(aData > bData) {\r\n\t\t\t\t\treturn order === \"asc\" ? 1 : -1;\r\n\t\t\t\t} else if(aData < bData) {\r\n\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\tformatter: todayFormatter\r\n\t\t}];\r\n\r\n\t\tconst defaultSorted = [{\r\n\t\t\tdataField: \"id\",\r\n\t\t\torder: \"asc\"\r\n\t\t}];\r\n\r\n\t\tconst paginationTotalRenderer = (from, to, size) => {\r\n\t\t\tif(to === 0) {\r\n\t\t\t\treturn(\r\n\t\t\t\t\t<span className=\"react-bootstrap-table-pagination-total\">\r\n\t\t\t\t\t\t&nbsp;Netika atrasts neviens rezultāts\r\n\t\t\t\t\t</span>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn(\r\n\t\t\t\t<span className=\"react-bootstrap-table-pagination-total\">\r\n\t\t\t\t\t&nbsp;Rāda { to-from+1 } no { size } rezultātiem\r\n\t\t\t\t</span>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tconst pagination = paginationFactory({\r\n\t\t\tpage: 1,\r\n\t\t\talwaysShowAllBtns: true,\r\n\t\t\tshowTotal: true,\r\n\t\t\tsizePerPage : 10,\r\n\t\t\tpaginationTotalRenderer: paginationTotalRenderer,\r\n\t\t\tsizePerPageList: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"10\",\r\n\t\t\t\t\tvalue: 10,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"25\",\r\n\t\t\t\t\tvalue: 25,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"50\",\r\n\t\t\t\t\tvalue: 50,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"100\",\r\n\t\t\t\t\tvalue: 100,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"Visi\",\r\n\t\t\t\t\tvalue: this.state.tableData.length,\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\r\n\t\tconst rowStyle = (row) => {\r\n\t\t\tif(!row.commands.active) {\r\n\t\t\t\treturn { backgroundColor: \"rgba(255, 0, 0, 0.1)\" };\r\n\t\t\t}\r\n\r\n\t\t\tif(row.commands.archived) {\r\n\t\t\t\treturn { backgroundColor: \"rgba(255, 255, 0, 0.1)\" };\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<ContainerBox header={\"Atskaites\"}>\r\n\t\t\t\t<Form>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\tlabel=\"Rādīt arhīvā esošos darbiniekus\"\r\n\t\t\t\t\t\t\t\t\tchecked={this.state.showArchive}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onToggleArchive}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\tlabel=\"Rādīt deaktivizētus darbiniekus\"\r\n\t\t\t\t\t\t\t\t\tchecked={this.state.showInactive}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onToggleInactive}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Vārds...\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChangeNameFilter}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.nameFilter}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Form.Text>\r\n\t\t\t\t\t\t\t\t\tMeklēt darbinieku pēc vārda vai uzvārda\r\n\t\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Amats...\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChangePositionFilter}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.positionFilter}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Form.Text>\r\n\t\t\t\t\t\t\t\t\tMeklēt darbinieku pēc amata\r\n\t\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row className=\"mt-4\">\r\n\t\t\t\t\t\t<Col xs={\"auto\"}>\r\n\t\t\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t\t\t<Form.Label column xs={\"auto\"}>Dati no</Form.Label>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"yyyy.MM.dd\"\r\n\t\t\t\t\t\t\t\t\t\tcustomInput={<BoostrapDatePicker />}\r\n\t\t\t\t\t\t\t\t\t\tselected={this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleDateChangeStart}\r\n\t\t\t\t\t\t\t\t\t\tmaxDate={new Date()}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs={\"auto\"}>\r\n\t\t\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t\t\t<Form.Label column xs={\"auto\"}>līdz</Form.Label>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"yyyy.MM.dd\"\r\n\t\t\t\t\t\t\t\t\t\tcustomInput={<BoostrapDatePicker />}\r\n\t\t\t\t\t\t\t\t\t\tselected={this.state.endDate}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleDateChangeEnd}\r\n\t\t\t\t\t\t\t\t\t\tminDate={this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\tmaxDate={new Date()}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\tclassName=\"ml-2 float-right\"\r\n\t\t\t\t\t\t\t\tvariant=\"danger\"\r\n\t\t\t\t\t\t\t\tonClick={this.clearAllFilters}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tNotīrīt visus filtrus\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<DropdownButton\r\n\t\t\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t\t\t\ttitle={this.state.dropdown.currentFilter} \r\n\t\t\t\t\t\t\t\tclassName=\"float-right\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.dropdown.filters.map((filter, index) => {\r\n\t\t\t\t\t\t\t\t\treturn <Dropdown.Item key={index} onClick={() => this.onClickFilter(index)}>{filter}</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</DropdownButton>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Form>\r\n\t\t\t\t<BootstrapTable\r\n\t\t\t\t\tbootstrap4={ true }\r\n\t\t\t\t\tkeyField=\"id\" \r\n\t\t\t\t\tdata={ this.state.tableData } \r\n\t\t\t\t\tcolumns={ columns } \r\n\t\t\t\t\tbordered={ false }\r\n\t\t\t\t\thover={ true }\r\n\t\t\t\t\tdefaultSorted={ defaultSorted }\r\n\t\t\t\t\tremote={ { filter: true } }\r\n\t\t\t\t\tonTableChange={ this.onTableChange }\r\n\t\t\t\t\tpagination={ pagination }\r\n\t\t\t\t\trowStyle={ rowStyle }\r\n\t\t\t\t/>\r\n\t\t\t</ContainerBox>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\temployees: state.employees.employees,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tupdateEmployees: (employees) => dispatch(updateEmployees(employees)),\r\n\t\tshowEmployeeWorkLog: (id) => dispatch(showEmployeeWorkLog(id))\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Employees);\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nimport { Form, Button, Alert, Modal, Row, Col } from \"react-bootstrap\";\r\n\r\nimport { addServerEmployee, getServerEmployees, getServerEmployee, deleteServerEmployee, addCard } from \"../utils/employeeUtils\";\r\n\r\nimport { updateEmployees, showRegisterEmployee, hideRegisterEmployee } from \"../actions/employeeActions\";\r\n\r\nconst REGISTER_STATE = {\r\n\tDATA_INPUT: 0,\r\n\tRFID_WAIT: 1,\r\n\tCOMPLETE: 2,\r\n}\r\n\r\nclass RegisterEmployee extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tregistrationState: REGISTER_STATE.DATA_INPUT,\r\n\t\t\tcheckInterval: null,\r\n\t\t\tnewEmployee: {},\r\n\t\t\tname: \"\",\r\n\t\t\tsurname: \"\",\r\n\t\t\tposition: \"\",\r\n\t\t\tnumber: \"\",\r\n\t\t\tpersonalCode: \"\",\r\n\t\t\taddCard: true,\r\n\t\t\tuid: \"\",\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tonNameChange = (event) => {\r\n\t\tthis.setState({ name: event.target.value });\r\n\t}\r\n\r\n\tonSurnameChange = (event) => {\r\n\t\tthis.setState({ surname: event.target.value });\r\n\t}\r\n\r\n\tonPositionChange = (event) => {\r\n\t\tthis.setState({ position: event.target.value });\r\n\t}\r\n\r\n\tonNumberChange = (event) => {\r\n\t\tthis.setState({ number: event.target.value });\r\n\t}\r\n\r\n\tonPersonalCodeChange = (event) => {\r\n\t\tthis.setState({ personalCode: event.target.value });\r\n\t}\r\n\r\n\tonAddCardChange = () => {\r\n\t\tthis.setState({ addCard: !this.state.addCard });\r\n\t}\r\n\r\n\tonFormSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\t\t\r\n\t\tconst employee = {\r\n\t\t\tname: this.state.name,\r\n\t\t\tsurname: this.state.surname,\r\n\t\t\tposition: this.state.position,\r\n\t\t\tnumber: this.state.number,\r\n\t\t\tpersonalCode: this.state.personalCode,\r\n\t\t}\r\n\t\t\r\n\t\tif(this.state.registrationState === REGISTER_STATE.DATA_INPUT) {\r\n\t\t\tif(this.state.addCard) {\r\n\t\t\t\taddServerEmployee(employee).then((res) => {\r\n\t\t\t\t\tconst newEmployee = res.data;\r\n\t\t\t\t\tlet checkInterval = null;\r\n\r\n\t\t\t\t\taddCard(newEmployee.id);\r\n\t\r\n\t\t\t\t\tif(newEmployee) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tnewEmployee: newEmployee,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tcheckInterval = setInterval(() => {\r\n\t\t\t\t\t\t\tgetServerEmployee(newEmployee.id).then((res) => {\r\n\t\t\t\t\t\t\t\tif(res.data.uid !== null) {\r\n\t\t\t\t\t\t\t\t\tclearInterval(checkInterval);\r\n\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\tnewEmployee: newEmployee,\r\n\t\t\t\t\t\t\t\t\t\tregistrationState: REGISTER_STATE.COMPLETE,\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\tgetServerEmployees().then((res) => {\r\n\t\t\t\t\t\tthis.props.updateEmployees(res.data);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis.setState({ \r\n\t\t\t\t\t\tregistrationState: REGISTER_STATE.RFID_WAIT,\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\taddServerEmployee(employee).then((res) => {\r\n\t\t\t\t\tif(res.data) {\r\n\t\t\t\t\t\tgetServerEmployees().then((res) => {\r\n\t\t\t\t\t\t\tthis.props.updateEmployees(res.data);\r\n\t\t\t\t\t\t});\r\n\t\r\n\t\t\t\t\t\tthis.setState({ \r\n\t\t\t\t\t\t\tregistrationState: REGISTER_STATE.COMPLETE,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else if(this.state.registrationState === REGISTER_STATE.COMPLETE) {\r\n\t\t\tthis.props.hideRegisterEmployee();\r\n\t\t}\r\n\t}\r\n\r\n\thideRegisterEmployeeAndDelete = () => {\r\n\t\tif(this.state.registrationState >= REGISTER_STATE.RFID_WAIT) {\r\n\t\t\tdeleteServerEmployee(this.state.newEmployee.id);\r\n\t\t\tthis.props.hideRegisterEmployee();\r\n\t\t}\r\n\t}\r\n\r\n\tonExited = () => {\r\n\t\tthis.setState({\r\n\t\t\tregistrationState: REGISTER_STATE.DATA_INPUT,\r\n\t\t\tcheckInterval: null,\r\n\t\t\tnewEmployee: {},\r\n\t\t\tname: \"\",\r\n\t\t\tsurname: \"\",\r\n\t\t\tposition: \"\",\r\n\t\t\tnumber: \"\",\r\n\t\t\tpersonalCode: \"\",\r\n\t\t\tuid: \"\",\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.registerEmployee.show} \r\n\t\t\t\tonHide={() => this.props.hideRegisterEmployee()}\r\n\t\t\t\tonExit={this.deleteAndCancel}\r\n\t\t\t\tonExited={this.onExited}\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={this.onFormSubmit}>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>Pievienot Darbinieku</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>* Vārds</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\trequired \r\n\t\t\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT} \r\n\t\t\t\t\t\t\t\t\tvalue={this.state.name} \r\n\t\t\t\t\t\t\t\t\tonChange={this.onNameChange}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Vārds\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>* Uzvārds</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\trequired \r\n\t\t\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT} \r\n\t\t\t\t\t\t\t\t\tvalue={this.state.surname} \r\n\t\t\t\t\t\t\t\t\tonChange={this.onSurnameChange}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Uzvārds\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Personas Kods</Form.Label>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT} \r\n\t\t\t\t\t\t\tvalue={this.state.personalCode} \r\n\t\t\t\t\t\t\tonChange={this.onPersonalCodeChange}\r\n\t\t\t\t\t\t\tplaceholder=\"123456-12345\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Amats</Form.Label>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT} \r\n\t\t\t\t\t\t\tvalue={this.state.position} \r\n\t\t\t\t\t\t\tonChange={this.onPositionChange}\r\n\t\t\t\t\t\t\tplaceholder=\"Darba Amats\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Telefona Numurs</Form.Label>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT} \r\n\t\t\t\t\t\t\tvalue={this.state.number} \r\n\t\t\t\t\t\t\tonChange={this.onNumberChange}\r\n\t\t\t\t\t\t\tplaceholder=\"Telefona Numurs\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group controlId=\"formBasicChecbox\">\r\n\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\tlabel=\"Pievienot NFC karti\"\r\n\t\t\t\t\t\t\tname=\"addCard\"\r\n\t\t\t\t\t\t\tchecked={this.state.addCard}\r\n\t\t\t\t\t\t\tonChange={this.onAddCardChange}/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<p><em>Obligāti jānorāda lauki, kas atzīmēti ar *</em></p>\r\n\r\n\t\t\t\t\t<Alert variant={\"primary\"} show={this.state.registrationState === REGISTER_STATE.RFID_WAIT} onClose={() => null}>\r\n\t\t\t\t\t\tNoskenējiet vēlamo kartiņu.\r\n\t\t\t\t\t</Alert>\r\n\r\n\t\t\t\t\t<Alert variant={\"success\"} show={this.state.registrationState === REGISTER_STATE.COMPLETE} onClose={() => null}>\r\n\t\t\t\t\t\tDarbinieks veiksmīgi pievienots darbinieku sarakstam.\r\n\t\t\t\t\t</Alert>\r\n\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Buttons \r\n\t\t\t\t\t\tregistrationState={this.state.registrationState}\r\n\t\t\t\t\t\thideRegisterEmployee={this.props.hideRegisterEmployee}\r\n\t\t\t\t\t\thideRegisterEmployeeAndDelete={this.hideRegisterEmployeeAndDelete}\r\n\t\t\t\t\t\taddCard={this.state.addCard}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction Buttons(props) {\r\n\tswitch(props.registrationState) {\r\n\t\tdefault:\r\n\t\tcase REGISTER_STATE.DATA_INPUT: {\r\n\t\t\treturn(\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Button variant={ props.addCard ? \"primary\" : \"success\"} type=\"submit\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tprops.addCard \r\n\t\t\t\t\t\t\t? \"Tālāk\"\r\n\t\t\t\t\t\t\t: \"Pabeigt\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\t\tcase REGISTER_STATE.RFID_WAIT: {\r\n\t\t\treturn(\r\n\t\t\t\tnull\r\n\t\t\t);\r\n\t\t}\r\n\t\tcase REGISTER_STATE.COMPLETE: {\r\n\t\t\treturn(\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Button variant=\"success\" type=\"submit\">\r\n\t\t\t\t\t\tPabeigt\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\temployees: state.employees.employees,\r\n\t\tregisterEmployee: state.employees.registerEmployee\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tupdateEmployees: (employees) => dispatch(updateEmployees(employees)),\r\n\t\tshowRegisterEmployee: () => dispatch(showRegisterEmployee()),\r\n\t\thideRegisterEmployee: () => dispatch(hideRegisterEmployee()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(RegisterEmployee);\r\n","import React from \"react\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\n\r\nclass NotFound extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Row>\r\n\t\t\t\t<Col>\r\n\t\t\t\t\t404\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default NotFound;\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nimport { Table, Modal, Dropdown, DropdownButton, Col, Row, Form } from \"react-bootstrap\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nimport { showEmployeeWorkLog, hideEmployeeWorkLog } from \"../actions/employeeActions\";\r\n\r\nimport { getServerEmployee, getServerEmployeeWorkLog } from \"../utils/employeeUtils\";\r\nimport { addZero, millisecondConverter } from \"../utils/commonUtils\";\r\n\r\nimport BoostrapDatePicker from \"./BoostrapDatePicker\";\r\n\r\nimport \"../styles/main.css\";\r\n\r\nclass ViewEmployee extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tconst startDate = new Date();\r\n\t\tstartDate.setHours(0,0,0);\r\n\r\n\t\tconst endDate = new Date();\r\n\t\tendDate.setHours(23,59,59);\r\n\r\n\t\tthis.state = {\r\n\t\t\temployee: {\r\n\t\t\t\tname: \"Ielādē...\",\r\n\t\t\t\tsurname: \" \"\r\n\t\t\t},\r\n\t\t\tworkLog: [],\r\n\t\t\tresults: 0,\r\n\t\t\tupdateInterval: null,\r\n\t\t\tstartDate: startDate,\r\n\t\t\tendDate: endDate,\r\n\t\t\tdropdown: {\r\n\t\t\t\tcurrentFilter: \"Šodiena\",\r\n\t\t\t\tfilters: [\"Šodiena\", \"Vakardiena\", \"Pēdējās 7 dienas\", \"Pēdējās 30 dienas\"]\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.employeeWorkLog.id !== prevProps.employeeWorkLog.id && this.props.employeeWorkLog.id !== null) {\r\n\t\t\tthis.fetchWorkLog();\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.state.updateInterval);\r\n\t}\r\n\r\n\tfetchWorkLog = () => {\r\n\t\tgetServerEmployee(this.props.employeeWorkLog.id).then((res) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\temployee: res.data\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tgetServerEmployeeWorkLog(this.props.employeeWorkLog.id, \"DESC\").then((res) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tworkLog: res.data\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.setState({\r\n\t\t\tupdateInterval: setInterval(() => {\r\n\t\t\t\tgetServerEmployee(this.props.employeeWorkLog.id).then((res) => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\temployee: res.data\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\tgetServerEmployeeWorkLog(this.props.employeeWorkLog.id, \"DESC\").then((res) => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tworkLog: res.data\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}, 5000)\r\n\t\t});\r\n\t}\r\n\r\n\tonModalHide = () => {\r\n\t\tclearInterval(this.state.updateInterval);\r\n\r\n\t\tthis.setState({\r\n\t\t\temployee: {\r\n\t\t\t\tname: \"Ielādē...\",\r\n\t\t\t\tsurname: \" \"\r\n\t\t\t},\r\n\t\t\tworkLog: []\r\n\t\t});\r\n\t}\r\n\r\n\thandleDateChangeStart = (date) => {\r\n\t\tconst startOfDay = new Date(date);\r\n\t\tstartOfDay.setHours(0,0,0);\r\n\t\tthis.setState({\r\n\t\t\tstartDate: startOfDay,\r\n\t\t});\r\n\t}\r\n\r\n\thandleDateChangeEnd = (date) => {\r\n\t\tconst endOfDay = new Date(date);\r\n\t\tendOfDay.setHours(23,59,59);\r\n\t\tthis.setState({\r\n\t\t\tendDate: endOfDay,\r\n\t\t});\r\n\t}\r\n\r\n\tonClickFilter = (index) => {\r\n\t\tswitch(index) {\r\n\t\t\tcase 0: {\r\n\t\t\t\tthis.handleDateChangeStart(new Date());\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 1: {\r\n\t\t\t\tconst yesterday = new Date();\r\n\t\t\t\tyesterday.setDate(yesterday.getDate() - 1);\r\n\t\t\t\tthis.handleDateChangeStart(yesterday);\r\n\t\t\t\tthis.handleDateChangeEnd(yesterday);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 2: {\r\n\t\t\t\tconst last7Days = new Date();\r\n\t\t\t\tlast7Days.setDate(last7Days.getDate() - 7);\r\n\t\t\t\tthis.handleDateChangeStart(last7Days);\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 3: {\r\n\t\t\t\tconst last30Days = new Date();\r\n\t\t\t\tlast30Days.setDate(last30Days.getDate() - 30);\r\n\t\t\t\tthis.handleDateChangeStart(last30Days);\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdefault: {\r\n\t\t\t\tthis.handleDateChangeStart(new Date());\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tdropdown: {\r\n\t\t\t\t...this.state.dropdown,\r\n\t\t\t\tcurrentFilter: this.state.dropdown.filters[index],\r\n\t\t\t}\t\t\t\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet filterResults = 0;\r\n\t\tlet lastDate = null;\r\n\t\tconst workLog = this.state.workLog\r\n\t\t.filter((log) => {\r\n\t\t\t// Filter out all rows which do not match the date\r\n\t\t\tconst startTimePure = new Date(log.start_time);\r\n\r\n\t\t\tif(startTimePure < this.state.startDate || startTimePure > this.state.endDate) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tfilterResults++;\r\n\t\t\treturn true;\r\n\t\t})\r\n\t\t.map((log, index) => {\r\n\t\t\t// Format the remaining filtered work logs\r\n\t\t\tconst stillWorking = log.end_time === null ? true : false;\r\n\t\t\tconst startTimePure = new Date(log.start_time);\r\n\t\t\tconst endTimePure = stillWorking ? new Date() : new Date(log.end_time);\r\n\r\n\t\t\tconst startTimeFormatted = \r\n\t\t\t\t  addZero(startTimePure.getHours()) + \":\" \r\n\t\t\t\t+ addZero(startTimePure.getMinutes());\r\n\r\n\t\t\tconst endTimeFormatted = stillWorking ? \" - \" :\r\n\t\t\t\t  addZero(endTimePure.getHours()) + \":\" \r\n\t\t\t\t+ addZero(endTimePure.getMinutes());\r\n\r\n\t\t\tconst workTime = millisecondConverter(endTimePure - startTimePure);\r\n\t\t\tconst workTimeFormatted =\r\n\t\t\t\t+ workTime.hours + \" st. \"\r\n\t\t\t\t+ workTime.minutes + \" min. \";\r\n\r\n\t\t\tconst workingStyle = {\r\n\t\t\t\tbackgroundColor: \"#ffffe6\",\r\n\t\t\t}\r\n\r\n\t\t\tconst workRow = (\r\n\t\t\t\t<tr className=\"text-center\" style={stillWorking ? workingStyle : null}>\r\n\t\t\t\t\t<td>{startTimeFormatted}</td>\r\n\t\t\t\t\t<td>{endTimeFormatted}</td>\r\n\t\t\t\t\t<td>{workTimeFormatted}</td>\r\n\t\t\t\t</tr>\r\n\t\t\t);\r\n\r\n\t\t\tlet dateRow = null;\r\n\r\n\t\t\tif(lastDate === null || lastDate !== startTimePure.getDate()) {\r\n\t\t\t\tlastDate = startTimePure.getDate();\r\n\r\n\t\t\t\tconst startDateFormatted =\r\n\t\t\t\t\t  addZero(startTimePure.getDate()) + \".\" \r\n\t\t\t\t\t+ addZero(startTimePure.getMonth() + 1) + \".\" \r\n\t\t\t\t\t+ addZero(startTimePure.getFullYear());\r\n\r\n\t\t\t\tdateRow = (\r\n\t\t\t\t\t<tr className=\"bg-dark text-light\">\r\n\t\t\t\t\t\t<td colSpan={3}>{startDateFormatted}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<tbody key={index}>\r\n\t\t\t\t\t{dateRow}\r\n\t\t\t\t\t{workRow}\r\n\t\t\t\t</tbody>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.employeeWorkLog.show} \r\n\t\t\t\tonHide={this.props.hideEmployeeWorkLog}\r\n\t\t\t\tonExited={this.onModalHide}\r\n\t\t\t\tsize={\"lg\"}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title className=\"w-100\">\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t\t{this.state.employee.name + \" \" + this.state.employee.surname}\r\n\t\t\t\t\t\t\t\t\t{this.state.employee.personalCode\r\n\t\t\t\t\t\t\t\t\t\t? \" (\" + this.state.employee.personalCode + \")\"\r\n\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<h5 className=\"text-secondary\">{this.state.employee.position}</h5>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<h5 className=\"text-secondary float-right\">\r\n\t\t\t\t\t\t\t\t\t{this.state.employee.number\r\n\t\t\t\t\t\t\t\t\t\t? \"Tel. \" + this.state.employee.number\r\n\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label column xs={2}>No</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Col xs={10}>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"yyyy.MM.dd\"\r\n\t\t\t\t\t\t\t\t\t\t\tcustomInput={<BoostrapDatePicker />}\r\n\t\t\t\t\t\t\t\t\t\t\tselected={this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleDateChangeStart}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxDate={new Date()}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label column xs={2}>Līdz</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Col xs={10}>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"yyyy.MM.dd\"\r\n\t\t\t\t\t\t\t\t\t\t\tcustomInput={<BoostrapDatePicker />}\r\n\t\t\t\t\t\t\t\t\t\t\tselected={this.state.endDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleDateChangeEnd}\r\n\t\t\t\t\t\t\t\t\t\t\tminDate={this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxDate={new Date()}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col className=\"d-flex flex-column\">\r\n\t\t\t\t\t\t\t\t<DropdownButton\r\n\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t\t\t\t\ttitle={this.state.dropdown.currentFilter} \r\n\t\t\t\t\t\t\t\t\tclassName=\"text-right mt-auto mb-3\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.dropdown.filters.map((filter, index) => {\r\n\t\t\t\t\t\t\t\t\t\treturn <Dropdown.Item key={index} onClick={() => this.onClickFilter(index)}>{filter}</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</DropdownButton>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.workLog.length && filterResults\r\n\t\t\t\t\t\t? (\r\n\t\t\t\t\t\t<Table size=\"sm\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t<th>Ienāca</th>\r\n\t\t\t\t\t\t\t\t\t<th>Izgāja</th>\r\n\t\t\t\t\t\t\t\t\t<th>Nostrādāja</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t{workLog}\r\n\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\tNetika atrasts neviens ieraksts...\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\temployeeWorkLog: state.employees.employeeWorkLog,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowEmployeeWorkLog: () => dispatch(showEmployeeWorkLog()),\r\n\t\thideEmployeeWorkLog: () => dispatch(hideEmployeeWorkLog()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ViewEmployee);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button } from \"react-bootstrap\";\r\n\r\nimport { showDeleteEmployee, hideDeleteEmployee } from \"../actions/employeeActions\";\r\n\r\nimport { deleteServerEmployee, getEmployees } from \"../utils/employeeUtils\";\r\n\r\nclass DeleteEmployee extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.deleteEmployee.show}\r\n\t\t\t\tonHide={() => this.props.hideDeleteEmployee()}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>{this.props.deleteEmployee.employee.name + \" \" + this.props.deleteEmployee.employee.surname}</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\tVai esiet pārliecināts ka vēlaties dzēst šo darbinieku?\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"danger\" onClick={() => {\r\n\t\t\t\t\t\tdeleteServerEmployee(this.props.deleteEmployee.employee.id).then(() => {\r\n\t\t\t\t\t\t\tgetEmployees();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.props.hideDeleteEmployee();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\tDzēst\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tdeleteEmployee: state.employees.deleteEmployee,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowDeleteEmployee: () => dispatch(showDeleteEmployee()),\r\n\t\thideDeleteEmployee: () => dispatch(hideDeleteEmployee()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(DeleteEmployee);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button, Form, Row, Col, Alert } from \"react-bootstrap\";\r\n\r\nimport { showEditEmployee, hideEditEmployee } from \"../actions/employeeActions\";\r\n\r\nimport { editServerEmployee, getEmployees, changeCard, deleteCard, getServerEmployee } from \"../utils/employeeUtils\";\r\n\r\nconst CHANGE_CARD_STATE = {\r\n\tOFF: 0,\r\n\tRFID_WAIT: 1,\r\n\tCOMPLETE: 2,\r\n}\r\n\r\nclass EditEmployee extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.initialState = {\r\n\t\t\temployee: {\r\n\t\t\t\tname: \"\",\r\n\t\t\t\tsurname: \"\",\r\n\t\t\t\tpersonalCode: \"\",\r\n\t\t\t\tposition: \"\",\r\n\t\t\t\tnumber: \"\",\r\n\t\t\t\tuid: \"\",\r\n\t\t\t\tchangeCard: {\r\n\t\t\t\t\tstatus: 0,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\t...this.initialState\r\n\t\t}\r\n\t}\r\n\r\n\tonEnter = () => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tid: this.props.editEmployee.employee.id,\r\n\t\t\t\tname: this.props.editEmployee.employee.name,\r\n\t\t\t\tsurname: this.props.editEmployee.employee.surname,\r\n\t\t\t\tpersonalCode: this.props.editEmployee.employee.personalCode,\r\n\t\t\t\tposition: this.props.editEmployee.employee.position,\r\n\t\t\t\tnumber: this.props.editEmployee.employee.number,\r\n\t\t\t\tuid: this.props.editEmployee.employee.uid,\r\n\t\t\t\tchangeCard: {\r\n\t\t\t\t\tstatus: 0,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonHide = () => {\r\n\t\tthis.props.hideEditEmployee();\r\n\t\tthis.setState({\r\n\t\t\t...this.initialState\r\n\t\t})\r\n\t}\r\n\r\n\tonNameChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tname: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonSurnameChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tsurname: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonPersonalCodeChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tpersonalCode: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonPositionChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tposition: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonNumberChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tnumber: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tchangeCard = (id) => {\r\n\t\tthis.setState({\r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tchangeCard: {\r\n\t\t\t\t\t...this.state.employee.changeCard,\r\n\t\t\t\t\tstatus: CHANGE_CARD_STATE.RFID_WAIT\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tchangeCard(id).then((res) => {\r\n\t\t\tif(this.props.editEmployee.show) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\temployee: {\r\n\t\t\t\t\t\t...this.state.employee,\r\n\t\t\t\t\t\tchangeCard: {\r\n\t\t\t\t\t\t\t...this.state.employee.changeCard,\r\n\t\t\t\t\t\t\tstatus: CHANGE_CARD_STATE.COMPLETE\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis.updateUID(id);\r\n\t\t\t}\r\n\t\t}).catch(() => {\r\n\t\t\tif(this.props.editEmployee.show) {\r\n\t\t\t\tthis.checkCard(id);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tdeleteCard = (id) => {\r\n\t\tdeleteCard(id).then(() => {\r\n\t\t\tthis.updateUID(id);\r\n\t\t});\r\n\t}\r\n\r\n\tupdateUID = (id) => {\r\n\t\tgetServerEmployee(id).then((res) => {\r\n\t\t\tthis.setState({ \r\n\t\t\t\temployee: {\r\n\t\t\t\t\t...this.state.employee,\r\n\t\t\t\t\tuid: res.data.uid,\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.editEmployee.show}\r\n\t\t\t\tonHide={() => this.onHide()}\r\n\t\t\t\tonEnter={() => this.onEnter()}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>{this.props.editEmployee.employee.name + \" \" + this.props.editEmployee.employee.surname}</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>* Vārds</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control required value={this.state.employee.name} onChange={this.onNameChange}/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>* Uzvārds</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control required value={this.state.employee.surname} onChange={this.onSurnameChange}/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Personas Kods</Form.Label>\r\n\t\t\t\t\t\t<Form.Control value={this.state.employee.personalCode} onChange={this.onPersonalCodeChange}/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Amats</Form.Label>\r\n\t\t\t\t\t\t<Form.Control value={this.state.employee.position} onChange={this.onPositionChange}/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Telefona Numurs</Form.Label>\r\n\t\t\t\t\t\t<Form.Control value={this.state.employee.number} onChange={this.onNumberChange}/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t<Form.Label column xs={\"auto\"}>UID (NFC Karte)</Form.Label>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Control disabled value={this.state.employee.uid ? this.state.employee.uid : \"NAV\"}/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs={\"auto\"}>\r\n\t\t\t\t\t\t\t<Button variant=\"link\" onClick={() => this.deleteCard(this.props.editEmployee.employee.id)}>Dzēst</Button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs={\"auto\"}>\r\n\t\t\t\t\t\t\t<Button variant=\"link\" onClick={() => this.changeCard(this.props.editEmployee.employee.id)}>Mainīt</Button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Alert \r\n\t\t\t\t\t\tvariant={\"primary\"} \r\n\t\t\t\t\t\tshow={\r\n\t\t\t\t\t\t\tthis.state.employee.changeCard.status === CHANGE_CARD_STATE.RFID_WAIT\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\tonClose={() => null}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tNoskenējiet vēlamo kartiņu.\r\n\t\t\t\t\t</Alert>\r\n\r\n\t\t\t\t\t<Alert \r\n\t\t\t\t\t\tvariant={\"success\"} \r\n\t\t\t\t\t\tshow={\r\n\t\t\t\t\t\t\tthis.state.employee.changeCard.status === CHANGE_CARD_STATE.COMPLETE\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\tonClose={() => null}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tDarbiniekam veiksmīgi nomainīta karte.\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"success\" onClick={() => {\r\n\t\t\t\t\t\teditServerEmployee(this.state.employee).then(() => {\r\n\t\t\t\t\t\t\tgetEmployees();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.props.hideEditEmployee();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\tRediģēt\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\teditEmployee: state.employees.editEmployee,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowEditEmployee: () => dispatch(showEditEmployee()),\r\n\t\thideEditEmployee: () => dispatch(hideEditEmployee()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(EditEmployee);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button, Row, Col, Table, Form } from \"react-bootstrap\";\r\nimport download from \"downloadjs\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nimport BoostrapDatePicker from \"./BoostrapDatePicker\";\r\n\r\nimport { showExportExcel, hideExportExcel } from \"../actions/employeeActions\";\r\n\r\nimport { exportServerEmployees } from \"../utils/employeeUtils\";\r\n\r\nclass ExportExcel extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tmonth: new Date(),\r\n\t\t\temployeeList: [],\r\n\t\t\tcheckAll: false,\r\n\t\t\tincludeNoHours: false,\r\n\t\t\tincludeInactive: false,\r\n\t\t\tincludeArchived: false\r\n\t\t}\r\n\t}\r\n\r\n\thandleDateChange = (date) => {\r\n\t\tthis.setState({\r\n\t\t\tmonth: date,\r\n\t\t});\r\n\t}\r\n\r\n\tonToggleIncludeNoHours = () => {\r\n\t\tthis.setState({\r\n\t\t\tincludeNoHours: !this.state.includeNoHours\r\n\t\t});\r\n\t}\r\n\r\n\tonToggleIncludeInactive = () => {\r\n\t\tthis.setState({\r\n\t\t\tincludeInactive: !this.state.includeInactive\r\n\t\t});\r\n\t}\r\n\r\n\tonToggleIncludeArchived = () => {\r\n\t\tthis.setState({\r\n\t\t\tincludeArchived: !this.state.includeArchived\r\n\t\t});\r\n\t}\r\n\r\n\tonEmployeeCheck = (index) => {\r\n\t\tconst newList = this.state.employeeList;\r\n\t\tnewList[index].checked = !newList[index].checked;\r\n\r\n\t\tthis.setState({\r\n\t\t\temployeeList: newList\r\n\t\t});\r\n\t}\r\n\r\n\tonCheckAll = () => {\r\n\t\tthis.setState({\r\n\t\t\temployeeList: this.state.employeeList.map(employee => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...employee,\r\n\t\t\t\t\tchecked: !this.state.checkAll\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tcheckAll: !this.state.checkAll\r\n\t\t});\r\n\t}\r\n\r\n\texport = () => {\r\n\t\texportServerEmployees({\r\n\t\t\tmonth: this.state.month,\r\n\t\t\temployees: this.state.employeeList.filter(employee => {\r\n\t\t\t\treturn employee.checked;\r\n\t\t\t}),\r\n\t\t\tincludeNoHours: this.state.includeNoHours,\r\n\t\t\tincludeInactive: this.state.includeInactive,\r\n\t\t\tincludeArchived: this.state.includeArchived\r\n\t\t}).then((response) => {\r\n\t\t\tconst content = response.headers[\"content-type\"];\r\n           \tdownload(response.data, \"Varpas 1.xlsx\", content);\r\n\t\t});\r\n\t}\r\n\r\n\tonEnter = () => {\r\n\t\tthis.setState({\r\n\t\t\temployeeList: this.props.employees.map(employee => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...employee,\r\n\t\t\t\t\tchecked: false\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tif(!this.props.exportExcel.show) return null;\r\n\r\n\t\tconst employees = this.state.employeeList.map((employee, index) => {\r\n\t\t\treturn (\r\n\t\t\t\t<tbody key={index}>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\tchecked={employee.checked}\r\n\t\t\t\t\t\t\t\tonChange={() => this.onEmployeeCheck(index)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>{employee.name + \" \" + employee.surname}</td>\r\n\t\t\t\t\t\t<td>{employee.personalCode}</td>\r\n\t\t\t\t\t\t<td>{employee.position}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tsize=\"lg\"\r\n\t\t\t\tshow={this.props.exportExcel.show}\r\n\t\t\t\tonEnter={() => this.onEnter()}\r\n\t\t\t\tonHide={() => this.props.hideExportExcel()}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>Eksports</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<h5>Periods</h5>\r\n\t\t\t\t\t\t\t<Form.Group as={Row} className=\"ml-1\">\r\n\t\t\t\t\t\t\t\t<Form.Label column xs={\"3\"}>Mēnesis: </Form.Label>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"MM/yyyy\"\r\n\t\t\t\t\t\t\t\t\t\tcustomInput={<BoostrapDatePicker />}\r\n\t\t\t\t\t\t\t\t\t\tselected={this.state.month}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleDateChange}\r\n\t\t\t\t\t\t\t\t\t\tshowMonthYearPicker\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<h5>Iekļaut</h5>\r\n\t\t\t\t\t\t\t<Form.Group as={Row} className=\"ml-1\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\t\tlabel=\"darbiniekus bez nostrādātām stundām\"\r\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.includeNoHours}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onToggleIncludeNoHours}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group as={Row} className=\"ml-1\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\t\tlabel=\"deaktivizētus darbiniekus\"\r\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.includeInactive}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onToggleIncludeInactive}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group as={Row} className=\"ml-1\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\t\tlabel=\"arhivētus darbiniekus\"\r\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.includeArchived}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onToggleIncludeArchived}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<h5>Atlasīt Darbiniekus</h5>\r\n\t\t\t\t\t\t\t<Table size=\"sm\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.checkAll}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={() => this.onCheckAll()}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Vārds</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Personas Kods</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Amats</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t{employees}\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"success\" onClick={() => {\r\n\t\t\t\t\t\tthis.export();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\tEksportēt\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\texportExcel: state.employees.exportExcel,\r\n\t\temployees: state.employees.employees\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowExportExcel: () => dispatch(showExportExcel()),\r\n\t\thideExportExcel: () => dispatch(hideExportExcel()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ExportExcel);\r\n","import { request } from \"./config\";\r\n\r\nexport const checkSession = () => {\r\n\treturn request.post(\"/checkSession\");\r\n}\r\n\r\nexport const authenticate = (username, password, rememberMe) => {\r\n\treturn request.post(\"/authenticate\", {\r\n\t\tusername,\r\n\t\tpassword,\r\n\t\trememberMe\r\n\t});\r\n}\r\n\r\nexport const logOut = () => {\r\n\treturn request.post(\"/logOut\");\r\n}\r\n\r\nexport const getUserByUsername = (username) => {\r\n\treturn request.post(\"/getUserByUsername\", {\r\n\t\tusername\r\n\t});\r\n}\r\n\r\nexport const getUserByKey = () => {\r\n\treturn request.post(\"/getUserByKey\");\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button, Form, Alert } from \"react-bootstrap\";\r\n\r\nimport logo from \"../images/logo.png\";\r\n\r\nimport { authenticate } from \"../utils/userUtils\";\r\n\r\nconst DEBUG = false;\r\n\r\nclass LogIn extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\tusername: DEBUG ? \"nils.asejevs\" : \"\",\r\n\t\t\tpassword: DEBUG ? \"EvoNils112\" : \"\",\r\n\t\t\trememberMe: true,\r\n\t\t\tauthenticationError: false,\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif(DEBUG) {\r\n\t\t\tthis.logIn();\r\n\t\t}\r\n\t}\r\n\r\n\tonUsernameChange = (event) => {\r\n\t\tthis.setState({ username: event.target.value });\r\n\t}\r\n\r\n\tonPasswordChange = (event) => {\r\n\t\tthis.setState({ password: event.target.value });\r\n\t}\r\n\r\n\tonRememberMeChange = () => {\r\n\t\tthis.setState({ rememberMe: !this.state.rememberMe });\r\n\t}\r\n\r\n\tlogIn = (e) => {\r\n\t\tif(DEBUG === false) {\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t\tauthenticate(this.state.username, this.state.password, this.state.rememberMe).then((res) => {\r\n\t\t\tif(res.data) {\r\n\t\t\t\twindow.location.reload();\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tauthenticationError: true,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tcentered\r\n\t\t\t\tshow={true}\r\n\t\t\t\tonHide={() => null}\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={e => this.logIn(e)}>\r\n\t\t\t\t<Modal.Header className=\"justify-content-center\">\r\n\t\t\t\t\t<Modal.Title>\r\n\t\t\t\t\t\t<img \r\n\t\t\t\t\t\t\tsrc={logo}\r\n\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\twidth=\"auto\"\r\n\t\t\t\t\t\t\theight=\"40px\"\r\n\t\t\t\t\t\t\tclassName=\"d-inline-block align-top mr-2\"\r\n\t\t\t\t\t\t\tstyle={{filter: \"invert(100%)\"}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\tAutentifikācija\r\n\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Lietotājvārds</Form.Label>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={this.state.username} \r\n\t\t\t\t\t\t\tonChange={this.onUsernameChange}\r\n\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Parole</Form.Label>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={this.state.password} \r\n\t\t\t\t\t\t\tonChange={this.onPasswordChange}\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group controlId=\"formBasicChecbox\">\r\n\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\tlabel=\"Atcerēties mani\"\r\n\t\t\t\t\t\t\tname=\"rememberMe\"\r\n\t\t\t\t\t\t\tchecked={this.state.rememberMe}\r\n\t\t\t\t\t\t\tonChange={this.onRememberMeChange}/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Alert variant={\"danger\"} show={this.state.authenticationError} onClose={() => null}>\r\n\t\t\t\t\t\tNepareizs lietotājvārds un/vai parole.\r\n\t\t\t\t\t</Alert>\r\n\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"success\" type=\"submit\">\r\n\t\t\t\t\t\tIelogoties\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(LogIn);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Alert } from \"react-bootstrap\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nimport { showCheckCard, hideCheckCard, showEmployeeWorkLog } from \"../actions/employeeActions\";\r\n\r\nimport { checkCard } from \"../utils/employeeUtils\";\r\n\r\nclass CheckCard extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\tcardScanned: false,\r\n\t\t\temployee: {}\r\n\t\t}\r\n\t}\r\n\r\n\tcheckCard = (status) => {\r\n\t\tif(status) {\r\n\t\t\tcheckCard(status).then((res) => {\r\n\t\t\t\tif(this.props.checkCard.show) {\r\n\t\t\t\t\tthis.hideModal();\r\n\t\t\t\t\tthis.props.showEmployeeWorkLog(res.data.id);\r\n\t\t\t\t}\r\n\t\t\t}).catch(() => {\r\n\t\t\t\tif(this.props.checkCard.show) {\r\n\t\t\t\t\tthis.checkCard(status);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tcheckCard(status);\r\n\t\t}\r\n\t}\r\n\r\n\thideModal = () => {\r\n\t\tthis.props.hideCheckCard();\r\n\t\tthis.checkCard(false);\r\n\r\n\t\tthis.setState({\r\n\t\t\tcardScanned: false,\r\n\t\t\temployee: {}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.checkCard.show}\r\n\t\t\t\tonHide={this.hideModal}\r\n\t\t\t\tonEntered={() => this.checkCard(true)}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>Atrast darbinieku pēc kartes</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Alert variant={\"primary\"} show={!this.state.cardScanned}>\r\n\t\t\t\t\t\tNoskenējiet vēlamo NFC karti.\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.cardScanned && this.state.employee !== false\r\n\t\t\t\t\t\t? <div>\r\n\t\t\t\t\t\t\tVārds: {this.state.employee.name + \" \" + this.state.employee.surname}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t: null\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.cardScanned && this.state.employee === false\r\n\t\t\t\t\t\t? <div>\r\n\t\t\t\t\t\t\tUz šīs kartiņas nav reģistrēts neviens darbinieks.\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t: null\r\n\t\t\t\t\t}\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tcheckCard: state.employees.checkCard,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowCheckCard: () => dispatch(showCheckCard()),\r\n\t\thideCheckCard: () => dispatch(hideCheckCard()),\r\n\t\tshowEmployeeWorkLog: (id) => dispatch(showEmployeeWorkLog(id)),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(CheckCard);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button, Form, Row, Col } from \"react-bootstrap\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport BoostrapDatePicker from \"./BoostrapDatePicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nimport { showCommentEmployee, hideCommentEmployee } from \"../actions/employeeActions\";\r\n\r\nimport { addEmployeeComment, getEmployees } from \"../utils/employeeUtils\";\r\n\r\nclass CommentEmployee extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.initialState = {\r\n\t\t\tcomment: {\r\n\t\t\t\ttext: \"\",\r\n\t\t\t\texpires: new Date(),\r\n\t\t\t\tmanualDelete: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\t...this.initialState\r\n\t\t}\r\n\t}\r\n\r\n\tonExited = () => {\r\n\t\tthis.props.hideCommentEmployee();\r\n\t\tthis.setState({\r\n\t\t\t...this.initialState\r\n\t\t});\r\n\t}\r\n\r\n\tonCommentChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\tcomment: {\r\n\t\t\t\t...this.state.comment,\r\n\t\t\t\ttext: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonExpiryDateChange = (date) => {\r\n\t\tconsole.log(date);\r\n\t\tthis.setState({\r\n\t\t\tcomment: {\r\n\t\t\t\t...this.state.comment,\r\n\t\t\t\texpires: date\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonManualDeleteChange = () => {\r\n\t\tthis.setState({ \r\n\t\t\tcomment: {\r\n\t\t\t\t...this.state.comment,\r\n\t\t\t\tmanualDelete: !this.state.comment.manualDelete\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tshow={this.props.commentEmployee.show}\r\n\t\t\t\tonExited={() => this.onExited()}\r\n\t\t\t\tonHide={() => this.props.hideCommentEmployee()}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>{this.props.employee.name + \" \" + this.props.employee.surname}</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t<Form.Label column xs={2}>Komentārs</Form.Label>\r\n\t\t\t\t\t\t<Col xs={10}>\r\n\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\tas=\"textarea\"\r\n\t\t\t\t\t\t\t\trows=\"3\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.comment.text}\r\n\t\t\t\t\t\t\t\tonChange={this.onCommentChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t<Form.Label column xs={2}>Dzēst</Form.Label>\r\n\t\t\t\t\t\t<Col xs={10}>\r\n\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\tdisabled={this.state.comment.manualDelete}\r\n\t\t\t\t\t\t\t\tdateFormat=\"yyyy.MM.dd HH:mm\"\r\n\t\t\t\t\t\t\t\tcustomInput={<BoostrapDatePicker />}\r\n\t\t\t\t\t\t\t\tselected={this.state.comment.expires}\r\n\t\t\t\t\t\t\t\tonChange={this.onExpiryDateChange}\r\n\t\t\t\t\t\t\t\tmaxDate={new Date()}\r\n\t\t\t\t\t\t\t\tshowTimeSelect\r\n\t\t\t\t\t\t\t\ttimeFormat=\"HH:mm\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\tlabel=\"Tikai manuāli dzēšams\"\r\n\t\t\t\t\t\t\tname=\"manualDelete\"\r\n\t\t\t\t\t\t\tchecked={this.state.comment.manualDelete}\r\n\t\t\t\t\t\t\tonChange={this.onManualDeleteChange}/>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"success\" onClick={() => {\r\n\t\t\t\t\t\taddEmployeeComment(this.props.employee, this.state.comment);\r\n\t\t\t\t\t\tthis.props.hideCommentEmployee();\r\n\t\t\t\t\t\tgetEmployees();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\tPievienot\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tcommentEmployee: state.employees.commentEmployee,\r\n\t\temployee: state.employees.commentEmployee.employee,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowCommentEmployee: () => dispatch(showCommentEmployee()),\r\n\t\thideCommentEmployee: () => dispatch(hideCommentEmployee()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(CommentEmployee);\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nimport { Route, BrowserRouter as Router, Switch } from \"react-router-dom\";\r\nimport { Container, Row, Col, Navbar, Nav, Spinner } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\n\r\nimport Employees from \"./Employees\";\r\nimport Report from \"./Report\";\r\nimport RegisterEmployee from \"./RegisterEmployee\";\r\n//import DateTime from \"./DateTime\";\r\nimport NotFound from \"./NotFound\";\r\nimport ViewEmployee from \"./ViewEmployee\";\r\nimport DeleteEmployee from \"./DeleteEmployee\";\r\nimport EditEmployee from \"./EditEmployee\";\r\nimport ExportExcel from \"./ExportExcel\";\r\nimport LogIn from \"./LogIn\";\r\nimport CheckCard from \"./CheckCard\";\r\nimport CommentEmployee from \"./CommentEmployee\";\r\n\r\nimport { checkSession, logOut, getUserByKey } from \"../utils/userUtils\";\r\nimport { pingServer } from \"../utils/commonUtils\";\r\n\r\nimport { cardScanned} from \"../utils/employeeUtils\";\r\n\r\nimport \"../styles/main.css\";\r\n\r\nimport logo from \"../images/logo.png\";\r\nimport { FiLogOut } from \"react-icons/fi\";\r\n\r\nclass App extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\tpingInterval: null,\r\n\t\t\tserverConnectionEstablished: false,\r\n\t\t\tscannerConnectionEstablished: false,\r\n\t\t\tloading: true,\r\n\t\t\tauthenticated: false,\r\n\t\t\tuser: {\r\n\t\t\t\tusername: \"\"\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\twindow.scanCard = cardScanned;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t// Check user session before displaying anything\r\n\r\n\t\tthis.establishConnection();\r\n\t\tthis.setState({ \r\n\t\t\tpingInterval: setInterval(() => {\r\n\t\t\t\tthis.establishConnection();\r\n\t\t\t}, 1000)\r\n\t\t});\r\n\t}\r\n\r\n\testablishConnection = () => {\r\n\t\tpingServer().then((res) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tserverConnectionEstablished: res.data.server,\r\n\t\t\t\tscannerConnectionEstablished: res.data.scanner,\r\n\t\t\t}, () => {\r\n\t\t\t\tcheckSession().then((res) => {\r\n\t\t\t\t\tif(this.state.serverConnectionEstablished === true && this.state.scannerConnectionEstablished === true) {\r\n\t\t\t\t\t\tclearInterval(this.state.pingInterval);\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\t\tauthenticated: res.data,\r\n\t\t\t\t\t\t}, () => {\r\n\t\t\t\t\t\t\tif(this.state.authenticated) {\r\n\t\t\t\t\t\t\t\tgetUserByKey().then((res) => {\r\n\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\tuser: res.data,\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tlogOut = () => {\r\n\t\tlogOut();\r\n\t\twindow.location.reload();\r\n\t}\r\n\r\n\trender() {\r\n\t\tif(this.state.loading) {\r\n\t\t\t// Loading screen\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<Spinner animation=\"border\"/>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.serverConnectionEstablished\r\n\t\t\t\t\t\t? \tthis.state.scannerConnectionEstablished\r\n\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t: <div>Veido savienojumu ar NFC skeneri...</div>\r\n\t\t\t\t\t\t: <div>Veido savienojumu ar serveri...</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tif(this.state.authenticated) {\r\n\t\t\t\t// User interface\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Router>\r\n\t\t\t\t\t\t<Container className=\"container\">\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Navbar bg=\"dark\" variant=\"dark\" fixed=\"top\" expand=\"md\">\r\n\t\t\t\t\t\t\t\t\t\t<Navbar.Brand>\r\n\t\t\t\t\t\t\t\t\t\t\t<img \r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={logo}\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth=\"30\"\r\n\t\t\t\t\t\t\t\t\t\t\t\theight=\"30\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline-block align-top\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t{\" VĀRPAS 1\"}\r\n\t\t\t\t\t\t\t\t\t\t</Navbar.Brand>\r\n\t\t\t\t\t\t\t\t\t\t<Navbar.Toggle aria-controls=\"responsive-navbar-nav\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Navbar.Collapse id=\"responsive-navbar-nav\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Nav className=\"mr-auto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LinkContainer exact={true} to=\"/\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Nav.Link>Darbinieki</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LinkContainer exact={true} to=\"/report\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Nav.Link>Atskaites</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t\t\t\t\t\t<Nav>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Navbar.Text className=\"ml-md-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<u>{this.state.user.username}</u>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Navbar.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Nav.Link className=\"ml-md-2\" onClick={this.logOut}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tIziet\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FiLogOut className=\"ml-1\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t\t\t\t\t\t</Navbar>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t\t\t<Route exact path=\"/\" component={Employees} />\r\n\t\t\t\t\t\t\t\t\t\t<Route exact path=\"/report\" component={Report} />\r\n\t\t\t\t\t\t\t\t\t\t<Route component={NotFound} />\r\n\t\t\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t\t\t<ViewEmployee/>\r\n\t\t\t\t\t\t\t\t\t<RegisterEmployee/>\r\n\t\t\t\t\t\t\t\t\t<DeleteEmployee/>\r\n\t\t\t\t\t\t\t\t\t<EditEmployee/>\r\n\t\t\t\t\t\t\t\t\t<ExportExcel/>\r\n\t\t\t\t\t\t\t\t\t<CheckCard/>\r\n\t\t\t\t\t\t\t\t\t<CommentEmployee/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col className=\"footer\">\r\n\t\t\t\t\t\t\t\t\tVārpas 1 © 2019\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t</Router>\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\t// User Log In\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<LogIn/>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === \"localhost\" ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === \"[::1]\" ||\r\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(\r\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n\t\t)\r\n);\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won\"t work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twindow.addEventListener(\"load\", () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let\"s check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\"This web app is being served cache-first by a service \" +\r\n\t\t\t\t\t\t\t\"worker. To learn more, visit http://bit.ly/CRA-PWA\"\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing;\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === \"installed\") {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t\"New content is available and will be used when all \" +\r\n\t\t\t\t\t\t\t\t\t\"tabs for this page are closed. See http://bit.ly/CRA-PWA.\"\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It\"s the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log(\"Content is cached for offline use.\");\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error(\"Error during service worker registration:\", error);\r\n\t\t});\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can\"t reload the page.\r\n\tfetch(swUrl)\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get(\"content-type\");\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t\"No internet connection found. App is running in offline mode.\"\r\n\t\t\t);\r\n\t\t});\r\n}\r\n\r\nexport function unregister() {\r\n\tif (\"serviceWorker\" in navigator) {\r\n\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\tregistration.unregister();\r\n\t\t});\r\n\t}\r\n}\r\n","import React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nimport store from \"./store/store\";\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<App />\r\n\t</Provider>,\r\ndocument.getElementById(\"root\"));\r\n\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.96ebfbf9.png\";"],"sourceRoot":""}