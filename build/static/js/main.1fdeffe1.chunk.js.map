{"version":3,"sources":["utils/config.js","components/ContainerBox.js","actions/employeeActions.js","actions/actionTypes.js","store/initialState.js","reducers/index.js","reducers/employeeReducer.js","store/store.js","utils/employeeUtils.js","components/Commands.js","components/BoostrapDatePicker.js","utils/userUtils.js","components/Filters.js","utils/commonUtils.js","components/Employees.js","components/Report.js","components/RegisterEmployee.js","components/NotFound.js","components/ViewEmployee.js","components/DeleteEmployee.js","components/EditEmployee.js","components/ExportExcel.js","components/LogIn.js","components/CheckCard.js","components/CommentEmployee.js","components/ScheduleCell.js","components/Schedule.js","components/Notifications.js","components/App.js","serviceWorker.js","index.js","images/logo.png"],"names":["production","serverURL","employeeUpdateInterval","workLogUpdateInterval","request","axios","create","baseURL","withCredentials","ContainerBox","props","react_default","a","createElement","className","header","children","showEmployeeWorkLog","employee","type","payload","hideEmployeeWorkLog","showDeleteEmployee","hideDeleteEmployee","showEditEmployee","hideEditEmployee","showRegisterEmployee","hideRegisterEmployee","showExportExcel","hideExportExcel","showCheckCard","hideCheckCard","showCommentEmployee","hideCommentEmployee","updateNotifications","data","showNotifications","hideNotifications","initialState","employees","employeeWorkLog","show","id","deleteEmployee","editEmployee","registerEmployee","exportExcel","checkCard","commentEmployee","notifications","rootReducer","combineReducers","state","arguments","length","undefined","action","console","log","Object","objectSpread","toConsumableArray","map","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","storeUpdateEmployees","getServerEmployees","then","res","dispatch","storeUpdateEmployee","getServerEmployee","post","getNotifications","getSchedules","month","saveSchedules","schedules","getServerEmployeeWorkLog","order","deleteServerWorkLog","working","employeeId","editServerWorkLog","startDate","endDate","addServerEmployee","deleteServerEmployee","exportServerEmployees","settings","get","responseType","cardScanned","uid","admin","getEmployeeByUID","setEmployeeUID","removeEmployeeUID","awaitCard","CommandButton","forwardRef","ref","Button","variant","onClick","index_esm","connect","Row","Col","xs","Dropdown","Toggle","as","Menu","flip","alignRight","Item","eventKey","archived","height","width","active","OverlayTrigger","placement","overlay","Tooltip","BoostrapDatePicker","react_datepicker_min_default","assign","customInput","Form","Control","locale","en","initialSettings","showFilters","showArchive","showInactive","showWorking","showNotWorking","nameFilter","positionFilter","companyFilter","pageSize","checkSession","authenticate","username","password","rememberMe","logOut","getUserByKey","Filters","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","saveSettings","cookies","Cookies","set","onFilterChange","filterData","tableData","applyNameFilter","applyPositionFilter","applyCompanyFilter","applyCheckboxFilters","checkboxFilter","onDataFiltered","filter","row","name","surname","toString","toLowerCase","indexOf","company","position","onToggleFilters","setState","onToggleArchive","onToggleInactive","onToggleShowWorking","onToggleShowNotWorking","onChangeNameFilter","e","target","value","onChangePositionFilter","onChangeCompanyFilter","onChangeDateStart","date","startOfDay","Date","setHours","onChangeDateEnd","endOfDay","onClickFilter","index","yesterday","setDate","getDate","last7Days","last30Days","dropdown","currentFilter","filters","clearAllFilters","prevProps","prevState","_this2","dateFilter","Fragment","Group","Label","column","components_BoostrapDatePicker","dateFormat","selected","onChange","maxDate","minDate","DropdownButton","title","key","Collapse","in","Check","label","checked","placeholder","Text","React","PureComponent","pingServer","addZero","i","millisecondConverter","ms","seconds","Math","floor","minutes","hours","daysInMonth","year","isWeekend","day","getDay","convertSpecialCharacters","string","special","normal","output","letter","toUpperCase","charAt","Employees","onTableChange","formatTable","callback","workLogFrom","workLogTo","promise","workLogToday","workLog","forEach","start_time","getTime","push","comments","today","workLogs","commands","Promise","all","workLogUserId","showWorkLogModal","companyFormatter","cell","style","maxWidth","columns","dataField","text","sort","classes","headerClasses","sortFunc","b","formatter","commentBorderStyle","borderBottom","comment","size","commentId","Badge","fontSize","color","trigger","rootClose","Popover","aData","end_time","bData","badges","totalWorkTime","totalWorkTimeConverted","workTime","workTimeConverted","workTimeStartFormatted","getHours","getMinutes","workTimeEndFormatted","workTimeFormatted","totalWorkTimeFormatted","borderTop","components_Commands","pagination","paginationFactory","page","alwaysShowAllBtns","showTotal","sizePerPage","sizePerPageRenderer","_ref","options","onSizePerPageChange","currSizePerPage","option","onClickPageSize","sizePerPageList","components_ContainerBox","components_Filters","react_bootstrap_table_next_lib_default","bootstrap4","keyField","bordered","hover","defaultSorted","remote","rowStyle","backgroundColor","Component","startDateFormatted","getMonth","getFullYear","endDateFormatted","displayOneDay","REGISTER_STATE","DATA_INPUT","RFID_WAIT","COMPLETE","RegisterEmployee","onNameChange","event","onSurnameChange","onCompanyChange","onPositionChange","onNumberChange","number","onPersonalCodeChange","personalCode","onAddCardChange","addCard","onFormSubmit","preventDefault","stopPropagation","registrationState","hideRegisterEmployeeAndDelete","newEmployee","onExited","checkInterval","Modal","onHide","onExit","deleteAndCancel","onSubmit","Header","closeButton","Title","Body","required","disabled","controlId","Alert","onClose","Footer","Buttons","NotFound","ViewEmployee","fetchWorkLog","clearInterval","updateInterval","setInterval","editWorkLog","handleDateChangeStart","handleDateChangeEnd","deleteWorkLog","confirmEditWorkLog","cancelEditWorkLog","onStartDateChange","onEndDateChange","results","filterResults","lastStartDate","totalDayWorkTime","totalDays","workLogFiltered","startTimePure","stillWorking","endTimePure","startTimeFormatted","endTimeFormatted","employee_id","workRow","timeIntervals","showTimeSelect","timeFormat","dateRow","totalDayRow","totalRow","dateFormatted","nextStartDate","totalDayWorkTimeConverted","totalDayWorkTimeFormatted","fromDateFormatted","toDateFormatted","colSpan","Table","DeleteEmployee","CHANGE_CARD_STATE","OFF","DELETED","EditEmployee","onEnter","changeCard","status","uid_added","deleteCard","uidAddedDate","uidAdded","ExportExcel","handleDateChange","onToggleIncludeNoHours","includeNoHours","onToggleIncludeInactive","includeInactive","onToggleIncludeArchived","includeArchived","onEmployeeCheck","newList","employeeList","onCheckAll","checkAll","export","response","content","headers","download","showMonthYearPicker","DEBUG","LogIn","onUsernameChange","onPasswordChange","onRememberMeChange","logIn","location","reload","authenticationError","centered","src","logo","alt","CheckCard","res2","hideModal","notFound","onEntered","CommentEmployee","onCommentChange","onExpiryDateChange","expires","onManualDeleteChange","manualDelete","rows","ScheduleCell","transparentColor","dayColor","nightColor","dayOffColor","vacationColor","sickListColor","lateColor","nextProps","nextState","selectedFields","find","selectedField","rowIndex","extraData","colIndex","JSON","stringify","schedule","days","_this3","outline","onClickScheduleInput","scheduleIndex","onFocus","onFocusScheduleInput","onChangeScheduleInput","fetchSchedules","scheduleDate","newSchedules","Array","fill","parse","checkEmptySchedules","isKeyDown","keyDown","saving","onChangeScheduleDate","select","start","end","min","max","i2","replace","cellRefs","createEmptySchedule","newDays","nameFormatter","dayFormatter","components_ScheduleCell","_ref2","weekendColor","hidden","formatExtraData","headerStyle","addEventListener","keyCode","condensed","Notifications","displayNotifications","notification","notificationData","App","establishConnection","serverConnectionEstablished","server","scannerConnectionEstablished","scanner","pingInterval","loading","authenticated","onAuthentification","user","scanCard","Spinner","animation","BrowserRouter","Container","fluid","Navbar","bg","fixed","expand","Brand","aria-controls","Nav","lib","exact","to","Link","right","top","textAlign","lineHeight","borderRadius","Switch","Route","path","component","Report","Schedule","components_ViewEmployee","components_RegisterEmployee","components_DeleteEmployee","components_EditEmployee","components_ExportExcel","components_CheckCard","components_CommentEmployee","components_Notifications","components_LogIn","Boolean","hostname","match","ReactDOM","render","es","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.1fdeffe1.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const production = true;\r\n\r\nexport const serverURL = production\r\n\t? \"http://192.168.1.150:8080\"\r\n\t: \"http://localhost:8080\";\r\nexport const employeeUpdateInterval = 10000;\r\nexport const workLogUpdateInterval = 10000;\r\n\r\nexport const request = axios.create({\r\n\tbaseURL: serverURL,\r\n\twithCredentials: true,\r\n});\r\n","import React from \"react\";\r\n\r\nconst ContainerBox = (props) => {\r\n\treturn (\r\n\t\t<div className=\"container-box\">\r\n\t\t\t<div className=\"container-box-header\">\r\n\t\t\t\t{props.header}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"container-box-body\">\r\n\t\t\t\t{props.children}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ContainerBox;\r\n","import { \r\n\tUPDATE_EMPLOYEES,\r\n\tUPDATE_EMPLOYEE,\r\n\tSHOW_DELETE_EMPLOYEE, \r\n\tHIDE_DELETE_EMPLOYEE, \r\n\tSHOW_EDIT_EMPLOYEE, \r\n\tHIDE_EDIT_EMPLOYEE,\r\n\tSHOW_REGISTER_EMPLOYEE,\r\n\tHIDE_REGISTER_EMPLOYEE,\r\n\tSHOW_EXPORT_EXCEL,\r\n\tHIDE_EXPORT_EXCEL,\r\n\tSHOW_CHECK_CARD,\r\n\tHIDE_CHECK_CARD,\r\n\tSHOW_EMPLOYEE_WORK_LOG,\r\n\tHIDE_EMPLOYEE_WORK_LOG,\r\n\tSHOW_COMMENT_EMPLOYEE,\r\n\tHIDE_COMMENT_EMPLOYEE,\r\n\tUPDATE_NOTIFICATIONS,\r\n\tSHOW_NOTIFICATIONS,\r\n\tHIDE_NOTIFICATIONS,\r\n} from \"./actionTypes\";\r\n\r\nexport const updateEmployees = (employees) => {\r\n\treturn {\r\n\t\ttype: UPDATE_EMPLOYEES,\r\n\t\tpayload: employees,\r\n\t}\r\n}\r\n\r\nexport const updateEmployee = (employee) => {\r\n\treturn {\r\n\t\ttype: UPDATE_EMPLOYEE,\r\n\t\tpayload: employee,\r\n\t}\r\n}\r\n\r\nexport const showEmployeeWorkLog = (employee) => {\r\n\treturn {\r\n\t\ttype: SHOW_EMPLOYEE_WORK_LOG,\r\n\t\tpayload: employee,\r\n\t}\r\n}\r\n\r\nexport const hideEmployeeWorkLog = () => {\r\n\treturn {\r\n\t\ttype: HIDE_EMPLOYEE_WORK_LOG,\r\n\t}\r\n}\r\n\r\nexport const showDeleteEmployee = (employee) => {\r\n\treturn {\r\n\t\ttype: SHOW_DELETE_EMPLOYEE,\r\n\t\tpayload: employee,\r\n\t}\r\n}\r\n\r\nexport const hideDeleteEmployee = () => {\r\n\treturn {\r\n\t\ttype: HIDE_DELETE_EMPLOYEE,\r\n\t}\r\n}\r\n\r\nexport const showEditEmployee = (employee) => {\r\n\treturn {\r\n\t\ttype: SHOW_EDIT_EMPLOYEE,\r\n\t\tpayload: employee,\r\n\t}\r\n}\r\n\r\nexport const hideEditEmployee = () => {\r\n\treturn {\r\n\t\ttype: HIDE_EDIT_EMPLOYEE,\r\n\t}\r\n}\r\n\r\nexport const showRegisterEmployee = () => {\r\n\treturn {\r\n\t\ttype: SHOW_REGISTER_EMPLOYEE,\r\n\t}\r\n}\r\n\r\nexport const hideRegisterEmployee = () => {\r\n\treturn {\r\n\t\ttype: HIDE_REGISTER_EMPLOYEE,\r\n\t}\r\n}\r\n\r\nexport const showExportExcel = () => {\r\n\treturn {\r\n\t\ttype: SHOW_EXPORT_EXCEL,\r\n\t}\r\n}\r\n\r\nexport const hideExportExcel = () => {\r\n\treturn {\r\n\t\ttype: HIDE_EXPORT_EXCEL,\r\n\t}\r\n}\r\n\r\nexport const showCheckCard = () => {\r\n\treturn {\r\n\t\ttype: SHOW_CHECK_CARD,\r\n\t}\r\n}\r\n\r\nexport const hideCheckCard = () => {\r\n\treturn {\r\n\t\ttype: HIDE_CHECK_CARD,\r\n\t}\r\n}\r\n\r\nexport const showCommentEmployee = (employee) => {\r\n\treturn {\r\n\t\ttype: SHOW_COMMENT_EMPLOYEE,\r\n\t\tpayload: employee,\r\n\t}\r\n}\r\n\r\nexport const hideCommentEmployee = () => {\r\n\treturn {\r\n\t\ttype: HIDE_COMMENT_EMPLOYEE,\r\n\t}\r\n}\r\n\r\nexport const updateNotifications = (data) => {\r\n\treturn {\r\n\t\ttype: UPDATE_NOTIFICATIONS,\r\n\t\tpayload: data,\r\n\t}\r\n}\r\n\r\nexport const showNotifications = () => {\r\n\treturn {\r\n\t\ttype: SHOW_NOTIFICATIONS,\r\n\t}\r\n}\r\n\r\nexport const hideNotifications = () => {\r\n\treturn {\r\n\t\ttype: HIDE_NOTIFICATIONS,\r\n\t}\r\n}\r\n","export const UPDATE_EMPLOYEES = \"UPDATE_EMPLOYEES\";\r\nexport const UPDATE_EMPLOYEE = \"UPDATE_EMPLOYEE\";\r\n\r\nexport const SHOW_EMPLOYEE_WORK_LOG = \"SHOW_EMPLOYEE_WORK_LOG\";\r\nexport const HIDE_EMPLOYEE_WORK_LOG = \"HIDE_EMPLOYEE_WORK_LOG\";\r\n\r\nexport const SHOW_DELETE_EMPLOYEE = \"SHOW_DELETE_EMPLOYEE\";\r\nexport const HIDE_DELETE_EMPLOYEE = \"HIDE_DELETE_EMPLOYEE\";\r\n\r\nexport const SHOW_EDIT_EMPLOYEE = \"SHOW_EDIT_EMPLOYEE\";\r\nexport const HIDE_EDIT_EMPLOYEE = \"HIDE_EDIT_EMPLOYEE\";\r\n\r\nexport const SHOW_REGISTER_EMPLOYEE = \"SHOW_REGISTER_EMPLOYEE\";\r\nexport const HIDE_REGISTER_EMPLOYEE = \"HIDE_REGISTER_EMPLOYEE\";\r\n\r\nexport const SHOW_EXPORT_EXCEL = \"SHOW_EXPORT_EXCEL\";\r\nexport const HIDE_EXPORT_EXCEL = \"HIDE_EXPORT_EXCEL\";\r\n\r\nexport const SHOW_CHECK_CARD = \"SHOW_CHECK_CARD\";\r\nexport const HIDE_CHECK_CARD = \"HIDE_CHECK_CARD\";\r\n\r\nexport const SHOW_COMMENT_EMPLOYEE = \"SHOW_COMMENT_EMPLOYEE\";\r\nexport const HIDE_COMMENT_EMPLOYEE = \"HIDE_COMMENT_EMPLOYEE\";\r\n\r\nexport const UPDATE_NOTIFICATIONS = \"UPDATE_NOTIFICATIONS\";\r\n\r\nexport const SHOW_NOTIFICATIONS = \"SHOW_NOTIFICATIONS\";\r\nexport const HIDE_NOTIFICATIONS = \"HIDE_NOTIFICATIONS\";\r\n","const initialState = {\r\n\temployees: [],\r\n\temployeeWorkLog: {\r\n\t\tshow: false,\r\n\t\tid: null,\r\n\t},\r\n\tdeleteEmployee: {\r\n\t\tshow: false,\r\n\t\temployee: {},\r\n\t},\r\n\teditEmployee: {\r\n\t\tshow: false,\r\n\t\temployee: {},\r\n\t},\r\n\tregisterEmployee: {\r\n\t\tshow: false,\r\n\t},\r\n\texportExcel: {\r\n\t\tshow: false,\r\n\t},\r\n\tcheckCard: {\r\n\t\tshow: false,\r\n\t},\r\n\tcommentEmployee: {\r\n\t\tshow: false,\r\n\t\temployee: {},\r\n\t},\r\n\tnotifications: {\r\n\t\tshow: false,\r\n\t\tdata: [],\r\n\t},\r\n};\r\n\r\nexport default initialState;\r\n","import { combineReducers } from 'redux';\r\n\r\nimport { employees } from './employeeReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n\temployees: employees,\r\n});\r\n\r\nexport default rootReducer;","import initialState from \"../store/initialState\";\r\n\r\nimport { \r\n\tUPDATE_EMPLOYEES,\r\n\tUPDATE_EMPLOYEE,\r\n\tSHOW_DELETE_EMPLOYEE, \r\n\tHIDE_DELETE_EMPLOYEE, \r\n\tSHOW_EDIT_EMPLOYEE, \r\n\tHIDE_EDIT_EMPLOYEE,\r\n\tSHOW_REGISTER_EMPLOYEE,\r\n\tHIDE_REGISTER_EMPLOYEE,\r\n\tSHOW_EXPORT_EXCEL,\r\n\tHIDE_EXPORT_EXCEL,\r\n\tSHOW_CHECK_CARD,\r\n\tHIDE_CHECK_CARD,\r\n\tSHOW_EMPLOYEE_WORK_LOG,\r\n\tHIDE_EMPLOYEE_WORK_LOG,\r\n\tSHOW_COMMENT_EMPLOYEE,\r\n\tHIDE_COMMENT_EMPLOYEE,\r\n\tUPDATE_NOTIFICATIONS,\r\n\tSHOW_NOTIFICATIONS,\r\n\tHIDE_NOTIFICATIONS,\r\n} from '../actions/actionTypes';\r\n\r\nexport const employees = (state = initialState, action) => {\r\n\tconsole.log(action);\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_EMPLOYEES:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\temployees: [...action.payload],\r\n\t\t\t}\r\n\t\tcase UPDATE_EMPLOYEE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\temployees: state.employees.map((employee) => {\r\n\t\t\t\t\treturn employee.id === action.payload.id\r\n\t\t\t\t\t? action.payload\r\n\t\t\t\t\t: employee\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SHOW_EMPLOYEE_WORK_LOG:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\temployeeWorkLog: {\r\n\t\t\t\t\t...state.employeeWorkLog,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\tid: action.payload,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_EMPLOYEE_WORK_LOG:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\temployeeWorkLog: {\r\n\t\t\t\t\t...state.employeeWorkLog,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\tid: null,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_DELETE_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdeleteEmployee: {\r\n\t\t\t\t\t...state.deleteEmployee,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\temployee: action.payload,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_DELETE_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdeleteEmployee: {\r\n\t\t\t\t\t...state.deleteEmployee,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\temployee: {},\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_EDIT_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditEmployee: {\r\n\t\t\t\t\t...state.editEmployee,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\temployee: action.payload,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_EDIT_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditEmployee: {\r\n\t\t\t\t\t...state.editEmployee,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\temployee: {},\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_REGISTER_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tregisterEmployee: {\r\n\t\t\t\t\t...state.registerEmployee,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_REGISTER_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tregisterEmployee: {\r\n\t\t\t\t\t...state.registerEmployee,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_EXPORT_EXCEL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\texportExcel: {\r\n\t\t\t\t\t...state.exportExcel,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_EXPORT_EXCEL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\texportExcel: {\r\n\t\t\t\t\t...state.exportExcel,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_CHECK_CARD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcheckCard: {\r\n\t\t\t\t\t...state.checkCard,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_CHECK_CARD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcheckCard: {\r\n\t\t\t\t\t...state.checkCard,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_COMMENT_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcommentEmployee: {\r\n\t\t\t\t\t...state.commentEmployee,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\temployee: action.payload,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_COMMENT_EMPLOYEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcommentEmployee: {\r\n\t\t\t\t\t...state.commentEmployee,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\temployee: {},\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase UPDATE_NOTIFICATIONS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnotifications: {\r\n\t\t\t\t\t...state.notifications,\r\n\t\t\t\t\tdata: action.payload,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase SHOW_NOTIFICATIONS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnotifications: {\r\n\t\t\t\t\t...state.notifications,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase HIDE_NOTIFICATIONS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnotifications: {\r\n\t\t\t\t\t...state.notifications,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import { createStore } from \"redux\";\r\nimport rootReducer from \"../reducers\";\r\n\r\nconst store = configureStore();\r\n\r\nfunction configureStore() {\r\n\treturn createStore(\r\n\t\trootReducer,\r\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\r\n\t);\r\n}\r\n\r\nexport default store;","import { request } from \"./config\";\r\nimport store from \"../store/store\";\r\nimport { updateEmployees, updateEmployee } from \"../actions/employeeActions\";\r\n\r\nexport const storeUpdateEmployees = () => {\r\n\treturn getServerEmployees().then((res) => {\r\n\t\tstore.dispatch(updateEmployees(res.data));\r\n\t});\r\n}\r\n\r\nexport const storeUpdateEmployee = (id) => {\r\n\treturn getServerEmployee(id).then((res) => {\r\n\t\tstore.dispatch(updateEmployee(res.data));\r\n\t});\r\n}\r\n\r\n// ------------ Server requests ------------\r\nexport const getServerEmployees = () => {\r\n\treturn request.post(\"/getEmployees\");\r\n}\r\n\r\nexport const getServerEmployee = (id) => {\r\n\treturn request.post(\"/getEmployee\", { \r\n\t\tid \r\n\t});\r\n}\r\n\r\nexport const getNotifications = () => {\r\n\treturn request.post(\"/getNotifications\");\r\n}\r\n\r\nexport const getSchedules = (month) => {\r\n\treturn request.post(\"/getSchedules\", {\r\n\t\tmonth\r\n\t});\r\n}\r\n\r\nexport const saveSchedules = (schedules) => {\r\n\treturn request.post(\"/saveSchedules\", {\r\n\t\tschedules\r\n\t});\r\n}\r\n\r\nexport const getServerEmployeeWorkLog = (id, order = \"DESC\") => {\r\n\treturn request.post(\"/getEmployeeWorkLog\", { \r\n\t\tid,\r\n\t\torder\r\n\t});\r\n}\r\n\r\nexport const getServerEmployeeWorkLogFromTo = (id, from, to) => {\r\n\treturn request.post(\"/getEmployeeWorkLogFromTo\", { \r\n\t\tid,\r\n\t\tfrom,\r\n\t\tto\r\n\t});\r\n}\r\n\r\nexport const deleteServerWorkLog = (id, working, employeeId) => {\r\n\treturn request.post(\"/deleteWorkLog\", { \r\n\t\tid,\r\n\t\tworking,\r\n\t\temployeeId,\r\n\t});\r\n}\r\n\r\nexport const editServerWorkLog = (id, startDate, endDate, working) => {\r\n\treturn request.post(\"/editWorkLog\", { \r\n\t\tid,\r\n\t\tstartDate,\r\n\t\tendDate,\r\n\t\tworking,\r\n\t});\r\n}\r\n\r\nexport const addServerEmployee = (employee) => {\r\n\treturn request.post(\"/addEmployee\", {\r\n\t\temployee\r\n\t});\r\n}\r\n\r\nexport const setServerEmployeeWorking = (id, working) => {\r\n\treturn request.post(\"/setEmployeeWorking\", {\r\n\t\tid, \r\n\t\tworking\r\n\t});\r\n}\r\n\r\nexport const setServerEmployeeArchived = (id, archived) => {\r\n\treturn request.post(\"/setArchivedEmployee\", {\r\n\t\tid, \r\n\t\tarchived\r\n\t});\r\n}\r\n\r\nexport const setServerEmployeeActive = (id, active) => {\r\n\treturn request.post(\"/setActiveEmployee\", {\r\n\t\tid, \r\n\t\tactive\r\n\t});\r\n}\r\n\r\nexport const deleteServerEmployee = (id) => {\r\n\treturn request.post(\"/deleteEmployee\", {\r\n\t\tid\r\n\t});\r\n}\r\n\r\nexport const editServerEmployee = (employee) => {\r\n\treturn request.post(\"/editEmployee\", {\r\n\t\temployee\r\n\t});\r\n}\r\n\r\nexport const exportServerEmployees = (settings) => {\r\n\treturn request.post(\"/export\", {\r\n\t\tsettings\r\n\t}).then(() => {\r\n\t\treturn request.get(\"/export\", {\r\n\t\t\tresponseType: \"blob\"\r\n\t\t})\r\n\t});\r\n}\r\n\r\nexport const addEmployeeComment = (employee, comment) => {\r\n\treturn request.post(\"/addEmployeeComment\", {\r\n\t\temployee,\r\n\t\tcomment,\r\n\t});\r\n}\r\n\r\nexport const getEmployeeComments = (id) => {\r\n\treturn request.post(\"/getEmployeeComments\", {\r\n\t\tid,\r\n\t});\r\n}\r\n\r\nexport const deleteEmployeeComment = (commentId) => {\r\n\treturn request.post(\"/deleteEmployeeComment\", {\r\n\t\tcommentId,\r\n\t});\r\n}\r\n\r\n// ------------ Card manipulation ------------\r\n\r\nexport const cardScanned = (uid) => {\r\n\treturn request.post(\"/cardScanned\", { \r\n\t\tuid: uid,\r\n\t\tadmin: 1,\r\n\t});\r\n}\r\n\r\nexport const getEmployeeByUID = (uid) => {\r\n\treturn request.post(\"/getEmployeeByUID\", {\r\n\t\tuid,\r\n\t});\r\n}\r\n\r\nexport const setEmployeeUID = (uid, id) => {\r\n\treturn request.post(\"/setEmployeeUID\", {\r\n\t\tuid,\r\n\t\tid\r\n\t});\r\n}\r\n\r\nexport const removeEmployeeUID = (id) => {\r\n\treturn request.post(\"/removeEmployeeUID\", {\r\n\t\tid\r\n\t});\r\n}\r\n\r\nexport const awaitCard = () => {\r\n\treturn request.post(\"/awaitCard\");\r\n}\r\n","import React, { forwardRef } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Button, Dropdown, Row, Col, Tooltip, OverlayTrigger} from \"react-bootstrap\";\r\n\r\nimport { \r\n\tshowDeleteEmployee,\r\n\tshowEditEmployee,\r\n\tshowCommentEmployee,\r\n} from \"../actions/employeeActions\";\r\n\r\nimport { \r\n\tsetServerEmployeeWorking, \r\n\tsetServerEmployeeArchived, \r\n\tsetServerEmployeeActive,\r\n\tstoreUpdateEmployee\r\n} from \"../utils/employeeUtils\";\r\n\r\nimport { FiMoreHorizontal, FiTrash, FiEdit,FiArchive, FiX,FiCheck } from \"react-icons/fi\";\r\n\r\nconst CommandButton = forwardRef((props, ref) => {\r\n\treturn <Button ref={ref} variant=\"link\" onClick={props.onClick}>\r\n\t\t<FiMoreHorizontal/>\r\n\t</Button>\r\n});\r\n\r\nconst Commands = (props) => {\r\n\treturn (\r\n\t\t<Row className=\"justify-content-end\">\r\n\t\t\t<Col xs=\"auto\" className=\"d-inline-block\">\r\n\t\t\t\t<Dropdown>\r\n\t\t\t\t\t<Dropdown.Toggle as={CommandButton}/>\r\n\t\t\t\t\t<Dropdown.Menu flip={true} alignRight={true}>\r\n\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\teventKey=\"1\"\r\n\t\t\t\t\t\t\tonClick={() => props.showEditEmployee(props.employee)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FiEdit className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\tRedit\r\n\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\teventKey=\"2\"\r\n\t\t\t\t\t\t\tonClick={() => setServerEmployeeArchived(props.employee.id, !props.employee.archived).then(() => {\r\n\t\t\t\t\t\t\t\tstoreUpdateEmployee(props.employee.id);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FiArchive height=\"100%\" width=\"auto\" className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\t{ props.employee.archived ? \"Izemt no arhva\" : \"Arhivt\" }\r\n\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\teventKey=\"3\"\r\n\t\t\t\t\t\t\tonClick={() => setServerEmployeeActive(props.employee.id, !props.employee.active).then(() => {\r\n\t\t\t\t\t\t\t\tstoreUpdateEmployee(props.employee.id);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\t\tprops.employee.active \r\n\t\t\t\t\t\t\t\t? <FiX height=\"100%\" width=\"auto\" className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\t\t: <FiCheck height=\"100%\" width=\"auto\" className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\t\tprops.employee.active \r\n\t\t\t\t\t\t\t\t? \"Deaktivizt\" \r\n\t\t\t\t\t\t\t\t: \"Aktivizt\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\teventKey=\"4\"\r\n\t\t\t\t\t\t\tonClick={() => props.showDeleteEmployee(props.employee)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FiTrash height=\"100%\" width=\"auto\" className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\tDzst\r\n\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\teventKey=\"5\"\r\n\t\t\t\t\t\t\tonClick={() => props.showCommentEmployee(props.employee)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FiEdit className=\"mr-2 mb-1\"/>\r\n\t\t\t\t\t\t\tPievienot Komentru\r\n\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t</Dropdown>\r\n\t\t\t</Col>\r\n\t\t\t<Col xs=\"auto\" className=\"d-inline-block\">\r\n\t\t\t\t<OverlayTrigger\r\n\t\t\t\t\tplacement={\"top\"}\r\n\t\t\t\t\toverlay={\r\n\t\t\t\t\t\t<Tooltip>\r\n\t\t\t\t\t\t\tAtzmt k {props.employee.working ? \"izgjuu\" : \"ienkuu\"}\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={() => setServerEmployeeWorking(props.employee.id, !props.employee.working).then(() => {\r\n\t\t\t\t\t\t\tstoreUpdateEmployee(props.employee.id);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\tvariant={props.employee.working ? \"danger\" : \"success\"}\r\n\t\t\t\t\t>\r\n\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tprops.employee.working \r\n\t\t\t\t\t\t\t? <FiX/>\r\n\t\t\t\t\t\t\t: <FiCheck/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</OverlayTrigger>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n};\r\n\r\nfunction mapStateToProps() {\r\n\treturn {};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowDeleteEmployee: (employee) => dispatch(showDeleteEmployee(employee)),\r\n\t\tshowEditEmployee: (employee) => dispatch(showEditEmployee(employee)),\r\n\t\tshowCommentEmployee: (employee) => dispatch(showCommentEmployee(employee)),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Commands);\r\n","import React from \"react\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport en from 'date-fns/locale/en-GB';\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nconst BoostrapDatePicker = (props) => {\r\n    return (\r\n        <div className={props.className}>\r\n            <DatePicker\r\n                className=\"text-center\"\r\n                customInput={<Form.Control/>}\r\n                locale={en}\r\n                {...props}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default BoostrapDatePicker;\r\n","import { request } from \"./config\";\r\n\r\nexport const initialSettings = {\r\n\tshowFilters: false,\r\n\tshowArchive: false,\r\n\tshowInactive: false,\r\n\tshowWorking: false,\r\n\tshowNotWorking: false,\r\n\tnameFilter: \"\",\r\n\tpositionFilter: \"\",\r\n\tcompanyFilter: \"\",\r\n\tpageSize: 10,\r\n}\r\n\r\nexport const checkSession = () => {\r\n\treturn request.post(\"/checkSession\");\r\n}\r\n\r\nexport const authenticate = (username, password, rememberMe) => {\r\n\treturn request.post(\"/authenticate\", {\r\n\t\tusername,\r\n\t\tpassword,\r\n\t\trememberMe\r\n\t});\r\n}\r\n\r\nexport const logOut = () => {\r\n\treturn request.post(\"/logOut\");\r\n}\r\n\r\nexport const getUserByUsername = (username) => {\r\n\treturn request.post(\"/getUserByUsername\", {\r\n\t\tusername\r\n\t});\r\n}\r\n\r\nexport const getUserByKey = () => {\r\n\treturn request.post(\"/getUserByKey\");\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Cookies from 'universal-cookie';\r\n\r\nimport { Form, Button, Collapse, Row, Col, Dropdown, DropdownButton } from \"react-bootstrap\";\r\nimport BoostrapDatePicker from \"./BoostrapDatePicker\";\r\n\r\nimport {\r\n\tshowRegisterEmployee,\r\n\tshowExportExcel,\r\n\tshowCheckCard\r\n} from \"../actions/employeeActions\";\r\n\r\nimport { initialSettings } from \"../utils/userUtils\";\r\n\r\nimport { FiMinimize2, FiMaximize2 } from \"react-icons/fi\";\r\n\r\nclass Filters extends React.PureComponent {\r\n    constructor() {\r\n        super();\r\n\r\n        const cookies = new Cookies();\r\n        let settings = cookies.get(\"settings\");\r\n        \r\n        const startDate = new Date();\r\n        startDate.setHours(0,0,0);\r\n\r\n        const endDate = new Date();\r\n        endDate.setHours(23,59,59);\r\n\r\n        this.state = {\r\n            ...initialSettings,\r\n            ...settings,\r\n\t\t\tdropdown: {\r\n\t\t\t\tcurrentFilter: \"odiena\",\r\n\t\t\t\tfilters: [\"odiena\", \"Vakardiena\", \"Pdjs 7 dienas\", \"Pdjs 30 dienas\"]\r\n\t\t\t}\r\n        }\r\n    }\r\n    \r\n    componentDidMount() {\r\n        this.props.filterData(this.filterData);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.filterData(undefined);\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if(\r\n\t\t\tprevState.showArchive !== this.state.showArchive\r\n\t\t\t|| prevState.showInactive !== this.state.showInactive\r\n\t\t\t|| prevState.showWorking !== this.state.showWorking\r\n\t\t\t|| prevState.showNotWorking !== this.state.showNotWorking\r\n\t\t\t|| prevState.nameFilter !== this.state.nameFilter\r\n\t\t\t|| prevState.positionFilter !== this.state.positionFilter\r\n            || prevState.companyFilter !== this.state.companyFilter\r\n            || prevState.startDate !== this.state.startDate\r\n            || prevState.endDate !== this.state.endDate) {\r\n\t\t\tthis.onFilterChange();\r\n        }\r\n        \r\n        if(\r\n\t\t\tprevState.showFilters !== this.state.showFilters\r\n\t\t\t||prevState.showArchive !== this.state.showArchive\r\n\t\t\t|| prevState.showInactive !== this.state.showInactive\r\n\t\t\t|| prevState.showWorking !== this.state.showWorking\r\n\t\t\t|| prevState.showNotWorking !== this.state.showNotWorking\r\n\t\t\t|| prevState.nameFilter !== this.state.nameFilter\r\n\t\t\t|| prevState.positionFilter !== this.state.positionFilter\r\n            || prevState.companyFilter !== this.state.companyFilter\r\n            || prevState.startDate !== this.state.startDate\r\n            || prevState.endDate !== this.state.endDate) {\r\n\t\t\tthis.saveSettings();\r\n\t\t}\r\n    }\r\n\r\n    saveSettings = () => {\r\n\t\tconst cookies = new Cookies();\r\n\t\tconst settings = {\r\n            ...cookies.get(\"settings\"),\r\n\t\t\tshowFilters: this.state.showFilters,\r\n\t\t\tshowArchive: this.state.showArchive,\r\n\t\t\tshowInactive: this.state.showInactive,\r\n\t\t\tshowWorking: this.state.showWorking,\r\n\t\t\tshowNotWorking: this.state.showNotWorking,\r\n\t\t\tnameFilter: this.state.nameFilter,\r\n\t\t\tpositionFilter: this.state.positionFilter,\r\n            companyFilter: this.state.companyFilter,\r\n            startDate: this.state.startDate,\r\n            endDate: this.state.endDate,\r\n\t\t}\r\n\r\n\t\tcookies.set(\"settings\", settings);\r\n    }\r\n\r\n    onFilterChange = () => {\r\n        this.props.onFilterChange(this.state);\r\n    }\r\n\r\n    filterData = (tableData) => {\r\n\t\tthis.applyNameFilter(tableData, (nameFilter) => {\r\n\t\t\tthis.applyPositionFilter(nameFilter, (positionFilter) => {\r\n\t\t\t\tthis.applyCompanyFilter(positionFilter, (companyFilter) => {\r\n\t\t\t\t\tthis.applyCheckboxFilters(companyFilter, (checkboxFilter) => {\r\n\t\t\t\t\t\tthis.props.onDataFiltered(checkboxFilter);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n    }\r\n    \r\n    applyNameFilter = (data, callback = () => null) => {\r\n\t\tconst result = data.filter((row) => {\r\n\t\t\treturn (row.name.name + \" \" + row.name.surname).toString().toLowerCase().indexOf(this.state.nameFilter.toLowerCase()) > -1;\r\n\t\t});\r\n\t\tcallback(result);\r\n\t}\r\n\r\n\tapplyCompanyFilter = (data, callback = () => null) => {\r\n\t\tconst result = data.filter((row) => {\r\n\t\t\tconst company = row.company ? row.company : \"\";\r\n\t\t\treturn company.toString().toLowerCase().indexOf(this.state.companyFilter.toLowerCase()) > -1;\r\n\t\t});\r\n\t\tcallback(result);\r\n\t}\r\n\r\n\tapplyPositionFilter = (data, callback = () => null) => {\r\n\t\tconst result = data.filter((row) => {\r\n\t\t\tconst position = row.position ? row.position : \"\";\r\n\t\t\treturn position.toString().toLowerCase().indexOf(this.state.positionFilter.toLowerCase()) > -1;\r\n\t\t});\r\n\t\tcallback(result);\r\n\t}\r\n\r\n\tapplyCheckboxFilters = (data, callback = () => null) => {\r\n\t\tconst result = data.filter((row) => {\r\n\t\t\tif(row.archived && !this.state.showArchive) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif(!row.active && !this.state.showInactive) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif(row.working && this.state.showNotWorking) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif(!row.working && this.state.showWorking) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\tcallback(result);\r\n\t}\r\n\r\n    onToggleFilters = () => {\r\n\t\tthis.setState({ showFilters: !this.state.showFilters });\r\n\t}\r\n\r\n    onToggleArchive = () => {\r\n\t\tthis.setState({ showArchive: !this.state.showArchive });\r\n\t}\r\n\r\n\tonToggleInactive = () => {\r\n\t\tthis.setState({ showInactive: !this.state.showInactive });\r\n\t}\r\n\r\n\tonToggleShowWorking = () => {\r\n\t\tthis.setState({ showWorking: !this.state.showWorking });\r\n\t}\r\n\r\n\tonToggleShowNotWorking = () => {\r\n\t\tthis.setState({ showNotWorking: !this.state.showNotWorking });\r\n\t}\r\n\r\n\tonChangeNameFilter = (e) => {\r\n\t\tthis.setState({ nameFilter: e.target.value });\r\n\t}\r\n\r\n\tonChangePositionFilter = (e) => {\r\n\t\tthis.setState({ positionFilter: e.target.value });\r\n\t}\r\n\r\n\tonChangeCompanyFilter = (e) => {\r\n\t\tthis.setState({ companyFilter: e.target.value });\r\n    }\r\n    \r\n    onChangeDateStart = (date) => {\r\n\t\tconst startOfDay = new Date(date);\r\n\t\tstartOfDay.setHours(0,0,0);\r\n\t\tthis.setState({\r\n\t\t\tstartDate: startOfDay,\r\n\t\t});\r\n\t}\r\n\r\n\tonChangeDateEnd = (date) => {\r\n\t\tconst endOfDay = new Date(date);\r\n\t\tendOfDay.setHours(23,59,59);\r\n\t\tthis.setState({\r\n\t\t\tendDate: endOfDay,\r\n\t\t});\r\n    }\r\n    \r\n    onClickFilter = (index) => {\r\n\t\tswitch(index) {\r\n\t\t\tcase 0: {\r\n\t\t\t\tthis.onChangeDateStart(new Date());\r\n\t\t\t\tthis.onChangeDateEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 1: {\r\n\t\t\t\tconst yesterday = new Date();\r\n\t\t\t\tyesterday.setDate(yesterday.getDate() - 1);\r\n\t\t\t\tthis.onChangeDateStart(yesterday);\r\n\t\t\t\tthis.onChangeDateEnd(yesterday);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 2: {\r\n\t\t\t\tconst last7Days = new Date();\r\n\t\t\t\tlast7Days.setDate(last7Days.getDate() - 7);\r\n\t\t\t\tthis.onChangeDateStart(last7Days);\r\n\t\t\t\tthis.onChangeDateEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 3: {\r\n\t\t\t\tconst last30Days = new Date();\r\n\t\t\t\tlast30Days.setDate(last30Days.getDate() - 30);\r\n\t\t\t\tthis.onChangeDateStart(last30Days);\r\n\t\t\t\tthis.onChangeDateEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdefault: {\r\n\t\t\t\tthis.onChangeDateStart(new Date());\r\n\t\t\t\tthis.onChangeDateEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tdropdown: {\r\n\t\t\t\t...this.state.dropdown,\r\n\t\t\t\tcurrentFilter: this.state.dropdown.filters[index],\r\n\t\t\t}\t\t\t\r\n\t\t})\r\n\t}\r\n\r\n\tclearAllFilters = () => {\r\n\t\tconst startDate = new Date();\r\n\t\tstartDate.setHours(0,0,0);\r\n\r\n\t\tconst endDate = new Date();\r\n\t\tendDate.setHours(23,59,59);\r\n\r\n\t\tthis.setState({\r\n\t\t\tnameFilter: \"\",\r\n\t\t\tpositionFilter: \"\",\r\n\t\t\tcompanyFilter: \"\",\r\n\t\t\tshowArchive: false,\r\n\t\t\tshowInactive: false,\r\n\t\t\tshowWorking: false,\r\n\t\t\tshowNotWorking: false,\r\n\t\t\tstartDate: startDate,\r\n\t\t\tendDate: endDate,\r\n\t\t});\r\n    }\r\n    \r\n\trender() {\r\n        const dateFilter = (\r\n            <>\r\n                <Col xs={\"auto\"}>\r\n                    <Form.Group as={Row}>\r\n                        <Form.Label column xs={\"auto\"} className=\"pr-0\">Dati no</Form.Label>\r\n                        <Col>\r\n                            <BoostrapDatePicker\r\n                                dateFormat=\"dd.MM.yyyy.\"\r\n                                selected={this.state.startDate}\r\n                                onChange={this.onChangeDateStart}\r\n                                maxDate={new Date()}\r\n                            />\r\n                        </Col>\r\n                    </Form.Group>\r\n                </Col>\r\n                <Col xs={\"auto\"}>\r\n                    <Form.Group as={Row}>\r\n                        <Form.Label column xs={\"auto\"} className=\"pl-0 pr-0\">ldz</Form.Label>\r\n                        <Col>\r\n                            <BoostrapDatePicker\r\n                                dateFormat=\"dd.MM.yyyy.\"\r\n                                selected={this.state.endDate}\r\n                                onChange={this.onChangeDateEnd}\r\n                                minDate={this.state.startDate}\r\n                                maxDate={new Date()}\r\n                            />\r\n                        </Col>\r\n                    </Form.Group>\r\n                </Col>\r\n                <Col xs={\"auto\"}>\r\n                    <DropdownButton\r\n                        alignRight\r\n                        variant=\"secondary\"\r\n                        title={this.state.dropdown.currentFilter}\r\n                    >\r\n                    {\r\n                        this.state.dropdown.filters.map((filter, index) => {\r\n                            return <Dropdown.Item key={index} onClick={() => this.onClickFilter(index)}>{filter}</Dropdown.Item>\r\n                        })\r\n                    }\r\n                    </DropdownButton>\r\n                </Col>\r\n            </>\r\n        );\r\n\r\n\t\treturn (\r\n            <Row>\r\n                <Col>\r\n                    <Row>\r\n                        <Col>\r\n                            <Button \r\n                                variant=\"link\" \r\n                                onClick={this.onToggleFilters}\r\n                                className=\"float-left\"\r\n                            >\r\n                                {\r\n                                    this.state.showFilters\r\n                                    ? <FiMinimize2 className=\"mr-2 mb-1\"/>\r\n                                    : <FiMaximize2 className=\"mr-2 mb-1\"/>\r\n                                }\r\n                                Filtri\r\n                            </Button>\r\n                            <Dropdown alignRight className=\"float-right\">\r\n                                <Dropdown.Toggle variant=\"link\">\r\n                                    Opcijas\r\n                                </Dropdown.Toggle>\r\n\r\n                                <Dropdown.Menu>\r\n                                    <Dropdown.Item onClick={this.props.showRegisterEmployee}>Pievienot darbinieku</Dropdown.Item>\r\n                                    <Dropdown.Item onClick={this.props.showCheckCard}>Atrast darbinieku pc kartes</Dropdown.Item>\r\n                                    <Dropdown.Item onClick={this.props.showExportExcel}>Eksportt Excel</Dropdown.Item>\r\n                                </Dropdown.Menu>\r\n                            </Dropdown>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col>\r\n                            <Collapse in={this.state.showFilters}>\r\n                                <div>\r\n                                    <Row>\r\n                                        <Col>\r\n                                            <Form.Group>\r\n                                                <Form.Check \r\n                                                    type=\"checkbox\" \r\n                                                    label=\"Rdt arhv esoos darbiniekus\"\r\n                                                    checked={this.state.showArchive}\r\n                                                    onChange={this.onToggleArchive}\r\n                                                />\r\n                                            </Form.Group>\r\n                                            <Form.Group>\r\n                                                <Form.Check \r\n                                                    type=\"checkbox\" \r\n                                                    label=\"Rdt deaktiviztus darbiniekus\"\r\n                                                    checked={this.state.showInactive}\r\n                                                    onChange={this.onToggleInactive}\r\n                                                />\r\n                                            </Form.Group>\r\n                                            <Form.Group>\r\n                                                <Form.Check \r\n                                                    type=\"checkbox\" \r\n                                                    label=\"Rdt tikai ienkuos darbiniekus\"\r\n                                                    checked={this.state.showWorking}\r\n                                                    onChange={this.onToggleShowWorking}\r\n                                                />\r\n                                            </Form.Group>\r\n                                            <Form.Group>\r\n                                                <Form.Check \r\n                                                    type=\"checkbox\" \r\n                                                    label=\"Rdt tikai izgjuos darbiniekus\"\r\n                                                    checked={this.state.showNotWorking}\r\n                                                    onChange={this.onToggleShowNotWorking}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </Col>\r\n                                        <Col>\r\n                                            <Form.Group>\r\n                                                <Form.Control\r\n                                                    placeholder=\"Vrds...\"\r\n                                                    onChange={this.onChangeNameFilter}\r\n                                                    value={this.state.nameFilter}\r\n                                                />\r\n                                                <Form.Text>\r\n                                                    Meklt darbinieku pc vrda vai uzvrda\r\n                                                </Form.Text>\r\n                                            </Form.Group>\r\n                                            <Form.Group>\r\n                                                <Form.Control\r\n                                                    placeholder=\"Amats...\"\r\n                                                    onChange={this.onChangePositionFilter}\r\n                                                    value={this.state.positionFilter}\r\n                                                />\r\n                                                <Form.Text>\r\n                                                    Meklt darbinieku pc amata\r\n                                                </Form.Text>\r\n                                            </Form.Group>\r\n                                            <Form.Group>\r\n                                                <Form.Control\r\n                                                    placeholder=\"Uzmums...\"\r\n                                                    onChange={this.onChangeCompanyFilter}\r\n                                                    value={this.state.companyFilter}\r\n                                                />\r\n                                                <Form.Text>\r\n                                                    Meklt darbinieku pc uzmuma\r\n                                                </Form.Text>\r\n                                            </Form.Group>\r\n                                        </Col>\r\n                                    </Row>\r\n                                    <Row className=\"mb-2\">\r\n                                        {\r\n                                            this.props.dateFilter\r\n                                            ? dateFilter\r\n                                            : null\r\n                                        }\r\n                                        <Col>\r\n                                            <Button\r\n                                                variant=\"danger\"\r\n                                                onClick={this.clearAllFilters}\r\n                                                className=\"float-right\"\r\n                                            >\r\n                                                <nobr>Notrt visus filtrus</nobr>\r\n                                            </Button>\r\n                                        </Col>\r\n                                    </Row>\r\n                                    <hr/>\r\n                                </div>\r\n                            </Collapse>\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowRegisterEmployee: () => dispatch(showRegisterEmployee()),\r\n\t\tshowExportExcel: () => dispatch(showExportExcel()),\r\n\t\tshowCheckCard: () => dispatch(showCheckCard())\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Filters);\r\n","import { request } from \"./config\";\r\n\r\nexport const pingServer = () => {\r\n\treturn request.post(\"/ping\");\r\n}\r\n\r\nexport const addZero = (i) => {\r\n\tif (i < 10) {\r\n\t\ti = \"0\" + i;\r\n\t}\r\n\treturn i;\r\n}\r\n\r\nexport const millisecondConverter = (ms) => {\r\n\tlet seconds = Math.floor(ms/1000);\r\n\tlet minutes = Math.floor(seconds/60);\r\n\tlet hours = Math.floor(minutes/60);\r\n\r\n\tminutes = minutes-(hours*60);\r\n\tseconds = seconds-(hours*60*60)-(minutes*60);\r\n\r\n\treturn {\r\n\t\tseconds,\r\n\t\tminutes,\r\n\t\thours\r\n\t}\r\n}\r\n\r\nexport const daysInMonth = (month, year) => {\r\n    return new Date(year, month + 1, 0).getDate();\r\n}\r\n\r\nexport const getMonthName = (month) => {\r\n\tconst months = [\r\n\t\t\"Janvris\",\r\n\t\t\"Februris\",\r\n\t\t\"Marts\",\r\n\t\t\"Aprlis\",\r\n\t\t\"Maijs\",\r\n\t\t\"Jnijs\",\r\n\t\t\"Jlijs\",\r\n\t\t\"Augusts\",\r\n\t\t\"Septembris\",\r\n\t\t\"Oktobris\",\r\n\t\t\"Novembris\",\r\n\t\t\"Decembris\"\r\n\t];\r\n\r\n\treturn months[month];\r\n}\r\n\r\nexport const isWeekend = (date) => {\r\n\tconst day = date.getDay();\r\n\treturn ((day === 5) || (day === 6));\r\n}\r\n\r\nexport const convertSpecialCharacters = (string) => {\r\n\tconst special = [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"];\r\n\tconst normal = [\"A\", \"C\", \"E\", \"G\", \"I\", \"K\", \"L\", \"N\", \"S\", \"U\", \"Z\"];\r\n\r\n\tlet output = \"\";\r\n\tfor (let i = 0; i < string.length; i++) {\r\n\t\tconst letter = string.toUpperCase().charAt(i);\r\n\t\tif(special.indexOf(letter) !== -1) {\r\n\t\t\toutput += normal[special.indexOf(letter)]; \r\n\t\t} else {\r\n\t\t\toutput += letter;\r\n\t\t}\r\n\t}\r\n\treturn output;\r\n}\r\n\r\nexport const getDifference = (a, b) => {\r\n    let i = 0;\r\n    let j = 0;\r\n    let result = \"\";\r\n\r\n    while (j < b.length)\r\n    {\r\n        if (a[i] !== b[j] || i === a.length)\r\n            result += b[j];\r\n        else\r\n            i++;\r\n        j++;\r\n    }\r\n    return result;\r\n}\r\n\r\nexport const keyboardMap = [\r\n\t\"\", // [0]\r\n\t\"\", // [1]\r\n\t\"\", // [2]\r\n\t\"CANCEL\", // [3]\r\n\t\"\", // [4]\r\n\t\"\", // [5]\r\n\t\"HELP\", // [6]\r\n\t\"\", // [7]\r\n\t\"BACK_SPACE\", // [8]\r\n\t\"TAB\", // [9]\r\n\t\"\", // [10]\r\n\t\"\", // [11]\r\n\t\"CLEAR\", // [12]\r\n\t\"ENTER\", // [13]\r\n\t\"ENTER_SPECIAL\", // [14]\r\n\t\"\", // [15]\r\n\t\"SHIFT\", // [16]\r\n\t\"CONTROL\", // [17]\r\n\t\"ALT\", // [18]\r\n\t\"PAUSE\", // [19]\r\n\t\"CAPS_LOCK\", // [20]\r\n\t\"KANA\", // [21]\r\n\t\"EISU\", // [22]\r\n\t\"JUNJA\", // [23]\r\n\t\"FINAL\", // [24]\r\n\t\"HANJA\", // [25]\r\n\t\"\", // [26]\r\n\t\"ESCAPE\", // [27]\r\n\t\"CONVERT\", // [28]\r\n\t\"NONCONVERT\", // [29]\r\n\t\"ACCEPT\", // [30]\r\n\t\"MODECHANGE\", // [31]\r\n\t\"SPACE\", // [32]\r\n\t\"PAGE_UP\", // [33]\r\n\t\"PAGE_DOWN\", // [34]\r\n\t\"END\", // [35]\r\n\t\"HOME\", // [36]\r\n\t\"LEFT\", // [37]\r\n\t\"UP\", // [38]\r\n\t\"RIGHT\", // [39]\r\n\t\"DOWN\", // [40]\r\n\t\"SELECT\", // [41]\r\n\t\"PRINT\", // [42]\r\n\t\"EXECUTE\", // [43]\r\n\t\"PRINTSCREEN\", // [44]\r\n\t\"INSERT\", // [45]\r\n\t\"DELETE\", // [46]\r\n\t\"\", // [47]\r\n\t\"0\", // [48]\r\n\t\"1\", // [49]\r\n\t\"2\", // [50]\r\n\t\"3\", // [51]\r\n\t\"4\", // [52]\r\n\t\"5\", // [53]\r\n\t\"6\", // [54]\r\n\t\"7\", // [55]\r\n\t\"8\", // [56]\r\n\t\"9\", // [57]\r\n\t\"COLON\", // [58]\r\n\t\"SEMICOLON\", // [59]\r\n\t\"LESS_THAN\", // [60]\r\n\t\"EQUALS\", // [61]\r\n\t\"GREATER_THAN\", // [62]\r\n\t\"QUESTION_MARK\", // [63]\r\n\t\"AT\", // [64]\r\n\t\"A\", // [65]\r\n\t\"B\", // [66]\r\n\t\"C\", // [67]\r\n\t\"D\", // [68]\r\n\t\"E\", // [69]\r\n\t\"F\", // [70]\r\n\t\"G\", // [71]\r\n\t\"H\", // [72]\r\n\t\"I\", // [73]\r\n\t\"J\", // [74]\r\n\t\"K\", // [75]\r\n\t\"L\", // [76]\r\n\t\"M\", // [77]\r\n\t\"N\", // [78]\r\n\t\"O\", // [79]\r\n\t\"P\", // [80]\r\n\t\"Q\", // [81]\r\n\t\"R\", // [82]\r\n\t\"S\", // [83]\r\n\t\"T\", // [84]\r\n\t\"U\", // [85]\r\n\t\"V\", // [86]\r\n\t\"W\", // [87]\r\n\t\"X\", // [88]\r\n\t\"Y\", // [89]\r\n\t\"Z\", // [90]\r\n\t\"OS_KEY\", // [91] Windows Key (Windows) or Command Key (Mac)\r\n\t\"\", // [92]\r\n\t\"CONTEXT_MENU\", // [93]\r\n\t\"\", // [94]\r\n\t\"SLEEP\", // [95]\r\n\t\"NUMPAD0\", // [96]\r\n\t\"NUMPAD1\", // [97]\r\n\t\"NUMPAD2\", // [98]\r\n\t\"NUMPAD3\", // [99]\r\n\t\"NUMPAD4\", // [100]\r\n\t\"NUMPAD5\", // [101]\r\n\t\"NUMPAD6\", // [102]\r\n\t\"NUMPAD7\", // [103]\r\n\t\"NUMPAD8\", // [104]\r\n\t\"NUMPAD9\", // [105]\r\n\t\"MULTIPLY\", // [106]\r\n\t\"ADD\", // [107]\r\n\t\"SEPARATOR\", // [108]\r\n\t\"SUBTRACT\", // [109]\r\n\t\"DECIMAL\", // [110]\r\n\t\"DIVIDE\", // [111]\r\n\t\"F1\", // [112]\r\n\t\"F2\", // [113]\r\n\t\"F3\", // [114]\r\n\t\"F4\", // [115]\r\n\t\"F5\", // [116]\r\n\t\"F6\", // [117]\r\n\t\"F7\", // [118]\r\n\t\"F8\", // [119]\r\n\t\"F9\", // [120]\r\n\t\"F10\", // [121]\r\n\t\"F11\", // [122]\r\n\t\"F12\", // [123]\r\n\t\"F13\", // [124]\r\n\t\"F14\", // [125]\r\n\t\"F15\", // [126]\r\n\t\"F16\", // [127]\r\n\t\"F17\", // [128]\r\n\t\"F18\", // [129]\r\n\t\"F19\", // [130]\r\n\t\"F20\", // [131]\r\n\t\"F21\", // [132]\r\n\t\"F22\", // [133]\r\n\t\"F23\", // [134]\r\n\t\"F24\", // [135]\r\n\t\"\", // [136]\r\n\t\"\", // [137]\r\n\t\"\", // [138]\r\n\t\"\", // [139]\r\n\t\"\", // [140]\r\n\t\"\", // [141]\r\n\t\"\", // [142]\r\n\t\"\", // [143]\r\n\t\"NUM_LOCK\", // [144]\r\n\t\"SCROLL_LOCK\", // [145]\r\n\t\"WIN_OEM_FJ_JISHO\", // [146]\r\n\t\"WIN_OEM_FJ_MASSHOU\", // [147]\r\n\t\"WIN_OEM_FJ_TOUROKU\", // [148]\r\n\t\"WIN_OEM_FJ_LOYA\", // [149]\r\n\t\"WIN_OEM_FJ_ROYA\", // [150]\r\n\t\"\", // [151]\r\n\t\"\", // [152]\r\n\t\"\", // [153]\r\n\t\"\", // [154]\r\n\t\"\", // [155]\r\n\t\"\", // [156]\r\n\t\"\", // [157]\r\n\t\"\", // [158]\r\n\t\"\", // [159]\r\n\t\"CIRCUMFLEX\", // [160]\r\n\t\"EXCLAMATION\", // [161]\r\n\t\"DOUBLE_QUOTE\", // [162]\r\n\t\"HASH\", // [163]\r\n\t\"DOLLAR\", // [164]\r\n\t\"PERCENT\", // [165]\r\n\t\"AMPERSAND\", // [166]\r\n\t\"UNDERSCORE\", // [167]\r\n\t\"OPEN_PAREN\", // [168]\r\n\t\"CLOSE_PAREN\", // [169]\r\n\t\"ASTERISK\", // [170]\r\n\t\"PLUS\", // [171]\r\n\t\"PIPE\", // [172]\r\n\t\"HYPHEN_MINUS\", // [173]\r\n\t\"OPEN_CURLY_BRACKET\", // [174]\r\n\t\"CLOSE_CURLY_BRACKET\", // [175]\r\n\t\"TILDE\", // [176]\r\n\t\"\", // [177]\r\n\t\"\", // [178]\r\n\t\"\", // [179]\r\n\t\"\", // [180]\r\n\t\"VOLUME_MUTE\", // [181]\r\n\t\"VOLUME_DOWN\", // [182]\r\n\t\"VOLUME_UP\", // [183]\r\n\t\"\", // [184]\r\n\t\"\", // [185]\r\n\t\"SEMICOLON\", // [186]\r\n\t\"EQUALS\", // [187]\r\n\t\"COMMA\", // [188]\r\n\t\"MINUS\", // [189]\r\n\t\"PERIOD\", // [190]\r\n\t\"SLASH\", // [191]\r\n\t\"BACK_QUOTE\", // [192]\r\n\t\"\", // [193]\r\n\t\"\", // [194]\r\n\t\"\", // [195]\r\n\t\"\", // [196]\r\n\t\"\", // [197]\r\n\t\"\", // [198]\r\n\t\"\", // [199]\r\n\t\"\", // [200]\r\n\t\"\", // [201]\r\n\t\"\", // [202]\r\n\t\"\", // [203]\r\n\t\"\", // [204]\r\n\t\"\", // [205]\r\n\t\"\", // [206]\r\n\t\"\", // [207]\r\n\t\"\", // [208]\r\n\t\"\", // [209]\r\n\t\"\", // [210]\r\n\t\"\", // [211]\r\n\t\"\", // [212]\r\n\t\"\", // [213]\r\n\t\"\", // [214]\r\n\t\"\", // [215]\r\n\t\"\", // [216]\r\n\t\"\", // [217]\r\n\t\"\", // [218]\r\n\t\"OPEN_BRACKET\", // [219]\r\n\t\"BACK_SLASH\", // [220]\r\n\t\"CLOSE_BRACKET\", // [221]\r\n\t\"QUOTE\", // [222]\r\n\t\"\", // [223]\r\n\t\"META\", // [224]\r\n\t\"ALTGR\", // [225]\r\n\t\"\", // [226]\r\n\t\"WIN_ICO_HELP\", // [227]\r\n\t\"WIN_ICO_00\", // [228]\r\n\t\"\", // [229]\r\n\t\"WIN_ICO_CLEAR\", // [230]\r\n\t\"\", // [231]\r\n\t\"\", // [232]\r\n\t\"WIN_OEM_RESET\", // [233]\r\n\t\"WIN_OEM_JUMP\", // [234]\r\n\t\"WIN_OEM_PA1\", // [235]\r\n\t\"WIN_OEM_PA2\", // [236]\r\n\t\"WIN_OEM_PA3\", // [237]\r\n\t\"WIN_OEM_WSCTRL\", // [238]\r\n\t\"WIN_OEM_CUSEL\", // [239]\r\n\t\"WIN_OEM_ATTN\", // [240]\r\n\t\"WIN_OEM_FINISH\", // [241]\r\n\t\"WIN_OEM_COPY\", // [242]\r\n\t\"WIN_OEM_AUTO\", // [243]\r\n\t\"WIN_OEM_ENLW\", // [244]\r\n\t\"WIN_OEM_BACKTAB\", // [245]\r\n\t\"ATTN\", // [246]\r\n\t\"CRSEL\", // [247]\r\n\t\"EXSEL\", // [248]\r\n\t\"EREOF\", // [249]\r\n\t\"PLAY\", // [250]\r\n\t\"ZOOM\", // [251]\r\n\t\"\", // [252]\r\n\t\"PA1\", // [253]\r\n\t\"WIN_OEM_CLEAR\", // [254]\r\n\t\"\" // [255]\r\n];\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nimport Cookies from 'universal-cookie';\r\n\r\nimport { Badge, Button, Row, Col, Dropdown, OverlayTrigger, Popover } from \"react-bootstrap\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\r\n\r\nimport ContainerBox from \"./ContainerBox\";\r\nimport Commands from \"./Commands\";\r\nimport Filters from \"./Filters\";\r\n\r\nimport {\r\n\tshowRegisterEmployee,\r\n\tshowExportExcel,\r\n\tshowCheckCard,\r\n\tshowEmployeeWorkLog\r\n} from \"../actions/employeeActions\";\r\n\r\nimport {\r\n\tstoreUpdateEmployee,\r\n\tdeleteEmployeeComment,\r\n} from \"../utils/employeeUtils\";\r\nimport { addZero, millisecondConverter, convertSpecialCharacters } from \"../utils/commonUtils\";\r\n\r\nimport { FiUser, FiMessageSquare, FiXCircle } from \"react-icons/fi\";\r\n\r\nclass Employees extends React.Component {\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tconst cookies = new Cookies();\r\n\t\tlet settings = cookies.get(\"settings\");\r\n\r\n\t\tif(!settings) {\r\n\t\t\tsettings = {\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t}\r\n\r\n\t\t\tcookies.set(\"settings\", settings);\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\tworkLogUserId: null,\r\n\t\t\tshowWorkLogModal: false,\r\n\t\t\ttableData: [],\r\n\t\t\tpageSize: 10,\r\n\t\t\t...settings\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.onTableChange();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif(prevProps.employees !== this.props.employees) {\r\n\t\t\tthis.onTableChange();\r\n\t\t}\r\n\r\n\t\tif(prevState.pageSize !== this.state.pageSize) {\r\n\t\t\tthis.saveSettings();\r\n\t\t}\r\n\t}\r\n\r\n\tsaveSettings = () => {\r\n\t\tconst cookies = new Cookies();\r\n\t\tconst settings = {\r\n\t\t\t...cookies.get(\"settings\"),\r\n\t\t\tpageSize: this.state.pageSize,\r\n\t\t}\r\n\r\n\t\tcookies.set(\"settings\", settings);\r\n\t}\r\n\r\n\tonTableChange = () => {\r\n\t\tthis.formatTable((tableData) => {\r\n\t\t\tthis.filterData(tableData);\r\n\t\t});\r\n\t}\r\n\r\n\tonFilterChange = () => {\r\n\t\tthis.onTableChange();\r\n\t}\r\n\r\n\tonDataFiltered = (data) => {\r\n\t\tthis.setState({\r\n\t\t\ttableData: data\r\n\t\t});\r\n\t}\r\n\r\n\tformatTable = (callback = () => null) => {\r\n\t\tconst workLogFrom = new Date();\r\n\t\tworkLogFrom.setHours(0, 0, 0);\r\n\r\n\t\tconst workLogTo = new Date();\r\n\t\tworkLogTo.setHours(23, 59, 59);\r\n\r\n\t\tconst promise = this.props.employees.map((employee) => {\r\n\t\t\tconst workLogToday = [];\r\n\t\t\temployee.workLog.forEach((workLog) => {\r\n\t\t\t\tif(new Date(workLog.start_time).getTime() >= workLogFrom.getTime() && new Date(workLog.start_time).getTime() <= workLogTo.getTime()) {\r\n\t\t\t\t\treturn workLogToday.push(workLog);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\treturn({\r\n\t\t\t\tid: employee.id,\r\n\t\t\t\tposition: employee.position ? employee.position.toString() : \"\",\r\n\t\t\t\tcompany: employee.company ? employee.company.toString() : \"\",\r\n\t\t\t\tarchived: employee.archived,\r\n\t\t\t\tactive: employee.active,\r\n\t\t\t\tworking: employee.working,\r\n\t\t\t\tname: {\r\n\t\t\t\t\tid: employee.id,\r\n\t\t\t\t\tname: employee.name,\r\n\t\t\t\t\tsurname: employee.surname,\r\n\t\t\t\t\tworking: employee.working,\r\n\t\t\t\t\tcomments: employee.comments,\r\n\t\t\t\t},\r\n\t\t\t\ttoday: {\r\n\t\t\t\t\tworking: employee.working,\r\n\t\t\t\t\tworkLogs: workLogToday,\r\n\t\t\t\t},\r\n\t\t\t\tcommands: employee,\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tPromise.all(promise).then((data) => {\r\n\t\t\tcallback(data);\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst nameFormatter = (cell, row) => {\r\n\t\t\tconst commentBorderStyle = {\r\n\t\t\t\tborderBottom: \"solid 1px gray\"\r\n\t\t\t}\r\n\r\n\t\t\tconst comments = cell.comments.length \r\n\t\t\t? cell.comments.map((comment, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Row \r\n\t\t\t\t\t\tkey={index} \r\n\t\t\t\t\t\tstyle={index < cell.comments.length - 1 ? commentBorderStyle : null} \r\n\t\t\t\t\t\tclassName=\"ml-1 mr-1 pt-1 pb-2\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Col className=\"align-self-center\">\r\n\t\t\t\t\t\t\t<span>{comment.text}</span>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs=\"auto\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tsize={\"sm\"}\r\n\t\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\t\tonClick={() => deleteEmployeeComment(comment.id).then(() => {\r\n\t\t\t\t\t\t\t\t\tstoreUpdateEmployee(cell.id);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FiXCircle className=\"mb-1\" />\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t\t: null;\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<nobr>\r\n\t\t\t\t\t\t<Badge \r\n\t\t\t\t\t\t\tstyle={{ fontSize: \"14px\" }}\r\n\t\t\t\t\t\t\tvariant={ cell.working ? \"success\" : \"danger\" }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FiUser/>\r\n\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\tvariant=\"link\" \r\n\t\t\t\t\t\t\tonClick={() => this.props.showEmployeeWorkLog(cell.id)}\r\n\t\t\t\t\t\t\tstyle={{ color: \"#0000FF\" }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{cell.surname + \" \" + cell.name}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcell.comments.length\r\n\t\t\t\t\t\t\t? \r\n\t\t\t\t\t\t\t<OverlayTrigger\r\n\t\t\t\t\t\t\t\ttrigger=\"click\"\r\n\t\t\t\t\t\t\t\trootClose\r\n\t\t\t\t\t\t\t\tplacement=\"bottom\"\r\n\t\t\t\t\t\t\t\toverlay={\r\n\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t{comments}\r\n\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tsize={\"sm\"}\r\n\t\t\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<FiMessageSquare/>\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t: \r\n\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</nobr>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\tconst companyFormatter = (cell, row) => {\r\n\t\t\treturn (\r\n\t\t\t\t<span className=\"d-none d-md-inline-block text-truncate\" style={{ maxWidth: \"14vw\" }}>\r\n\t\t\t\t\t{cell}\r\n\t\t\t\t</span>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tconst todayFormatter = (cell, row) => {\r\n\t\t\tlet badges = [];\r\n\t\t\tlet totalWorkTime = 0;\r\n\t\t\tlet totalWorkTimeConverted = {\r\n\t\t\t\thours: 0,\r\n\t\t\t\tminutes: 0,\r\n\t\t\t\tseconds: 0\r\n\t\t\t};\r\n\r\n\t\t\tcell.workLogs.forEach((workLog, index) => {\r\n\t\t\t\tlet workTime = 0;\r\n\t\t\t\tlet workTimeConverted = {\r\n\t\t\t\t\thours: 0,\r\n\t\t\t\t\tminutes: 0,\r\n\t\t\t\t\tseconds: 0\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif(workLog.end_time === null) {\r\n\t\t\t\t\tworkLog.end_time = new Date();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Calculate each row data\r\n\t\t\t\tworkTime = new Date(workLog.end_time) - new Date(workLog.start_time);\r\n\t\t\t\tworkTimeConverted = millisecondConverter(workTime);\r\n\r\n\t\t\t\tconst workTimeStartFormatted =\r\n\t\t\t\t\t  addZero(new Date(workLog.start_time).getHours()) + \":\" \r\n\t\t\t\t\t+ addZero(new Date(workLog.start_time).getMinutes());\r\n\t\t\t\t\r\n\t\t\t\tconst workTimeEndFormatted =\r\n\t\t\t\t\t  addZero(new Date(workLog.end_time).getHours()) + \":\" \r\n\t\t\t\t\t+ addZero(new Date(workLog.end_time).getMinutes());\r\n\t\r\n\t\t\t\tconst workTimeFormatted =\r\n\t\t\t\t\tworkTimeConverted.hours + \" st. \" \r\n\t\t\t\t\t+ workTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\t// Calculate the total\r\n\t\t\t\ttotalWorkTime += new Date(workLog.end_time) - new Date(workLog.start_time);\r\n\t\t\t\ttotalWorkTimeConverted = millisecondConverter(totalWorkTime);\r\n\r\n\t\t\t\t// Each work log entry formatted and applied in HTML format\r\n\t\t\t\tbadges.push(\r\n\t\t\t\t\t<Row key={index} style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t\t<Col xs={6}>\r\n\t\t\t\t\t\t\t<nobr>\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{workTimeStartFormatted}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tcell.working && index === cell.workLogs.length - 1\r\n\t\t\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t\t\t: <span>\r\n\t\t\t\t\t\t\t\t\t\t&#8594; {workTimeEndFormatted}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</nobr>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs={\"auto\"} className=\"text-center\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tworkTimeFormatted !== null\r\n\t\t\t\t\t\t\t\t? <span>\r\n\t\t\t\t\t\t\t\t\t{workTimeFormatted}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\t\t//Total row formatted\r\n\t\t\tif(badges.length) {\r\n\t\t\t\tconst totalWorkTimeFormatted =\r\n\t\t\t\ttotalWorkTimeConverted.hours + \" st. \" \r\n\t\t\t\t+ totalWorkTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\tbadges.push(\r\n\t\t\t\t\t<Row key={badges.length} style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t\t<Col xs={6}>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs={\"auto\"} className=\"text-center\" style={{ borderTop: \"solid 1px\" }}>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttotalWorkTimeFormatted !== null\r\n\t\t\t\t\t\t\t\t? <span>\r\n\t\t\t\t\t\t\t\t\t<b>{totalWorkTimeFormatted}</b>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn (badges);\r\n\t\t};\r\n\r\n\t\tconst commandFormatter = (cell, row) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Commands employee={cell}/>\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\tconst columns = [{\r\n\t\t\tdataField: \"id\",\r\n\t\t\ttext: \"#\",\r\n\t\t\tsort: true,\r\n\t\t\tclasses: \"align-middle d-none d-md-table-cell\",\r\n\t\t\theaderClasses: \"d-none d-md-table-cell\",\r\n\t\t\t// hidden: true,\r\n\t\t}, {\r\n\t\t\tdataField: \"name\",\r\n\t\t\ttext: \"Darbinieks\",\r\n\t\t\tsort: true,\r\n\t\t\tsortFunc: (a, b, order) => {\r\n\t\t\t\tif(convertSpecialCharacters(a.surname) < convertSpecialCharacters(b.surname)) {\r\n\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t} else if(convertSpecialCharacters(a.surname) > convertSpecialCharacters(b.surname)) {\r\n\t\t\t\t\treturn order === \"asc\" ? 1 : -1;\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\tformatter: nameFormatter,\r\n\t\t}, {\r\n\t\t\tdataField: \"company\",\r\n\t\t\ttext: \"Uzmums\",\r\n\t\t\tsort: true,\r\n\t\t\tclasses: \"align-middle d-none d-lg-table-cell\",\r\n\t\t\theaderClasses: \"d-none d-lg-table-cell\",\r\n\t\t\tformatter: companyFormatter\r\n\t\t}, {\r\n\t\t\tdataField: \"position\",\r\n\t\t\ttext: \"Amats\",\r\n\t\t\tsort: true,\r\n\t\t\tclasses: \"align-middle d-none d-lg-table-cell\",\r\n\t\t\theaderClasses: \"d-none d-lg-table-cell\",\r\n\t\t\tformatter: companyFormatter\r\n\t\t}, {\r\n\t\t\tdataField: \"today\",\r\n\t\t\ttext: \"odien\",\r\n\t\t\tsort: true,\r\n\t\t\tsortFunc: (a, b, order) => {\r\n\t\t\t\tif(a.workLogs.length && b.workLogs.length) {\r\n\t\t\t\t\tconst aData = a.working\r\n\t\t\t\t\t? new Date(a.workLogs[a.workLogs.length - 1].start_time)\r\n\t\t\t\t\t: new Date(a.workLogs[a.workLogs.length - 1].end_time);\r\n\r\n\t\t\t\t\tconst bData = b.working\r\n\t\t\t\t\t? new Date(b.workLogs[b.workLogs.length - 1].start_time)\r\n\t\t\t\t\t: new Date(b.workLogs[b.workLogs.length - 1].end_time);\r\n\r\n\t\t\t\t\tif(aData > bData) {\r\n\t\t\t\t\t\treturn order === \"asc\" ? 1 : -1;\r\n\t\t\t\t\t} else if(aData < bData) {\r\n\t\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If there are no work logs for today\r\n\t\t\t\tif(!a.workLogs.length) {\r\n\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\tformatter: todayFormatter\r\n\t\t}, {\r\n\t\t\tdataField: \"commands\",\r\n\t\t\ttext: \"\",\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\tformatter: commandFormatter\r\n\t\t}];\r\n\r\n\t\tconst defaultSorted = [{\r\n\t\t\tdataField: \"name\",\r\n\t\t\torder: \"asc\"\r\n\t\t}];\r\n\r\n\t\tconst onClickPageSize = (option) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tpageSize: option.page\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tconst sizePerPageRenderer = ({\r\n\t\t\toptions,\r\n\t\t\tcurrSizePerPage,\r\n\t\t\tonSizePerPageChange\r\n\t\t}) => (\r\n\t\t\t<Dropdown className=\"d-inline pr-2\">\r\n\t\t\t\t<Dropdown.Toggle variant=\"primary\">\r\n\t\t\t\t\t{this.state.pageSize === 9999 ? \"Viss\" : this.state.pageSize}\r\n\t\t\t\t</Dropdown.Toggle>\r\n\r\n\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\toptions.map((option, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\t\t\tkey={index} \r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tonClickPageSize(option);\r\n\t\t\t\t\t\t\t\t\t\tonSizePerPageChange(option.page);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.text}\r\n\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</Dropdown.Menu>\r\n\t\t\t</Dropdown>\r\n\t\t);\r\n\r\n\t\tconst pagination = paginationFactory({\r\n\t\t\tpage: 1,\r\n\t\t\talwaysShowAllBtns: true,\r\n\t\t\tshowTotal: false,\r\n\t\t\tsizePerPage : this.state.pageSize,\r\n\t\t\tsizePerPageRenderer,\r\n\t\t\tsizePerPageList: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"10\",\r\n\t\t\t\t\tvalue: 10,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"25\",\r\n\t\t\t\t\tvalue: 25,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"50\",\r\n\t\t\t\t\tvalue: 50,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"100\",\r\n\t\t\t\t\tvalue: 100,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"Viss\",\r\n\t\t\t\t\tvalue: 9999,\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\r\n\t\tconst rowStyle = (row) => {\r\n\t\t\tif(!row.active) {\r\n\t\t\t\treturn { backgroundColor: \"rgba(255, 0, 0, 0.1)\" };\r\n\t\t\t}\r\n\r\n\t\t\tif(row.archived) {\r\n\t\t\t\treturn { backgroundColor: \"rgba(255, 255, 0, 0.1)\" };\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<ContainerBox header={\"Darbinieki\"}>\r\n\t\t\t\t<Filters \r\n\t\t\t\t\tonDataFiltered={this.onDataFiltered}\r\n\t\t\t\t\tonFilterChange={this.onFilterChange}\r\n\t\t\t\t\tfilterData={filterData => this.filterData = filterData}\r\n\t\t\t\t/>\r\n\t\t\t\t<BootstrapTable \r\n\t\t\t\t\tbootstrap4={ true }\r\n\t\t\t\t\tkeyField=\"id\"\r\n\t\t\t\t\tdata={ this.state.tableData } \r\n\t\t\t\t\tcolumns={ columns } \r\n\t\t\t\t\tbordered={ false }\r\n\t\t\t\t\thover={ true }\r\n\t\t\t\t\tdefaultSorted={ defaultSorted }\r\n\t\t\t\t\tremote={ { filter: true } }\r\n\t\t\t\t\tonTableChange={ this.onTableChange }\r\n\t\t\t\t\tpagination={ pagination }\r\n\t\t\t\t\trowStyle={ rowStyle }\r\n\t\t\t\t/>\r\n\t\t\t</ContainerBox>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\temployees: state.employees.employees,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowRegisterEmployee: () => dispatch(showRegisterEmployee()),\r\n\t\tshowExportExcel: () => dispatch(showExportExcel()),\r\n\t\tshowCheckCard: () => dispatch(showCheckCard()),\r\n\t\tshowEmployeeWorkLog: (id) => dispatch(showEmployeeWorkLog(id))\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Employees);\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nimport Cookies from 'universal-cookie';\r\n\r\nimport { Button, Row, Col, Dropdown } from \"react-bootstrap\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\r\n\r\nimport ContainerBox from \"./ContainerBox\";\r\nimport Filters from \"./Filters\";\r\n\r\nimport {\r\n\tshowEmployeeWorkLog,\r\n\tshowExportExcel\r\n} from \"../actions/employeeActions\";\r\n\r\nimport { addZero, millisecondConverter, convertSpecialCharacters } from \"../utils/commonUtils\";\r\n\r\nimport { FiUser } from \"react-icons/fi\";\r\n\r\nclass Employees extends React.Component {\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tconst cookies = new Cookies();\r\n\t\tlet settings = cookies.get(\"settings\");\r\n\r\n\t\tconst startDate = new Date();\r\n        startDate.setHours(0,0,0);\r\n\r\n        const endDate = new Date();\r\n        endDate.setHours(23,59,59);\r\n\r\n\t\tif(settings) {\r\n\t\t\tsettings = {\r\n                ...settings,\r\n\t\t\t\tstartDate: settings.startDate ? new Date(settings.startDate) : new Date(startDate),\r\n\t\t\t\tendDate: settings.endDate ? new Date(settings.endDate) : new Date(endDate),\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tsettings = {\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t}\r\n\r\n\t\t\tcookies.set(\"settings\", settings);\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\tworkLogUserId: null,\r\n\t\t\tshowWorkLogModal: false,\r\n\t\t\ttableData: [],\r\n\t\t\tpageSize: 10,\r\n\t\t\t...settings,\r\n\t\t\tdropdown: {\r\n\t\t\t\tcurrentFilter: \"odiena\",\r\n\t\t\t\tfilters: [\"odiena\", \"Vakardiena\", \"Pdjs 7 dienas\", \"Pdjs 30 dienas\"]\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.onTableChange();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif(prevProps.employees !== this.props.employees) {\r\n\t\t\tthis.onTableChange();\r\n\t\t}\r\n\r\n\t\tif(prevState.pageSize !== this.state.pageSize) {\r\n\t\t\tthis.saveSettings();\r\n\t\t}\r\n\t}\r\n\r\n\tsaveSettings = () => {\r\n\t\tconst cookies = new Cookies();\r\n\t\tconst settings = {\r\n\t\t\t...cookies.get(\"settings\"),\r\n\t\t\tpageSize: this.state.pageSize,\r\n\t\t}\r\n\r\n\t\tcookies.set(\"settings\", settings);\r\n\t}\r\n\r\n\tonTableChange = () => {\r\n\t\tthis.formatTable((tableData) => {\r\n\t\t\tthis.filterData(tableData);\r\n\t\t});\r\n\t}\r\n\r\n\tonFilterChange = (filters) => {\r\n\t\tthis.setState({\r\n\t\t\tstartDate: filters.startDate,\r\n\t\t\tendDate: filters.endDate,\r\n\t\t}, () => {\r\n\t\t\tthis.onTableChange();\r\n\t\t});\r\n\t}\r\n\r\n\tonDataFiltered = (data) => {\r\n\t\tthis.setState({\r\n\t\t\ttableData: data\r\n\t\t});\r\n\t}\r\n\r\n\tformatTable = (callback = () => null) => {\r\n\t\tconst workLogFrom = new Date(this.state.startDate);\r\n\t\tconst workLogTo = new Date(this.state.endDate);\r\n\r\n\t\tconst promise = this.props.employees.map((employee) => {\r\n\t\t\tconst workLogToday = [];\r\n\t\t\temployee.workLog.forEach((workLog) => {\r\n\t\t\t\tif(new Date(workLog.start_time).getTime() >= workLogFrom.getTime() && new Date(workLog.start_time).getTime() <= workLogTo.getTime()) {\r\n\t\t\t\t\treturn workLogToday.push(workLog);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\treturn({\r\n\t\t\t\tid: employee.id,\r\n\t\t\t\tposition: employee.position ? employee.position.toString() : \"\",\r\n\t\t\t\tcompany: employee.company ? employee.company.toString() : \"\",\r\n\t\t\t\tarchived: employee.archived,\r\n\t\t\t\tactive: employee.active,\r\n\t\t\t\tworking: employee.working,\r\n\t\t\t\tname: {\r\n\t\t\t\t\tid: employee.id,\r\n\t\t\t\t\tname: employee.name,\r\n\t\t\t\t\tsurname: employee.surname,\r\n\t\t\t\t\tworking: employee.working,\r\n\t\t\t\t\tcomments: employee.comments,\r\n\t\t\t\t},\r\n\t\t\t\ttoday: {\r\n\t\t\t\t\tworking: employee.working,\r\n\t\t\t\t\tworkLogs: workLogToday,\r\n\t\t\t\t},\r\n\t\t\t\tcommands: employee,\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tPromise.all(promise).then((data) => {\r\n\t\t\tcallback(data);\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst nameFormatter = (cell, row) => {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<nobr>\r\n\t\t\t\t\t\t<FiUser/>\r\n\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\tvariant=\"link\" \r\n\t\t\t\t\t\t\tonClick={() => this.props.showEmployeeWorkLog(cell.id)}\r\n\t\t\t\t\t\t\tstyle={{ color: \"#0000FF\" }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{cell.surname + \" \" + cell.name}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</nobr>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\tconst companyFormatter = (cell, row) => {\r\n\t\t\treturn (\r\n\t\t\t\t<span className=\"d-none d-md-inline-block text-truncate\" style={{ maxWidth: \"14vw\" }}>\r\n\t\t\t\t\t{cell}\r\n\t\t\t\t</span>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tconst todayFormatter = (cell, row) => {\r\n\t\t\tlet badges = [];\r\n\t\t\tlet totalWorkTime = 0;\r\n\t\t\tlet totalWorkTimeConverted = {\r\n\t\t\t\thours: 0,\r\n\t\t\t\tminutes: 0,\r\n\t\t\t\tseconds: 0\r\n\t\t\t};\r\n\r\n\t\t\tconst displayOneDay = cell.endDate - cell.startDate < 86400000;\r\n\r\n\t\t\tcell.workLogs.forEach((workLog, index) => {\r\n\t\t\t\tlet workTime = 0;\r\n\t\t\t\tlet workTimeConverted = {\r\n\t\t\t\t\thours: 0,\r\n\t\t\t\t\tminutes: 0,\r\n\t\t\t\t\tseconds: 0\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif(workLog.end_time === null) {\r\n\t\t\t\t\tworkLog.end_time = new Date();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Calculate each row data\r\n\t\t\t\tworkTime = new Date(workLog.end_time) - new Date(workLog.start_time);\r\n\t\t\t\tworkTimeConverted = millisecondConverter(workTime);\r\n\r\n\t\t\t\tconst workTimeStartFormatted =\r\n\t\t\t\t\taddZero(new Date(workLog.start_time).getHours()) + \":\" \r\n\t\t\t\t\t+ addZero(new Date(workLog.start_time).getMinutes());\r\n\t\t\t\t\r\n\t\t\t\tconst workTimeEndFormatted =\r\n\t\t\t\t\taddZero(new Date(workLog.end_time).getHours()) + \":\" \r\n\t\t\t\t\t+ addZero(new Date(workLog.end_time).getMinutes());\r\n\t\r\n\t\t\t\tconst workTimeFormatted =\r\n\t\t\t\t\tworkTimeConverted.hours + \" st. \" \r\n\t\t\t\t\t+ workTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\t// Calculate the total\r\n\t\t\t\ttotalWorkTime += new Date(workLog.end_time) - new Date(workLog.start_time);\r\n\t\t\t\ttotalWorkTimeConverted = millisecondConverter(totalWorkTime);\r\n\r\n\t\t\t\tif(displayOneDay) {\r\n\t\t\t\t\t// Each work log entry formatted and applied in HTML format\r\n\t\t\t\t\tbadges.push(\r\n\t\t\t\t\t\t<Row key={index} style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t\t\t<Col xs={6}>\r\n\t\t\t\t\t\t\t\t<nobr>\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t{workTimeStartFormatted}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tcell.working && index === cell.workLogs.length - 1\r\n\t\t\t\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t\t\t\t: <span>\r\n\t\t\t\t\t\t\t\t\t\t\t&#8594; {workTimeEndFormatted}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</nobr>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col xs={\"auto\"} className=\"text-center\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tworkTimeFormatted !== null\r\n\t\t\t\t\t\t\t\t\t? <span>\r\n\t\t\t\t\t\t\t\t\t\t{workTimeFormatted}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//Total row formatted\r\n\t\t\tif(badges.length && displayOneDay) {\r\n\t\t\t\tconst totalWorkTimeFormatted =\r\n\t\t\t\ttotalWorkTimeConverted.hours + \" st. \" \r\n\t\t\t\t+ totalWorkTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\tbadges.push(\r\n\t\t\t\t\t<Row key={badges.length} style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t\t<Col xs={6}>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs={\"auto\"} className=\"text-center\" style={{ borderTop: \"solid 1px\" }}>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttotalWorkTimeFormatted !== null\r\n\t\t\t\t\t\t\t\t? <span>\r\n\t\t\t\t\t\t\t\t\t<b>{totalWorkTimeFormatted}</b>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t} else if(!displayOneDay) {\r\n\t\t\t\tconst totalWorkTimeFormatted =\r\n\t\t\t\ttotalWorkTimeConverted.hours + \" st. \" \r\n\t\t\t\t+ totalWorkTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\tbadges.push(\r\n\t\t\t\t\t<Row key={badges.length} style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t\t<Col className=\"text-center\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttotalWorkTimeFormatted !== null\r\n\t\t\t\t\t\t\t\t? <span>\r\n\t\t\t\t\t\t\t\t\t{totalWorkTimeFormatted}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs=\"4\">\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs=\"4\">\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn (badges);\r\n\t\t};\r\n\r\n\t\tconst startDateFormatted = \r\n\t\t\t  addZero(this.state.startDate.getDate()) + \".\" \r\n\t\t\t+ addZero(this.state.startDate.getMonth() + 1) + \".\" \r\n\t\t\t+ addZero(this.state.startDate.getFullYear());\r\n\r\n\r\n\t\tconst endDateFormatted =\r\n\t\t\t  addZero(this.state.endDate.getDate()) + \".\" \r\n\t\t\t+ addZero(this.state.endDate.getMonth() + 1) + \".\" \r\n\t\t\t+ addZero(this.state.endDate.getFullYear());\r\n\r\n\t\tconst dateRange = startDateFormatted + (startDateFormatted === endDateFormatted ? \"\" : \" - \" + endDateFormatted);\r\n\r\n\t\tconst columns = [{\r\n\t\t\tdataField: \"id\",\r\n\t\t\ttext: \"#\",\r\n\t\t\tsort: true,\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\t// hidden: true,\r\n\t\t}, {\r\n\t\t\tdataField: \"name\",\r\n\t\t\ttext: \"Darbinieks\",\r\n\t\t\tsort: true,\r\n\t\t\tsortFunc: (a, b, order) => {\r\n\t\t\t\tif(convertSpecialCharacters(a.surname) < convertSpecialCharacters(b.surname)) {\r\n\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t} else if(convertSpecialCharacters(a.surname) > convertSpecialCharacters(b.surname)) {\r\n\t\t\t\t\treturn order === \"asc\" ? 1 : -1;\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\tformatter: nameFormatter,\r\n\t\t}, {\r\n\t\t\tdataField: \"company\",\r\n\t\t\ttext: \"Uzmums\",\r\n\t\t\tsort: true,\r\n\t\t\tclasses: \"align-middle d-none d-lg-table-cell\",\r\n\t\t\theaderClasses: \"d-none d-lg-table-cell\",\r\n\t\t\tformatter: companyFormatter\r\n\t\t}, {\r\n\t\t\tdataField: \"position\",\r\n\t\t\ttext: \"Amats\",\r\n\t\t\tsort: true,\r\n\t\t\tclasses: \"align-middle d-none d-lg-table-cell\",\r\n\t\t\theaderClasses: \"d-none d-lg-table-cell\",\r\n\t\t\tformatter: companyFormatter\r\n\t\t}, {\r\n\t\t\tdataField: \"today\",\r\n\t\t\ttext: dateRange,\r\n\t\t\tsort: true,\r\n\t\t\tsortFunc: (a, b, order) => {\r\n\t\t\t\tif(a.workLogs.length && b.workLogs.length) {\r\n\t\t\t\t\tconst aData = a.working\r\n\t\t\t\t\t? new Date(a.workLogs[a.workLogs.length - 1].start_time)\r\n\t\t\t\t\t: new Date(a.workLogs[a.workLogs.length - 1].end_time);\r\n\r\n\t\t\t\t\tconst bData = b.working\r\n\t\t\t\t\t? new Date(b.workLogs[b.workLogs.length - 1].start_time)\r\n\t\t\t\t\t: new Date(b.workLogs[b.workLogs.length - 1].end_time);\r\n\r\n\t\t\t\t\tif(aData > bData) {\r\n\t\t\t\t\t\treturn order === \"asc\" ? 1 : -1;\r\n\t\t\t\t\t} else if(aData < bData) {\r\n\t\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tclasses: \"align-middle\",\r\n\t\t\tformatter: todayFormatter\r\n\t\t}];\r\n\r\n\t\tconst defaultSorted = [{\r\n\t\t\tdataField: \"name\",\r\n\t\t\torder: \"asc\"\r\n\t\t}];\r\n\r\n\t\tconst onClickPageSize = (option) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tpageSize: option.page\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tconst sizePerPageRenderer = ({\r\n\t\t\toptions,\r\n\t\t\tcurrSizePerPage,\r\n\t\t\tonSizePerPageChange\r\n\t\t}) => (\r\n\t\t\t<Dropdown className=\"d-inline pr-2\">\r\n\t\t\t\t<Dropdown.Toggle variant=\"primary\">\r\n\t\t\t\t\t{this.state.pageSize === 9999 ? \"Viss\" : this.state.pageSize}\r\n\t\t\t\t</Dropdown.Toggle>\r\n\r\n\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\toptions.map((option, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\t\t\tkey={index} \r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tonClickPageSize(option);\r\n\t\t\t\t\t\t\t\t\t\tonSizePerPageChange(option.page);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.text}\r\n\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</Dropdown.Menu>\r\n\t\t\t</Dropdown>\r\n\t\t);\r\n\r\n\t\tconst pagination = paginationFactory({\r\n\t\t\tpage: 1,\r\n\t\t\talwaysShowAllBtns: true,\r\n\t\t\tshowTotal: false,\r\n\t\t\tsizePerPage : this.state.pageSize,\r\n\t\t\tsizePerPageRenderer,\r\n\t\t\tsizePerPageList: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"10\",\r\n\t\t\t\t\tvalue: 10,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"25\",\r\n\t\t\t\t\tvalue: 25,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"50\",\r\n\t\t\t\t\tvalue: 50,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"100\",\r\n\t\t\t\t\tvalue: 100,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"Viss\",\r\n\t\t\t\t\tvalue: 9999,\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\r\n\r\n\t\tconst rowStyle = (row) => {\r\n\t\t\tif(!row.commands.active) {\r\n\t\t\t\treturn { backgroundColor: \"rgba(255, 0, 0, 0.1)\" };\r\n\t\t\t}\r\n\r\n\t\t\tif(row.commands.archived) {\r\n\t\t\t\treturn { backgroundColor: \"rgba(255, 255, 0, 0.1)\" };\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<ContainerBox header={\"Atskaites\"}>\r\n\t\t\t\t<Filters \r\n\t\t\t\t\tonDataFiltered={this.onDataFiltered}\r\n\t\t\t\t\tonFilterChange={this.onFilterChange}\r\n\t\t\t\t\tfilterData={filterData => this.filterData = filterData}\r\n\t\t\t\t\tdateFilter={true}\r\n\t\t\t\t/>\r\n\t\t\t\t<BootstrapTable\r\n\t\t\t\t\tbootstrap4={ true }\r\n\t\t\t\t\tkeyField=\"id\" \r\n\t\t\t\t\tdata={ this.state.tableData } \r\n\t\t\t\t\tcolumns={ columns } \r\n\t\t\t\t\tbordered={ false }\r\n\t\t\t\t\thover={ true }\r\n\t\t\t\t\tdefaultSorted={ defaultSorted }\r\n\t\t\t\t\tremote={ { filter: true } }\r\n\t\t\t\t\tonTableChange={ this.onTableChange }\r\n\t\t\t\t\tpagination={ pagination }\r\n\t\t\t\t\trowStyle={ rowStyle }\r\n\t\t\t\t/>\r\n\t\t\t</ContainerBox>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\temployees: state.employees.employees,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowEmployeeWorkLog: (id) => dispatch(showEmployeeWorkLog(id)),\r\n\t\tshowExportExcel: () => dispatch(showExportExcel()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Employees);\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nimport { Form, Button, Alert, Modal, Row, Col } from \"react-bootstrap\";\r\n\r\nimport { showRegisterEmployee, hideRegisterEmployee } from \"../actions/employeeActions\";\r\n\r\nimport { storeUpdateEmployees, addServerEmployee, awaitCard, deleteServerEmployee } from \"../utils/employeeUtils\";\r\n\r\nconst REGISTER_STATE = {\r\n\tDATA_INPUT: 0,\r\n\tRFID_WAIT: 1,\r\n\tCOMPLETE: 2,\r\n}\r\n\r\nclass RegisterEmployee extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.initialState = {\r\n\t\t\tregistrationState: REGISTER_STATE.DATA_INPUT,\r\n\t\t\tcheckInterval: null,\r\n\t\t\tnewEmployee: {},\r\n\t\t\tname: \"\",\r\n\t\t\tsurname: \"\",\r\n\t\t\tcompany: 'SIA \"Vrpas 1\"',\r\n\t\t\tposition: \"\",\r\n\t\t\tnumber: \"\",\r\n\t\t\tpersonalCode: \"\",\r\n\t\t\taddCard: true,\r\n\t\t\tuid: null,\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\t...this.initialState\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tonNameChange = (event) => {\r\n\t\tthis.setState({ name: event.target.value });\r\n\t}\r\n\r\n\tonSurnameChange = (event) => {\r\n\t\tthis.setState({ surname: event.target.value });\r\n\t}\r\n\r\n\tonCompanyChange = (event) => {\r\n\t\tthis.setState({ company: event.target.value });\r\n\t}\r\n\r\n\tonPositionChange = (event) => {\r\n\t\tthis.setState({ position: event.target.value });\r\n\t}\r\n\r\n\tonNumberChange = (event) => {\r\n\t\tthis.setState({ number: event.target.value });\r\n\t}\r\n\r\n\tonPersonalCodeChange = (event) => {\r\n\t\tthis.setState({ personalCode: event.target.value });\r\n\t}\r\n\r\n\tonAddCardChange = () => {\r\n\t\tthis.setState({ addCard: !this.state.addCard });\r\n\t}\r\n\r\n\tonFormSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\t\t\r\n\t\tlet employee = {\r\n\t\t\tname: this.state.name,\r\n\t\t\tsurname: this.state.surname,\r\n\t\t\tcompany: this.state.company,\r\n\t\t\tposition: this.state.position,\r\n\t\t\tnumber: this.state.number,\r\n\t\t\tpersonalCode: this.state.personalCode,\r\n\t\t\tuid: this.state.uid,\r\n\t\t}\r\n\t\t\r\n\t\tif(this.state.registrationState === REGISTER_STATE.DATA_INPUT) {\r\n\t\t\tif(this.state.addCard) {\r\n\t\t\t\tthis.setState({ \r\n\t\t\t\t\tregistrationState: REGISTER_STATE.RFID_WAIT,\r\n\t\t\t\t});\r\n\r\n\t\t\t\tawaitCard().then((res) => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tuid: res.data.uid,\r\n\t\t\t\t\t}, () => {\r\n\t\t\t\t\t\temployee = {\r\n\t\t\t\t\t\t\t...employee,\r\n\t\t\t\t\t\t\tuid: res.data.uid,\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\taddServerEmployee(employee).then((res) => {\r\n\t\t\t\t\t\t\tstoreUpdateEmployees();\r\n\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tregistrationState: REGISTER_STATE.COMPLETE,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\taddServerEmployee(employee).then((res) => {\r\n\t\t\t\t\tstoreUpdateEmployees();\r\n\t\t\t\t\tif(res.data) {\r\n\t\t\t\t\t\tthis.setState({ \r\n\t\t\t\t\t\t\tregistrationState: REGISTER_STATE.COMPLETE,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else if(this.state.registrationState === REGISTER_STATE.COMPLETE) {\r\n\t\t\tthis.props.hideRegisterEmployee();\r\n\t\t}\r\n\t}\r\n\r\n\thideRegisterEmployeeAndDelete = () => {\r\n\t\tif(this.state.registrationState >= REGISTER_STATE.RFID_WAIT) {\r\n\t\t\tdeleteServerEmployee(this.state.newEmployee.id);\r\n\t\t\tthis.props.hideRegisterEmployee();\r\n\t\t}\r\n\t}\r\n\r\n\tonExited = () => {\r\n\t\tthis.setState({\r\n\t\t\t...this.initialState\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.registerEmployee.show} \r\n\t\t\t\tonHide={() => this.props.hideRegisterEmployee()}\r\n\t\t\t\tonExit={this.deleteAndCancel}\r\n\t\t\t\tonExited={this.onExited}\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={this.onFormSubmit}>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>Pievienot Darbinieku</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>* Vrds</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\trequired \r\n\t\t\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT} \r\n\t\t\t\t\t\t\t\t\tvalue={this.state.name} \r\n\t\t\t\t\t\t\t\t\tonChange={this.onNameChange}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Vrds\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>* Uzvrds</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\trequired \r\n\t\t\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT} \r\n\t\t\t\t\t\t\t\t\tvalue={this.state.surname} \r\n\t\t\t\t\t\t\t\t\tonChange={this.onSurnameChange}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Uzvrds\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>Personas Kods</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT} \r\n\t\t\t\t\t\t\t\t\tvalue={this.state.personalCode} \r\n\t\t\t\t\t\t\t\t\tonChange={this.onPersonalCodeChange}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Personas Kods\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>Telefona Numurs</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT} \r\n\t\t\t\t\t\t\t\t\tvalue={this.state.number} \r\n\t\t\t\t\t\t\t\t\tonChange={this.onNumberChange}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Telefona Numurs\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Uzmums</Form.Label>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\tas=\"select\"\r\n\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT}  \r\n\t\t\t\t\t\t\tonChange={this.onCompanyChange}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option>SIA \"Vrpas 1\"</option>\r\n\t\t\t\t\t\t\t<option>SIA \"Adeptus Renewable Energy\"</option>\r\n\t\t\t\t\t\t\t<option>SIA \"Valkas koks\"</option>\r\n\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Amats</Form.Label>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\tdisabled={this.state.registrationState !== REGISTER_STATE.DATA_INPUT} \r\n\t\t\t\t\t\t\tvalue={this.state.position} \r\n\t\t\t\t\t\t\tonChange={this.onPositionChange}\r\n\t\t\t\t\t\t\tplaceholder=\"Darba Amats\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group controlId=\"formBasicChecbox\">\r\n\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\tlabel=\"Turpint reistrciju pievienojot NFC karti\"\r\n\t\t\t\t\t\t\tname=\"addCard\"\r\n\t\t\t\t\t\t\tchecked={this.state.addCard}\r\n\t\t\t\t\t\t\tonChange={this.onAddCardChange}/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Alert variant={\"primary\"} show={this.state.registrationState === REGISTER_STATE.RFID_WAIT} onClose={() => null}>\r\n\t\t\t\t\t\tNoskenjiet vlamo kartiu.\r\n\t\t\t\t\t</Alert>\r\n\r\n\t\t\t\t\t<Alert variant={\"success\"} show={this.state.registrationState === REGISTER_STATE.COMPLETE} onClose={() => null}>\r\n\t\t\t\t\t\tDarbinieks veiksmgi pievienots darbinieku sarakstam.\r\n\t\t\t\t\t</Alert>\r\n\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Buttons \r\n\t\t\t\t\t\tregistrationState={this.state.registrationState}\r\n\t\t\t\t\t\thideRegisterEmployee={this.props.hideRegisterEmployee}\r\n\t\t\t\t\t\thideRegisterEmployeeAndDelete={this.hideRegisterEmployeeAndDelete}\r\n\t\t\t\t\t\taddCard={this.state.addCard}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction Buttons(props) {\r\n\tswitch(props.registrationState) {\r\n\t\tdefault:\r\n\t\tcase REGISTER_STATE.DATA_INPUT: {\r\n\t\t\treturn(\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Button variant={ props.addCard ? \"primary\" : \"success\"} type=\"submit\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tprops.addCard \r\n\t\t\t\t\t\t\t? \"Tlk\"\r\n\t\t\t\t\t\t\t: \"Pabeigt\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\t\tcase REGISTER_STATE.RFID_WAIT: {\r\n\t\t\treturn(\r\n\t\t\t\tnull\r\n\t\t\t);\r\n\t\t}\r\n\t\tcase REGISTER_STATE.COMPLETE: {\r\n\t\t\treturn(\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Button variant=\"success\" type=\"submit\">\r\n\t\t\t\t\t\tPabeigt\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\temployees: state.employees.employees,\r\n\t\tregisterEmployee: state.employees.registerEmployee\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowRegisterEmployee: () => dispatch(showRegisterEmployee()),\r\n\t\thideRegisterEmployee: () => dispatch(hideRegisterEmployee()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(RegisterEmployee);\r\n","import React from \"react\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\n\r\nconst NotFound = () => {\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t<Col className=\"text-center mt-4 mb-4\">\r\n\t\t\t\t<h1>404</h1>\r\n\t\t\t\t<h5>Lapa netika atrasta...</h5>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n}\r\n\r\nexport default NotFound;\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nimport { Table, Modal, Dropdown, DropdownButton, Col, Row, Form, Button } from \"react-bootstrap\";\r\nimport BoostrapDatePicker from \"./BoostrapDatePicker\";\r\n\r\nimport { workLogUpdateInterval } from \"../utils/config\";\r\n\r\nimport { hideEmployeeWorkLog } from \"../actions/employeeActions\";\r\n\r\nimport { getServerEmployee, getServerEmployeeWorkLog, deleteServerWorkLog, editServerWorkLog } from \"../utils/employeeUtils\";\r\nimport { addZero, millisecondConverter } from \"../utils/commonUtils\";\r\n\r\nimport { FiTrash, FiEdit, FiX, FiCheck } from \"react-icons/fi\";\r\n\r\nclass ViewEmployee extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tconst startDate = new Date();\r\n\t\tstartDate.setHours(0, 0, 0);\r\n\r\n\t\tconst endDate = new Date();\r\n\t\tendDate.setHours(23, 59, 59);\r\n\r\n\t\tthis.state = {\r\n\t\t\temployee: {\r\n\t\t\t\tname: \"Ield...\",\r\n\t\t\t\tsurname: \" \"\r\n\t\t\t},\r\n\t\t\tworkLog: [],\r\n\t\t\teditWorkLog: {\r\n\t\t\t\tid: null,\r\n\t\t\t\tstartDate: null,\r\n\t\t\t\tendDate: null,\r\n\t\t\t\tworking: false,\r\n\t\t\t},\r\n\t\t\tresults: 0,\r\n\t\t\tupdateInterval: null,\r\n\t\t\tstartDate: startDate,\r\n\t\t\tendDate: endDate,\r\n\t\t\tdropdown: {\r\n\t\t\t\tcurrentFilter: \"odiena\",\r\n\t\t\t\tfilters: [\"odiena\", \"Vakardiena\", \"Pdjs 7 dienas\", \"Pdjs 30 dienas\"]\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.employeeWorkLog.id !== prevProps.employeeWorkLog.id && this.props.employeeWorkLog.id !== null) {\r\n\t\t\tthis.fetchWorkLog();\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.state.updateInterval);\r\n\t}\r\n\r\n\tfetchWorkLog = () => {\r\n\t\tgetServerEmployee(this.props.employeeWorkLog.id).then((res) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\temployee: res.data\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tgetServerEmployeeWorkLog(this.props.employeeWorkLog.id, \"DESC\").then((res) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tworkLog: res.data\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tclearInterval(this.state.updateInterval);\r\n\t\tthis.setState({\r\n\t\t\tupdateInterval: setInterval(() => {\r\n\t\t\t\tgetServerEmployee(this.props.employeeWorkLog.id).then((res) => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\temployee: res.data\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\tgetServerEmployeeWorkLog(this.props.employeeWorkLog.id, \"DESC\").then((res) => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tworkLog: res.data\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}, workLogUpdateInterval)\r\n\t\t});\r\n\t}\r\n\r\n\tonHide = () => {\r\n\t\tclearInterval(this.state.updateInterval);\r\n\t\tthis.props.hideEmployeeWorkLog();\r\n\t}\r\n\r\n\tonExited = () => {\r\n\t\tthis.setState({\r\n\t\t\temployee: {\r\n\t\t\t\tname: \"Ield...\",\r\n\t\t\t\tsurname: \" \"\r\n\t\t\t},\r\n\t\t\tworkLog: [],\r\n\t\t\teditWorkLog: {\r\n\t\t\t\tid: null,\r\n\t\t\t\tstartDate: null,\r\n\t\t\t\tendDate: null,\r\n\t\t\t\tworking: false,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\thandleDateChangeStart = (date) => {\r\n\t\tconst startOfDay = new Date(date);\r\n\t\tstartOfDay.setHours(0, 0, 0);\r\n\t\tthis.setState({\r\n\t\t\tstartDate: startOfDay,\r\n\t\t});\r\n\t}\r\n\r\n\thandleDateChangeEnd = (date) => {\r\n\t\tconst endOfDay = new Date(date);\r\n\t\tendOfDay.setHours(23, 59, 59);\r\n\t\tthis.setState({\r\n\t\t\tendDate: endOfDay,\r\n\t\t});\r\n\t}\r\n\r\n\tonClickFilter = (index) => {\r\n\t\tswitch (index) {\r\n\t\t\tcase 0: {\r\n\t\t\t\tthis.handleDateChangeStart(new Date());\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 1: {\r\n\t\t\t\tconst yesterday = new Date();\r\n\t\t\t\tyesterday.setDate(yesterday.getDate() - 1);\r\n\t\t\t\tthis.handleDateChangeStart(yesterday);\r\n\t\t\t\tthis.handleDateChangeEnd(yesterday);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 2: {\r\n\t\t\t\tconst last7Days = new Date();\r\n\t\t\t\tlast7Days.setDate(last7Days.getDate() - 7);\r\n\t\t\t\tthis.handleDateChangeStart(last7Days);\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 3: {\r\n\t\t\t\tconst last30Days = new Date();\r\n\t\t\t\tlast30Days.setDate(last30Days.getDate() - 30);\r\n\t\t\t\tthis.handleDateChangeStart(last30Days);\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdefault: {\r\n\t\t\t\tthis.handleDateChangeStart(new Date());\r\n\t\t\t\tthis.handleDateChangeEnd(new Date());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tdropdown: {\r\n\t\t\t\t...this.state.dropdown,\r\n\t\t\t\tcurrentFilter: this.state.dropdown.filters[index],\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tdeleteWorkLog = (id, working, employeeId) => {\r\n\t\tdeleteServerWorkLog(id, working, employeeId).then(() => {\r\n\t\t\tthis.fetchWorkLog();\r\n\t\t});\r\n\t}\r\n\r\n\teditWorkLog = (id, startDate, endDate, working) => {\r\n\t\tthis.setState({\r\n\t\t\teditWorkLog: {\r\n\t\t\t\t...this.state.editWorkLog,\r\n\t\t\t\tid: id,\r\n\t\t\t\tstartDate: startDate,\r\n\t\t\t\tendDate: endDate,\r\n\t\t\t\tworking: working,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tconfirmEditWorkLog = () => {\r\n\t\teditServerWorkLog(\r\n\t\t\tthis.state.editWorkLog.id,\r\n\t\t\tthis.state.editWorkLog.startDate,\r\n\t\t\tthis.state.editWorkLog.endDate,\r\n\t\t\tthis.state.editWorkLog.working).then(() => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\teditWorkLog: {\r\n\t\t\t\t\t\tid: null,\r\n\t\t\t\t\t\tstartDate: null,\r\n\t\t\t\t\t\tendDate: null,\r\n\t\t\t\t\t\tworking: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t}, () => {\r\n\t\t\t\t\tthis.fetchWorkLog();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\tcancelEditWorkLog = () => {\r\n\t\tthis.setState({\r\n\t\t\teditWorkLog: {\r\n\t\t\t\tid: null,\r\n\t\t\t\tstartDate: null,\r\n\t\t\t\tendDate: null,\r\n\t\t\t\tworking: false,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tonStartDateChange = (date) => {\r\n\t\tthis.setState({\r\n\t\t\teditWorkLog: {\r\n\t\t\t\t...this.state.editWorkLog,\r\n\t\t\t\tstartDate: date\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonEndDateChange = (date) => {\r\n\t\tthis.setState({\r\n\t\t\teditWorkLog: {\r\n\t\t\t\t...this.state.editWorkLog,\r\n\t\t\t\tendDate: date\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet filterResults = 0;\r\n\t\tlet lastStartDate = null;\r\n\t\tlet totalDayWorkTime = 0;\r\n\t\tlet totalWorkTime = 0;\r\n\t\tlet totalDays = 0;\r\n\r\n\t\tconst workLogFiltered = this.state.workLog\r\n\t\t\t.filter((log) => {\r\n\t\t\t\t// Filter out all rows which do not match the date\r\n\t\t\t\tconst startTimePure = new Date(log.start_time);\r\n\r\n\t\t\t\tif (startTimePure < this.state.startDate || startTimePure > this.state.endDate) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tfilterResults++;\r\n\t\t\t\treturn true;\r\n\t\t\t});\r\n\r\n\t\tconst workLog = workLogFiltered\r\n\t\t\t.map((log, index) => {\r\n\t\t\t\t// Format the remaining filtered work logs\r\n\t\t\t\tconst stillWorking = log.end_time === null ? true : false;\r\n\t\t\t\tconst startTimePure = new Date(log.start_time);\r\n\t\t\t\tconst endTimePure = stillWorking ? new Date() : new Date(log.end_time);\r\n\r\n\t\t\t\tconst startTimeFormatted =\r\n\t\t\t\t\taddZero(startTimePure.getHours()) + \":\"\r\n\t\t\t\t\t+ addZero(startTimePure.getMinutes());\r\n\r\n\t\t\t\tconst endTimeFormatted = stillWorking ? \" - \" :\r\n\t\t\t\t\taddZero(endTimePure.getHours()) + \":\"\r\n\t\t\t\t\t+ addZero(endTimePure.getMinutes());\r\n\r\n\t\t\t\tconst workTime = millisecondConverter(endTimePure - startTimePure);\r\n\t\t\t\ttotalDayWorkTime += (endTimePure - startTimePure);\r\n\t\t\t\ttotalWorkTime += (endTimePure - startTimePure);\r\n\t\t\t\tconst workTimeFormatted =\r\n\t\t\t\t\t+ workTime.hours + \" st. \"\r\n\t\t\t\t\t+ workTime.minutes + \" min. \";\r\n\r\n\t\t\t\tconst workingStyle = {\r\n\t\t\t\t\tbackgroundColor: \"#ffffe6\",\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst commands = (\r\n\t\t\t\t\t<Row className=\"text-center\">\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.editWorkLog.id === log.id\r\n\t\t\t\t\t\t\t\t\t? <>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize={\"sm\"}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.confirmEditWorkLog()}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<FiCheck className=\"mb-1\" />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize={\"sm\"}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.cancelEditWorkLog()}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<FiX className=\"mb-1\" />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t: <>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize={\"sm\"}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.editWorkLog(log.id, log.start_time, log.end_time, stillWorking)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<FiEdit className=\"mb-1\" />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize={\"sm\"}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.deleteWorkLog(log.id, stillWorking, log.employee_id)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<FiTrash className=\"mb-1\" />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\r\n\t\t\t\tconst workRow = (\r\n\t\t\t\t\t<tr className=\"text-center\" style={stillWorking ? workingStyle : null}>\r\n\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.editWorkLog.id === log.id\r\n\t\t\t\t\t\t\t\t\t? <BoostrapDatePicker\r\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy. HH:mm\"\r\n\t\t\t\t\t\t\t\t\t\tselected={new Date(this.state.editWorkLog.startDate)}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onStartDateChange}\r\n\t\t\t\t\t\t\t\t\t\ttimeIntervals={1}\r\n\t\t\t\t\t\t\t\t\t\tshowTimeSelect\r\n\t\t\t\t\t\t\t\t\t\ttimeFormat=\"HH:mm\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t: startTimeFormatted\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.editWorkLog.id === log.id && !stillWorking\r\n\t\t\t\t\t\t\t\t\t? <BoostrapDatePicker\r\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy. HH:mm\"\r\n\t\t\t\t\t\t\t\t\t\tselected={new Date(this.state.editWorkLog.endDate)}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onEndDateChange}\r\n\t\t\t\t\t\t\t\t\t\ttimeIntervals={1}\r\n\t\t\t\t\t\t\t\t\t\tshowTimeSelect\r\n\t\t\t\t\t\t\t\t\t\ttimeFormat=\"HH:mm\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t: endTimeFormatted\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>{workTimeFormatted}</td>\r\n\t\t\t\t\t\t<td>{commands}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\r\n\t\t\t\tlet dateRow = null;\r\n\t\t\t\tlet totalDayRow = null;\r\n\t\t\t\tlet totalRow = null;\r\n\r\n\t\t\t\tif (lastStartDate === null || lastStartDate !== startTimePure.getDate()) {\r\n\t\t\t\t\tlastStartDate = startTimePure.getDate();\r\n\r\n\t\t\t\t\tconst dateFormatted =\r\n\t\t\t\t\t\taddZero(startTimePure.getDate()) + \".\"\r\n\t\t\t\t\t\t+ addZero(startTimePure.getMonth() + 1) + \".\"\r\n\t\t\t\t\t\t+ addZero(startTimePure.getFullYear());\r\n\r\n\t\t\t\t\tdateRow = (\r\n\t\t\t\t\t\t<tr className=\"bg-dark text-light\">\r\n\t\t\t\t\t\t\t<td style={{ width: \"100px\" }}><b>{dateFormatted}</b></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet nextStartDate = null;\r\n\r\n\t\t\t\tif (workLogFiltered[index + 1]) {\r\n\t\t\t\t\tnextStartDate = new Date(workLogFiltered[index + 1].start_time).getDate();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (nextStartDate !== startTimePure.getDate()) {\r\n\t\t\t\t\tconst totalDayWorkTimeConverted = millisecondConverter(totalDayWorkTime);\r\n\r\n\t\t\t\t\tconst totalDayWorkTimeFormatted =\r\n\t\t\t\t\t\t+ totalDayWorkTimeConverted.hours + \" st. \"\r\n\t\t\t\t\t\t+ totalDayWorkTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\t\ttotalDayRow = (\r\n\t\t\t\t\t\t<tr className=\"bg-light text-dark\">\r\n\t\t\t\t\t\t\t<td><b>KOP</b></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td className=\"text-center\"><b>{totalDayWorkTimeFormatted}</b></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\ttotalDays++;\r\n\t\t\t\t\ttotalDayWorkTime = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (totalDays > 1 && nextStartDate === null) {\r\n\t\t\t\t\tconst totalWorkTimeConverted = millisecondConverter(totalWorkTime);\r\n\r\n\t\t\t\t\tconst totalWorkTimeFormatted =\r\n\t\t\t\t\t\t+ totalWorkTimeConverted.hours + \" st. \"\r\n\t\t\t\t\t\t+ totalWorkTimeConverted.minutes + \" min. \";\r\n\r\n\t\t\t\t\tconst fromDateFormatted =\r\n\t\t\t\t\t\taddZero(this.state.startDate.getDate()) + \".\"\r\n\t\t\t\t\t\t+ addZero(this.state.startDate.getMonth() + 1) + \".\"\r\n\t\t\t\t\t\t+ addZero(this.state.startDate.getFullYear());\r\n\r\n\t\t\t\t\tconst toDateFormatted =\r\n\t\t\t\t\t\taddZero(this.state.endDate.getDate()) + \".\"\r\n\t\t\t\t\t\t+ addZero(this.state.endDate.getMonth() + 1) + \".\"\r\n\t\t\t\t\t\t+ addZero(this.state.endDate.getFullYear());\r\n\r\n\r\n\t\t\t\t\ttotalRow = (\r\n\t\t\t\t\t\t<tr className=\"text-dark\">\r\n\t\t\t\t\t\t\t<td colSpan={2}><b>{fromDateFormatted} - {toDateFormatted}</b></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td className=\"text-center\"><b>{totalWorkTimeFormatted}</b></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\ttotalWorkTime = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tbody key={index} className=\"vertical-align-center\">\r\n\t\t\t\t\t\t{dateRow}\r\n\t\t\t\t\t\t{workRow}\r\n\t\t\t\t\t\t{totalDayRow}\r\n\t\t\t\t\t\t{totalRow}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tshow={this.props.employeeWorkLog.show}\r\n\t\t\t\tonHide={this.onHide}\r\n\t\t\t\tonExited={this.onExited}\r\n\t\t\t\tsize={\"lg\"}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title className=\"w-100\">\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t\t{this.state.employee.surname + \" \" + this.state.employee.name}\r\n\t\t\t\t\t\t\t\t\t{this.state.employee.personalCode\r\n\t\t\t\t\t\t\t\t\t\t? \" (\" + this.state.employee.personalCode + \")\"\r\n\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<h5 className=\"text-secondary\">{this.state.employee.company}</h5>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<h5 className=\"text-secondary\">{this.state.employee.position}</h5>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col className=\"text-right\">\r\n\t\t\t\t\t\t\t\t<h5 className=\"text-secondary\">\r\n\t\t\t\t\t\t\t\t\t{this.state.employee.number\r\n\t\t\t\t\t\t\t\t\t\t? \"Tel. \" + this.state.employee.number\r\n\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label column xs={2}>No</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Col xs={10}>\r\n\t\t\t\t\t\t\t\t\t\t<BoostrapDatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy.\"\r\n\t\t\t\t\t\t\t\t\t\t\tselected={this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleDateChangeStart}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxDate={new Date()}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label column xs={2}>Ldz</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Col xs={10}>\r\n\t\t\t\t\t\t\t\t\t\t<BoostrapDatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy.\"\r\n\t\t\t\t\t\t\t\t\t\t\tselected={this.state.endDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleDateChangeEnd}\r\n\t\t\t\t\t\t\t\t\t\t\tminDate={this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxDate={new Date()}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col className=\"d-flex flex-column\">\r\n\t\t\t\t\t\t\t\t<DropdownButton\r\n\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t\t\t\t\ttitle={this.state.dropdown.currentFilter}\r\n\t\t\t\t\t\t\t\t\tclassName=\"text-right mt-auto mb-3\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tthis.state.dropdown.filters.map((filter, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <Dropdown.Item key={index} onClick={() => this.onClickFilter(index)}>{filter}</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</DropdownButton>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.workLog.length && filterResults\r\n\t\t\t\t\t\t\t? (\r\n\t\t\t\t\t\t\t\t<Table size=\"sm\">\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Ienca</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Izgja</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Nostrdja</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t{workLog}\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\tNetika atrasts neviens ieraksts...\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\temployeeWorkLog: state.employees.employeeWorkLog,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\thideEmployeeWorkLog: () => dispatch(hideEmployeeWorkLog()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ViewEmployee);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button } from \"react-bootstrap\";\r\n\r\nimport { showDeleteEmployee, hideDeleteEmployee } from \"../actions/employeeActions\";\r\n\r\nimport { storeUpdateEmployees, deleteServerEmployee } from \"../utils/employeeUtils\";\r\n\r\nclass DeleteEmployee extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.deleteEmployee.show}\r\n\t\t\t\tonHide={() => this.props.hideDeleteEmployee()}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>{this.props.deleteEmployee.employee.name + \" \" + this.props.deleteEmployee.employee.surname}</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\tVai esiet prliecints ka vlaties dzst o darbinieku?\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"danger\" onClick={() => {\r\n\t\t\t\t\t\tdeleteServerEmployee(this.props.deleteEmployee.employee.id).then(() => {\r\n\t\t\t\t\t\t\tstoreUpdateEmployees();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.props.hideDeleteEmployee();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\tDzst\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tdeleteEmployee: state.employees.deleteEmployee,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowDeleteEmployee: () => dispatch(showDeleteEmployee()),\r\n\t\thideDeleteEmployee: () => dispatch(hideDeleteEmployee()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(DeleteEmployee);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button, Form, Row, Col, Alert } from \"react-bootstrap\";\r\n\r\nimport { showEditEmployee, hideEditEmployee } from \"../actions/employeeActions\";\r\n\r\nimport {\r\n\tsetEmployeeUID,\r\n\tremoveEmployeeUID,\r\n\tawaitCard,\r\n\tstoreUpdateEmployee,\r\n\teditServerEmployee,\r\n} from \"../utils/employeeUtils\";\r\n\r\nimport {\r\n\taddZero\r\n} from \"../utils/commonUtils\";\r\n\r\nconst CHANGE_CARD_STATE = {\r\n\tOFF: 0,\r\n\tRFID_WAIT: 1,\r\n\tCOMPLETE: 2,\r\n\tDELETED: 3,\r\n}\r\n\r\nclass EditEmployee extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.initialState = {\r\n\t\t\temployee: {\r\n\t\t\t\tname: \"\",\r\n\t\t\t\tsurname: \"\",\r\n\t\t\t\tpersonalCode: \"\",\r\n\t\t\t\tcompany: \"\",\r\n\t\t\t\tposition: \"\",\r\n\t\t\t\tnumber: \"\",\r\n\t\t\t\tuid: \"\"\r\n\t\t\t},\r\n\t\t\tchangeCard: {\r\n\t\t\t\tstatus: 0,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\t...this.initialState\r\n\t\t}\r\n\t}\r\n\r\n\tonEnter = () => {\r\n\t\tthis.setState({\r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\t...this.props.editEmployee.employee,\r\n\t\t\t}\r\n\t\t}, () => {\r\n\t\t\tif(!this.state.employee.company) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\temployee: {\r\n\t\t\t\t\t\t...this.state.employee,\r\n\t\t\t\t\t\tcompany: 'SIA \"Vrpas 1\"',\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonHide = () => {\r\n\t\tthis.props.hideEditEmployee();\r\n\t\tthis.setState({\r\n\t\t\t...this.initialState\r\n\t\t});\r\n\t}\r\n\r\n\tonNameChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tname: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonSurnameChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tsurname: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonPersonalCodeChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tpersonalCode: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonCompanyChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tcompany: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonPositionChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tposition: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonNumberChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\temployee: {\r\n\t\t\t\t...this.state.employee,\r\n\t\t\t\tnumber: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tchangeCard = (id) => {\r\n\t\tthis.setState({\r\n\t\t\tchangeCard: {\r\n\t\t\t\tstatus: CHANGE_CARD_STATE.RFID_WAIT\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tawaitCard().then((res) => {\r\n\t\t\tif(res.data) {\r\n\t\t\t\tsetEmployeeUID(res.data.uid, id).then(() => {\r\n\t\t\t\t\tstoreUpdateEmployee(id);\r\n\t\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\temployee: {\r\n\t\t\t\t\t\t\t...this.state.employee,\r\n\t\t\t\t\t\t\tuid: res.data.uid,\r\n\t\t\t\t\t\t\tuid_added: new Date(),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tchangeCard: {\r\n\t\t\t\t\t\t\tstatus: CHANGE_CARD_STATE.COMPLETE\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tchangeCard: {\r\n\t\t\t\t\t\tstatus: CHANGE_CARD_STATE.OFF\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tdeleteCard = (id) => {\r\n\t\tremoveEmployeeUID(id).then(() => {\r\n\t\t\tstoreUpdateEmployee(id);\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\temployee: {\r\n\t\t\t\t\t...this.state.employee,\r\n\t\t\t\t\tuid: \"N/A\",\r\n\t\t\t\t\tuid_added: null,\r\n\t\t\t\t},\r\n\t\t\t\tchangeCard: {\r\n\t\t\t\t\tstatus: CHANGE_CARD_STATE.DELETED\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst uidAddedDate = new Date(this.state.employee.uid_added);\r\n\t\tconst uidAdded = \r\n\t\t\taddZero(uidAddedDate.getDate()) + \".\" \r\n\t\t\t+ addZero(uidAddedDate.getMonth() + 1) + \".\" \r\n\t\t\t+ addZero(uidAddedDate.getFullYear());\r\n\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.editEmployee.show}\r\n\t\t\t\tonHide={() => this.onHide()}\r\n\t\t\t\tonEnter={() => this.onEnter()}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>{this.props.editEmployee.employee.name + \" \" + this.props.editEmployee.employee.surname}</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>* Vrds</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control required value={this.state.employee.name} onChange={this.onNameChange}/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>* Uzvrds</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control required value={this.state.employee.surname} onChange={this.onSurnameChange}/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>Personas Kods</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control value={this.state.employee.personalCode} onChange={this.onPersonalCodeChange}/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>Telefona Numurs</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control value={this.state.employee.number} onChange={this.onNumberChange}/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Uzmums</Form.Label>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\tas=\"select\"\r\n\t\t\t\t\t\t\tonChange={this.onCompanyChange}\r\n\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\tthis.state.employee.company\r\n\t\t\t\t\t\t\t\t? this.state.employee.company\r\n\t\t\t\t\t\t\t\t: 'SIA \"Vrpas 1\"'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value='SIA \"Vrpas 1\"'>SIA \"Vrpas 1\"</option>\r\n\t\t\t\t\t\t\t<option value='SIA \"Adeptus Renewable Energy\"'>SIA \"Adeptus Renewable Energy\"</option>\r\n\t\t\t\t\t\t\t<option value='SIA \"Valkas koks\"'>SIA \"Valkas koks\"</option>\r\n\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Amats</Form.Label>\r\n\t\t\t\t\t\t<Form.Control value={this.state.employee.position} onChange={this.onPositionChange}/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t<Form.Label column xs={\"auto\"}>UID (NFC Karte)</Form.Label>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\tdisabled \r\n\t\t\t\t\t\t\t\tvalue={this.state.employee.uid ? this.state.employee.uid : \"N/A\"}\r\n\t\t\t\t\t\t\t\tclassName=\"text-center\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs={\"auto\"}>\r\n\t\t\t\t\t\t\t<Button variant=\"link\" onClick={() => this.deleteCard(this.props.editEmployee.employee.id)}>Dzst</Button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs={\"auto\"}>\r\n\t\t\t\t\t\t\t<Button variant=\"link\" onClick={() => this.changeCard(this.props.editEmployee.employee.id)}>Maint</Button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.employee.uid_added\r\n\t\t\t\t\t\t? <Form.Group as={Row}>\r\n\t\t\t\t\t\t\t<Form.Label column>Karte reistrta: { uidAdded }</Form.Label>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t: null\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t<Alert \r\n\t\t\t\t\t\tvariant={\"primary\"} \r\n\t\t\t\t\t\tshow={\r\n\t\t\t\t\t\t\tthis.state.changeCard.status === CHANGE_CARD_STATE.RFID_WAIT\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\tonClose={() => null}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tNoskenjiet vlamo kartiu.\r\n\t\t\t\t\t</Alert>\r\n\r\n\t\t\t\t\t<Alert \r\n\t\t\t\t\t\tvariant={\"success\"} \r\n\t\t\t\t\t\tshow={\r\n\t\t\t\t\t\t\tthis.state.changeCard.status === CHANGE_CARD_STATE.COMPLETE\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\tonClose={() => null}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tDarbiniekam karte nomainta.\r\n\t\t\t\t\t</Alert>\r\n\r\n\t\t\t\t\t<Alert \r\n\t\t\t\t\t\tvariant={\"danger\"} \r\n\t\t\t\t\t\tshow={\r\n\t\t\t\t\t\t\tthis.state.changeCard.status === CHANGE_CARD_STATE.DELETED\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\tonClose={() => null}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tDarbinieka karte dzsta.\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"success\" onClick={() => {\r\n\t\t\t\t\t\tconst employeeId = this.state.employee.id;\r\n\t\t\t\t\t\teditServerEmployee(this.state.employee).then(() => {\r\n\t\t\t\t\t\t\tstoreUpdateEmployee(employeeId);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.props.hideEditEmployee();\r\n\t\t\t\t\t\tthis.onHide();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\tRedit\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\teditEmployee: state.employees.editEmployee,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowEditEmployee: () => dispatch(showEditEmployee()),\r\n\t\thideEditEmployee: () => dispatch(hideEditEmployee()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(EditEmployee);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button, Row, Col, Table, Form } from \"react-bootstrap\";\r\nimport BoostrapDatePicker from \"./BoostrapDatePicker\";\r\nimport download from \"downloadjs\";\r\n\r\nimport { showExportExcel, hideExportExcel } from \"../actions/employeeActions\";\r\n\r\nimport { exportServerEmployees } from \"../utils/employeeUtils\";\r\n\r\nclass ExportExcel extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tmonth: new Date(),\r\n\t\t\temployeeList: [],\r\n\t\t\tcheckAll: false,\r\n\t\t\tincludeNoHours: false,\r\n\t\t\tincludeInactive: false,\r\n\t\t\tincludeArchived: false\r\n\t\t}\r\n\t}\r\n\r\n\thandleDateChange = (date) => {\r\n\t\tthis.setState({\r\n\t\t\tmonth: date,\r\n\t\t});\r\n\t}\r\n\r\n\tonToggleIncludeNoHours = () => {\r\n\t\tthis.setState({\r\n\t\t\tincludeNoHours: !this.state.includeNoHours\r\n\t\t});\r\n\t}\r\n\r\n\tonToggleIncludeInactive = () => {\r\n\t\tthis.setState({\r\n\t\t\tincludeInactive: !this.state.includeInactive\r\n\t\t});\r\n\t}\r\n\r\n\tonToggleIncludeArchived = () => {\r\n\t\tthis.setState({\r\n\t\t\tincludeArchived: !this.state.includeArchived\r\n\t\t});\r\n\t}\r\n\r\n\tonEmployeeCheck = (index) => {\r\n\t\tconst newList = this.state.employeeList;\r\n\t\tnewList[index].checked = !newList[index].checked;\r\n\r\n\t\tthis.setState({\r\n\t\t\temployeeList: newList\r\n\t\t});\r\n\t}\r\n\r\n\tonCheckAll = () => {\r\n\t\tthis.setState({\r\n\t\t\temployeeList: this.state.employeeList.map(employee => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...employee,\r\n\t\t\t\t\tchecked: !this.state.checkAll\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tcheckAll: !this.state.checkAll\r\n\t\t});\r\n\t}\r\n\r\n\texport = () => {\r\n\t\texportServerEmployees({\r\n\t\t\tmonth: this.state.month,\r\n\t\t\temployees: this.state.employeeList.filter(employee => {\r\n\t\t\t\treturn employee.checked;\r\n\t\t\t}),\r\n\t\t\tincludeNoHours: this.state.includeNoHours,\r\n\t\t\tincludeInactive: this.state.includeInactive,\r\n\t\t\tincludeArchived: this.state.includeArchived\r\n\t\t}).then((response) => {\r\n\t\t\tconst content = response.headers[\"content-type\"];\r\n           \tdownload(response.data, \"Varpas 1.xlsx\", content);\r\n\t\t});\r\n\t}\r\n\r\n\tonEnter = () => {\r\n\t\tthis.setState({\r\n\t\t\temployeeList: this.props.employees.map(employee => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...employee,\r\n\t\t\t\t\tchecked: false\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tif(!this.props.exportExcel.show) return null;\r\n\r\n\t\tconst employees = this.state.employeeList.map((employee, index) => {\r\n\t\t\treturn (\r\n\t\t\t\t<tbody key={index}>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\tchecked={employee.checked}\r\n\t\t\t\t\t\t\t\tonChange={() => this.onEmployeeCheck(index)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>{employee.surname + \" \" + employee.name}</td>\r\n\t\t\t\t\t\t<td>{employee.personalCode}</td>\r\n\t\t\t\t\t\t<td>{employee.position}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tsize=\"lg\"\r\n\t\t\t\tshow={this.props.exportExcel.show}\r\n\t\t\t\tonEnter={() => this.onEnter()}\r\n\t\t\t\tonHide={() => this.props.hideExportExcel()}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>Eksports</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<h5>Periods</h5>\r\n\t\t\t\t\t\t\t<Form.Group as={Row} className=\"ml-1\">\r\n\t\t\t\t\t\t\t\t<Form.Label column xs={\"3\"}>Mnesis: </Form.Label>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<BoostrapDatePicker\r\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"MM.yyyy.\"\r\n\t\t\t\t\t\t\t\t\t\tselected={this.state.month}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleDateChange}\r\n\t\t\t\t\t\t\t\t\t\tshowMonthYearPicker\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<h5>Iekaut</h5>\r\n\t\t\t\t\t\t\t<Form.Group as={Row} className=\"ml-1\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\t\tlabel=\"darbiniekus bez nostrdtm stundm\"\r\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.includeNoHours}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onToggleIncludeNoHours}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group as={Row} className=\"ml-1\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\t\tlabel=\"deaktiviztus darbiniekus\"\r\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.includeInactive}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onToggleIncludeInactive}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group as={Row} className=\"ml-1\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\t\tlabel=\"arhivtus darbiniekus\"\r\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.includeArchived}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onToggleIncludeArchived}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<h5>Atlast Darbiniekus</h5>\r\n\t\t\t\t\t\t\t<Table size=\"sm\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.checkAll}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={() => this.onCheckAll()}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Vrds</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Personas Kods</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Amats</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t{employees}\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"success\" onClick={() => {\r\n\t\t\t\t\t\tthis.export();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\tEksportt\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\texportExcel: state.employees.exportExcel,\r\n\t\temployees: state.employees.employees\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowExportExcel: () => dispatch(showExportExcel()),\r\n\t\thideExportExcel: () => dispatch(hideExportExcel()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ExportExcel);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button, Form, Alert } from \"react-bootstrap\";\r\n\r\nimport { authenticate } from \"../utils/userUtils\";\r\nimport { production } from \"../utils/config\";\r\n\r\nimport logo from \"../images/logo.png\";\r\n\r\nconst DEBUG = !production;\r\n\r\nclass LogIn extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\tusername: DEBUG ? \"nils.asejevs\" : \"\",\r\n\t\t\tpassword: DEBUG ? \"EvoNils112\" : \"\",\r\n\t\t\trememberMe: true,\r\n\t\t\tauthenticationError: false,\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif(DEBUG) {\r\n\t\t\tthis.logIn();\r\n\t\t}\r\n\t}\r\n\r\n\tonUsernameChange = (event) => {\r\n\t\tthis.setState({ username: event.target.value });\r\n\t}\r\n\r\n\tonPasswordChange = (event) => {\r\n\t\tthis.setState({ password: event.target.value });\r\n\t}\r\n\r\n\tonRememberMeChange = () => {\r\n\t\tthis.setState({ rememberMe: !this.state.rememberMe });\r\n\t}\r\n\r\n\tlogIn = (e) => {\r\n\t\tif(DEBUG === false) {\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t\tauthenticate(this.state.username, this.state.password, this.state.rememberMe).then((res) => {\r\n\t\t\tif(res.data) {\r\n\t\t\t\twindow.location.reload();\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tauthenticationError: true,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tcentered\r\n\t\t\t\tshow={true}\r\n\t\t\t\tonHide={() => null}\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={e => this.logIn(e)}>\r\n\t\t\t\t<Modal.Header className=\"justify-content-center\">\r\n\t\t\t\t\t<Modal.Title>\r\n\t\t\t\t\t\t<img \r\n\t\t\t\t\t\t\tsrc={logo}\r\n\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\twidth=\"auto\"\r\n\t\t\t\t\t\t\theight=\"40px\"\r\n\t\t\t\t\t\t\tclassName=\"d-inline-block align-top mr-2\"\r\n\t\t\t\t\t\t\tstyle={{filter: \"invert(100%)\"}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\tAutentifikcija\r\n\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Lietotjvrds</Form.Label>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={this.state.username} \r\n\t\t\t\t\t\t\tonChange={this.onUsernameChange}\r\n\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Parole</Form.Label>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={this.state.password} \r\n\t\t\t\t\t\t\tonChange={this.onPasswordChange}\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group controlId=\"formBasicChecbox\">\r\n\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\tlabel=\"Atcerties mani\"\r\n\t\t\t\t\t\t\tname=\"rememberMe\"\r\n\t\t\t\t\t\t\tchecked={this.state.rememberMe}\r\n\t\t\t\t\t\t\tonChange={this.onRememberMeChange}/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Alert variant={\"danger\"} show={this.state.authenticationError} onClose={() => null}>\r\n\t\t\t\t\t\tNepareizs lietotjvrds un/vai parole.\r\n\t\t\t\t\t</Alert>\r\n\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"success\" type=\"submit\">\r\n\t\t\t\t\t\tIelogoties\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(LogIn);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Alert } from \"react-bootstrap\";\r\n\r\nimport { showCheckCard, hideCheckCard, showEmployeeWorkLog } from \"../actions/employeeActions\";\r\n\r\nimport { awaitCard, getEmployeeByUID } from \"../utils/employeeUtils\";\r\n\r\n//import { checkCard } from \"../utils/employeeUtils\";\r\n\r\nclass CheckCard extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\tcardScanned: false,\r\n\t\t\tnotFound: false,\r\n\t\t}\r\n\t}\r\n\r\n\tcheckCard = () => {\r\n\t\tawaitCard().then((res) => {\r\n\t\t\tif(res.data) {\t\r\n\t\t\t\tgetEmployeeByUID(res.data.uid).then((res2) => {\r\n\t\t\t\t\tif(res2.data) {\r\n\t\t\t\t\t\tthis.hideModal();\r\n\t\t\t\t\t\tthis.props.showEmployeeWorkLog(res2.data.id);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tcardScanned: true,\r\n\t\t\t\t\t\t\tnotFound: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\thideModal = () => {\r\n\t\tthis.props.hideCheckCard();\r\n\r\n\t\tthis.setState({\r\n\t\t\tcardScanned: false,\r\n\t\t\temployee: {}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.checkCard.show}\r\n\t\t\t\tonHide={this.hideModal}\r\n\t\t\t\tonEntered={() => this.checkCard()}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>Atrast darbinieku pc kartes</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Alert variant={\"primary\"} show={!this.state.cardScanned}>\r\n\t\t\t\t\t\tNoskenjiet NFC kartiu...\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t<Alert variant={\"danger\"} show={this.state.cardScanned && this.state.notFound}>\r\n\t\t\t\t\t\tUz s kartias nav reistrts neviens darbinieks.\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tcheckCard: state.employees.checkCard,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowCheckCard: () => dispatch(showCheckCard()),\r\n\t\thideCheckCard: () => dispatch(hideCheckCard()),\r\n\t\tshowEmployeeWorkLog: (id) => dispatch(showEmployeeWorkLog(id)),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(CheckCard);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button, Form, Row, Col } from \"react-bootstrap\";\r\nimport BoostrapDatePicker from \"./BoostrapDatePicker\";\r\n\r\nimport { showCommentEmployee, hideCommentEmployee } from \"../actions/employeeActions\";\r\n\r\nimport { storeUpdateEmployee, addEmployeeComment } from \"../utils/employeeUtils\";\r\n\r\nclass CommentEmployee extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.initialState = {\r\n\t\t\tcomment: {\r\n\t\t\t\ttext: \"\",\r\n\t\t\t\texpires: new Date(),\r\n\t\t\t\tmanualDelete: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\t...this.initialState\r\n\t\t}\r\n\t}\r\n\r\n\tonExited = () => {\r\n\t\tthis.props.hideCommentEmployee();\r\n\t\tthis.setState({\r\n\t\t\t...this.initialState\r\n\t\t});\r\n\t}\r\n\r\n\tonCommentChange = (event) => {\r\n\t\tthis.setState({ \r\n\t\t\tcomment: {\r\n\t\t\t\t...this.state.comment,\r\n\t\t\t\ttext: event.target.value\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonExpiryDateChange = (date) => {\r\n\t\tthis.setState({\r\n\t\t\tcomment: {\r\n\t\t\t\t...this.state.comment,\r\n\t\t\t\texpires: date\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonManualDeleteChange = () => {\r\n\t\tthis.setState({ \r\n\t\t\tcomment: {\r\n\t\t\t\t...this.state.comment,\r\n\t\t\t\tmanualDelete: !this.state.comment.manualDelete\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tshow={this.props.commentEmployee.show}\r\n\t\t\t\tonExited={() => this.onExited()}\r\n\t\t\t\tonHide={() => this.props.hideCommentEmployee()}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>{this.props.employee.name + \" \" + this.props.employee.surname}</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t<Form.Label column xs={2}>Komentrs</Form.Label>\r\n\t\t\t\t\t\t<Col xs={10}>\r\n\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\tas=\"textarea\"\r\n\t\t\t\t\t\t\t\trows=\"3\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.comment.text}\r\n\t\t\t\t\t\t\t\tonChange={this.onCommentChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group as={Row}>\r\n\t\t\t\t\t\t<Form.Label column xs={2}>Dzst</Form.Label>\r\n\t\t\t\t\t\t<Col xs={10}>\r\n\t\t\t\t\t\t\t<BoostrapDatePicker\r\n\t\t\t\t\t\t\t\tdisabled={this.state.comment.manualDelete}\r\n\t\t\t\t\t\t\t\tdateFormat=\"dd.MM.yyyy. HH:mm\"\r\n\t\t\t\t\t\t\t\tselected={this.state.comment.expires}\r\n\t\t\t\t\t\t\t\tonChange={this.onExpiryDateChange}\r\n\t\t\t\t\t\t\t\tmaxDate={new Date()}\r\n\t\t\t\t\t\t\t\ttimeIntervals={1}\r\n\t\t\t\t\t\t\t\tshowTimeSelect\r\n\t\t\t\t\t\t\t\ttimeFormat=\"HH:mm\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\tlabel=\"Tikai manuli dzams\"\r\n\t\t\t\t\t\t\tname=\"manualDelete\"\r\n\t\t\t\t\t\t\tchecked={this.state.comment.manualDelete}\r\n\t\t\t\t\t\t\tonChange={this.onManualDeleteChange}/>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"success\" onClick={() => {\r\n\t\t\t\t\t\tconst employeeId = this.props.employee.id;\r\n\t\t\t\t\t\taddEmployeeComment(this.props.employee, this.state.comment).then(() => {\r\n\t\t\t\t\t\t\tstoreUpdateEmployee(employeeId);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.props.hideCommentEmployee();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\tPievienot\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tcommentEmployee: state.employees.commentEmployee,\r\n\t\temployee: state.employees.commentEmployee.employee,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowCommentEmployee: () => dispatch(showCommentEmployee()),\r\n\t\thideCommentEmployee: () => dispatch(hideCommentEmployee()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(CommentEmployee);\r\n","import React from \"react\";\r\n\r\nclass ScheduleCell extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.transparentColor = \"RGBA(0, 0, 0, 0)\";\r\n\t\tthis.dayColor = \"#ffcc00\";\r\n\t\tthis.nightColor = \"#005f9d\";\r\n\t\tthis.dayOffColor = \"#ff99cc\";\r\n\t\tthis.vacationColor = \"#00ff00\";\r\n\t\tthis.sickListColor = \"#2fc2b5\";\r\n\t\tthis.lateColor = \"red\";\r\n\t}\r\n\t\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\tif(nextProps.row.selectedFields.find((selectedField) => {\r\n\t\t\treturn selectedField[1] === this.props.rowIndex &&\r\n\t\t\tselectedField[2] === this.props.extraData.colIndex;\r\n\t\t}) || this.props.row.selectedFields.find((selectedField) => {\r\n\t\t\treturn selectedField[1] === this.props.rowIndex &&\r\n\t\t\tselectedField[2] === this.props.extraData.colIndex;\r\n\t\t})) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif(JSON.stringify(nextProps.row.schedule.days[nextProps.extraData.colIndex]) !== \r\n\t\t\tJSON.stringify(this.props.row.schedule.days[this.props.extraData.colIndex])) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst rowIndex = this.props.rowIndex;\r\n\t\tconst colIndex = this.props.extraData.colIndex;\r\n\t\tlet selectedFields = this.props.row.selectedFields;\r\n\r\n\t\tlet color = this.transparentColor;\r\n\t\tlet outline = \"0px\";\r\n\r\n\t\tswitch(this.props.row.schedule.days[colIndex]) {\r\n\t\t\tcase \"D\": {\r\n\t\t\t\tcolor = this.dayColor;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase \"N\": {\r\n\t\t\t\tcolor = this.nightColor;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase \"B\": {\r\n\t\t\t\tcolor = this.dayOffColor;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase \"A\": {\r\n\t\t\t\tcolor = this.vacationColor;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase \"S\": {\r\n\t\t\t\tcolor = this.sickListColor;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase \"K\": {\r\n\t\t\t\tcolor = this.lateColor;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdefault: {\r\n\t\t\t\tcolor = this.transparentColor;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor(let i = 0; i < selectedFields.length; i++) {\r\n\t\t\tif(selectedFields[i][1] === rowIndex &&\r\n\t\t\t\tselectedFields[i][2] === colIndex) {\r\n\t\t\t\toutline = \"2px #2f8cfb solid\";\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div style={{ backgroundColor: color, outline: outline }}>\r\n\t\t\t\t<input \r\n\t\t\t\t\tonClick={(event) => this.props.onClickScheduleInput(event, this.props.row.scheduleIndex, rowIndex, colIndex)}\r\n\t\t\t\t\tonFocus={(event) => this.props.onFocusScheduleInput(event, this.props.row.scheduleIndex, rowIndex, colIndex)}\r\n\t\t\t\t\tonChange={(event) => this.props.onChangeScheduleInput(event, this.props.row.scheduleIndex, rowIndex, colIndex)}\r\n\t\t\t\t\tclassName=\"border-0 text-center\" \r\n\t\t\t\t\tstyle={{ width: \"32px\", height: \"32px\", fontSize: \"12px\", backgroundColor: \"RGBA(0, 0, 0, 0)\", outline: \"none\"}}\r\n\t\t\t\t\tvalue={this.props.row.schedule.days[colIndex]}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ScheduleCell;\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\n\r\nimport { Row, Col, Button, Dropdown } from \"react-bootstrap\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\r\n\r\nimport ContainerBox from \"./ContainerBox\";\r\nimport Filters from \"./Filters\";\r\nimport ScheduleCell from \"./ScheduleCell\";\r\nimport BoostrapDatePicker from \"./BoostrapDatePicker\";\r\n\r\nimport {\r\n\tshowRegisterEmployee,\r\n\tshowExportExcel,\r\n\tshowCheckCard,\r\n\tshowEmployeeWorkLog\r\n} from \"../actions/employeeActions\";\r\n\r\nimport { getSchedules, saveSchedules } from \"../utils/employeeUtils\";\r\n\r\nimport { daysInMonth, convertSpecialCharacters, isWeekend } from \"../utils/commonUtils\";\r\n\r\nclass Employees extends React.Component {\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.transparentColor = \"RGBA(0, 0, 0, 0)\";\r\n\t\tthis.dayColor = \"#ffcc00\";\r\n\t\tthis.nightColor = \"#005f9d\";\r\n\t\tthis.dayOffColor = \"#ff99cc\";\r\n\t\tthis.vacationColor = \"#00ff00\";\r\n\t\tthis.sickListColor = \"#2fc2b5\";\r\n\t\tthis.weekendColor = \"#ffcc99\";\r\n\t\tthis.lateColor = \"red\";\r\n\r\n\t\tthis.keyDown = {};\r\n\r\n\t\tthis.cellRefs = [];\r\n\r\n\t\tconst cookies = new Cookies();\r\n\t\tlet settings = cookies.get(\"settings\");\r\n\r\n\t\tif(!settings) {\r\n\t\t\tsettings = {\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t}\r\n\r\n\t\t\tcookies.set(\"settings\", settings);\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\t// General\r\n\t\t\ttableData: [],\r\n\t\t\tpageSize: 10,\r\n\t\t\t...settings,\r\n\t\t\tsaving: false,\r\n\t\t\t// Scheduling specific\r\n\t\t\tschedules: [],\r\n\t\t\tselectedFields: [],\r\n\t\t\tscheduleDate: new Date(),\r\n\t\t}\r\n\r\n\t\tthis.columns = [{\r\n\t\t\tdataField: \"id\",\r\n\t\t\ttext: \"#\",\r\n\t\t\tsort: true,\r\n\t\t\tclasses: \"align-middle d-none d-md-table-cell\",\r\n\t\t\theaderClasses: \"d-none d-md-table-cell\",\r\n\t\t\thidden: true,\r\n\t\t}, {\r\n\t\t\tdataField: \"name\",\r\n\t\t\ttext: \"Vrds\",\r\n\t\t\tsort: true,\r\n\t\t\tsortFunc: (a, b, order) => {\r\n\t\t\t\tif(convertSpecialCharacters(a.surname) < convertSpecialCharacters(b.surname)) {\r\n\t\t\t\t\treturn order === \"asc\" ? -1 : 1;\r\n\t\t\t\t} else if(convertSpecialCharacters(a.surname) > convertSpecialCharacters(b.surname)) {\r\n\t\t\t\t\treturn order === \"asc\" ? 1 : -1;\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tformatter: this.nameFormatter,\r\n\t\t}];\r\n\r\n\t\tconst days = daysInMonth(new Date().getMonth(), new Date().getFullYear());\r\n\r\n\t\tfor(let i = 0; i < days; i++) {\r\n\t\t\tconst date = new Date(this.state.scheduleDate);\r\n\t\t\tdate.setDate(i);\r\n\r\n\t\t\tlet color = \"RGBA(0, 0, 0, 0)\";\r\n\t\t\tif(isWeekend(date)) {\r\n\t\t\t\tcolor = this.weekendColor;\r\n\t\t\t}\r\n\r\n\t\t\tthis.columns.push({\r\n\t\t\t\tdataField: \"schedule\" + i,\r\n\t\t\t\ttext: (i + 1).toString(),\r\n\t\t\t\tformatter: this.dayFormatter,\r\n\t\t\t\tformatExtraData: { \r\n\t\t\t\t\tcolIndex: i,\r\n\t\t\t\t},\r\n\t\t\t\theaderClasses: \"text-center\",\r\n\t\t\t\theaderStyle: { backgroundColor: color },\r\n\t\t\t\tclasses: \"text-center p-0 m-0\",\r\n\t\t\t\tstyle: { backgroundColor: color }\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.defaultSorted = [{\r\n\t\t\tdataField: \"name\",\r\n\t\t\torder: \"asc\"\r\n\t\t}];\r\n\r\n\t\tthis.pagination = paginationFactory({\r\n\t\t\tpage: 1,\r\n\t\t\talwaysShowAllBtns: true,\r\n\t\t\tshowTotal: false,\r\n\t\t\tsizePerPage : this.state.pageSize,\r\n\t\t\tsizePerPageRenderer: this.sizePerPageRenderer,\r\n\t\t\tsizePerPageList: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"10\",\r\n\t\t\t\t\tvalue: 10,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"25\",\r\n\t\t\t\t\tvalue: 25,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"50\",\r\n\t\t\t\t\tvalue: 50,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"100\",\r\n\t\t\t\t\tvalue: 100,\r\n\t\t\t\t},{\r\n\t\t\t\t\ttext: \"Viss\",\r\n\t\t\t\t\tvalue: 9999,\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t//this.onTableChange();\r\n\t\tthis.fetchSchedules();\r\n\r\n\t\twindow.addEventListener(\"keydown\", (event) => {\r\n\t\t\tthis.keyDown[event.keyCode] = true;\r\n\t\t});\r\n\r\n\t\twindow.addEventListener(\"keyup\", (event) => {\r\n\t\t\tthis.keyDown[event.keyCode] = false;\r\n\t\t});\r\n\t}\r\n\r\n\tfetchSchedules = () => {\r\n\t\tgetSchedules(this.state.scheduleDate.getMonth()).then((res) => {\r\n\t\t\tconst newSchedules = this.props.employees.map((employee) => {\r\n\t\t\t\tlet days = [];\r\n\t\t\t\tconst schedule = res.data.find((schedule) => {\r\n\t\t\t\t\treturn schedule.employee_id === employee.id\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif(schedule === undefined) {\r\n\t\t\t\t\tdays = new Array(31).fill(\" \", 0, 31);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdays = JSON.parse(schedule.days);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\temployee_id: employee.id,\r\n\t\t\t\t\tmonth: this.state.scheduleDate.getMonth(),\r\n\t\t\t\t\tdays: days\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\r\n\t\t\tPromise.all(newSchedules).then((data) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tschedules: JSON.parse(JSON.stringify(data)),\r\n\t\t\t\t\tselectedFields: [],\r\n\t\t\t\t}, () => this.onTableChange());\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tcheckEmptySchedules = () => {\r\n\t\tconst newSchedules = this.props.employees.map((employee) => {\r\n\t\t\tlet days = [];\r\n\t\t\tconst schedule = this.state.schedules.find((schedule) => {\r\n\t\t\t\treturn schedule.employee_id === employee.id\r\n\t\t\t});\r\n\r\n\t\t\tif(schedule === undefined) {\r\n\t\t\t\tdays = new Array(31).fill(\" \", 0, 31);\r\n\t\t\t} else {\r\n\t\t\t\tdays = schedule.days;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\temployee_id: employee.id,\r\n\t\t\t\tmonth: this.state.scheduleDate.getMonth(),\r\n\t\t\t\tdays: days\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\tPromise.all(newSchedules).then((data) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tschedules: JSON.parse(JSON.stringify(data)),\r\n\t\t\t}, () => {\r\n\t\t\t\tthis.onTableChange();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif(prevProps.employees.length === 0 && this.props.employees.length !== 0) {\r\n\t\t\tthis.fetchSchedules();\r\n\t\t}\r\n\r\n\t\tif(JSON.stringify(prevProps.employees) !== JSON.stringify(this.props.employees) &&\r\n\t\t\tthis.props.employees.length > 0) {\r\n\t\t\tthis.checkEmptySchedules();\r\n\t\t}\r\n\r\n\t\tif(JSON.stringify(prevProps.employees) !== JSON.stringify(this.props.employees) ||\r\n\t\t\tJSON.stringify(prevState.schedules) !== JSON.stringify(this.state.schedules) ||\r\n\t\t\tJSON.stringify(prevState.selectedFields) !== JSON.stringify(this.state.selectedFields)) {\r\n\t\t\tthis.onTableChange();\r\n\t\t}\r\n\r\n\t\tif(prevState.pageSize !== this.state.pageSize) {\r\n\t\t\tthis.saveSettings();\r\n\t\t}\r\n\t}\r\n\r\n\tisKeyDown = (key) => {\r\n\t\treturn this.keyDown[key];\r\n\t}\r\n\r\n\tsaveSettings = () => {\r\n\t\tconst cookies = new Cookies();\r\n\t\tconst settings = {\r\n\t\t\t...cookies.get(\"settings\"),\r\n\t\t\tpageSize: this.state.pageSize,\r\n\t\t}\r\n\r\n\t\tcookies.set(\"settings\", settings);\r\n\t}\r\n\r\n\tonTableChange = () => {\r\n\t\tthis.formatTable((tableData) => {\r\n\t\t\tthis.filterData(tableData);\r\n\t\t});\r\n\t}\r\n\r\n\tonFilterChange = () => {\r\n\t\tthis.onTableChange();\r\n\t}\r\n\r\n\tonDataFiltered = (data) => {\r\n\t\tthis.setState({\r\n\t\t\ttableData: data\r\n\t\t});\r\n\t}\r\n\r\n\tsaveSchedules = () => {\r\n\t\tthis.setState({ saving: true });\r\n\t\tsaveSchedules(this.state.schedules).then(() => {\r\n\t\t\tthis.setState({ saving: false });\r\n\t\t});\r\n\t}\r\n\r\n\tonChangeScheduleDate = (date) => {\r\n\t\tthis.setState({\r\n\t\t\tscheduleDate: new Date(date),\r\n\t\t}, () => this.fetchSchedules());\r\n\t}\r\n\r\n\tonClickScheduleInput = (event, scheduleIndex, rowIndex, colIndex) => {\r\n\t\tevent.target.select();\r\n\t}\r\n\r\n\tonFocusScheduleInput = (event, scheduleIndex, rowIndex, colIndex) => {\r\n\t\tevent.target.select();\r\n\t\tlet selectedFields = JSON.parse(JSON.stringify(this.state.selectedFields));\r\n\r\n\t\tif(!this.isKeyDown(17) && !this.isKeyDown(16)) { // CTRL and SHIFT is not being held\r\n\t\t\tselectedFields = [];\r\n\t\t}\r\n\r\n\t\tif(this.isKeyDown(16)) { // SHIFT is being held down\r\n\t\t\tconst start = selectedFields[selectedFields.length - 1];\r\n\t\t\tif(start !== undefined) {\r\n\t\t\t\tconst end = [scheduleIndex, rowIndex, colIndex];\r\n\r\n\t\t\t\tfor(let i = Math.min(start[1], end[1]); i <= Math.max(start[1], end[1]); i++) {\r\n\t\t\t\t\tfor(let i2 = Math.min(start[2], end[2]); i2 <= Math.max(start[2], end[2]); i2++) {\r\n\t\t\t\t\t\tselectedFields.push([-1, i, i2]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tselectedFields.push([scheduleIndex, rowIndex, colIndex]);\r\n\r\n\t\tthis.setState({\r\n\t\t\tselectedFields: selectedFields,\r\n\t\t});\r\n\t}\r\n\r\n\tonChangeScheduleInput = (event, scheduleIndex, rowIndex, colIndex) => {\r\n\t\tlet newSchedules = JSON.parse(JSON.stringify(this.state.schedules));\r\n\r\n\t\tconst value = event.target.value.toUpperCase();\r\n\r\n\t\tif(newSchedules[scheduleIndex].days[colIndex] !== value) {\r\n\t\t\tnewSchedules[scheduleIndex].days[colIndex] = value.replace(newSchedules[scheduleIndex].days[colIndex], \"\");\r\n\r\n\t\t\tif(newSchedules[scheduleIndex].days[colIndex] === \"\") {\r\n\t\t\t\tnewSchedules[scheduleIndex].days[colIndex] = \" \";\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(this.state.selectedFields.length > 1) {\r\n\t\t\tthis.state.selectedFields.forEach((selectedField) => {\r\n\t\t\t\tnewSchedules[this.cellRefs[selectedField[1]][selectedField[2]].props.row.scheduleIndex].days[selectedField[2]] = newSchedules[scheduleIndex].days[colIndex];\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tschedules: newSchedules,\r\n\t\t});\r\n\t}\r\n\r\n\tcreateEmptySchedule = () => {\r\n\t\tconst selectedFields = [];\r\n\r\n\t\tconst newSchedules = this.props.employees.map((employee) => {\r\n\t\t\tconst newDays = new Array(31).fill(\" \", 0, 31);\r\n\r\n\t\t\treturn {\r\n\t\t\t\temployee_id: employee.id,\r\n\t\t\t\tmonth: this.state.scheduleDate.getMonth(),\r\n\t\t\t\tdays: newDays\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\tPromise.all(newSchedules).then(() => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tschedules: newSchedules,\r\n\t\t\t\tselectedFields: selectedFields,\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tformatTable = (callback = () => null) => {\r\n\t\tthis.cellRefs = [];\r\n\t\tconst promise = this.props.employees.map((employee, index) => {\r\n\t\t\treturn({\r\n\t\t\t\tid: employee.id,\r\n\t\t\t\tname: {\r\n\t\t\t\t\tid: employee.id,\r\n\t\t\t\t\tname: employee.name,\r\n\t\t\t\t\tsurname: employee.surname\r\n\t\t\t\t},\r\n\t\t\t\tposition: employee.position ? employee.position.toString() : \"\",\r\n\t\t\t\tcompany: employee.company ? employee.company.toString() : \"\",\r\n\t\t\t\tarchived: employee.archived,\r\n\t\t\t\tactive: employee.active,\r\n\t\t\t\tworking: employee.working,\r\n\t\t\t\tschedule: this.state.schedules[index],\r\n\t\t\t\tscheduleIndex: index,\r\n\t\t\t\tselectedFields: this.state.selectedFields,\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tPromise.all(promise).then((data) => {\r\n\t\t\tcallback(data);\r\n\t\t});\r\n\t}\r\n\r\n\tnameFormatter = (cell, row) => {\r\n\t\treturn (\r\n\t\t\t<Button \r\n\t\t\t\tvariant=\"link\" \r\n\t\t\t\tonClick={() => this.props.showEmployeeWorkLog(cell.id)}\r\n\t\t\t\tstyle={{ color: \"#0000FF\", fontSize: \"12px\" }}\r\n\t\t\t\tclassName=\"m-0 p-0\"\r\n\t\t\t>\r\n\t\t\t\t{cell.surname + \" \" + cell.name}\r\n\t\t\t</Button>\r\n\t\t);\r\n\t};\r\n\r\n\tdayFormatter = (cell, row, rowIndex, extraData) => {\r\n\t\tif(row.schedule === undefined ||\r\n\t\t\trow === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst props = {\r\n\t\t\tcell, \r\n\t\t\trow, \r\n\t\t\trowIndex, \r\n\t\t\textraData\r\n\t\t}\r\n\t\treturn <ScheduleCell\r\n\t\t\tkey={[row.id, rowIndex]}\r\n\t\t\tonClickScheduleInput={this.onClickScheduleInput}\r\n\t\t\tonFocusScheduleInput={this.onFocusScheduleInput}\r\n\t\t\tonChangeScheduleInput={this.onChangeScheduleInput}\r\n\t\t\tref={(ref) => {\r\n\t\t\t\tif(this.cellRefs[rowIndex] === undefined) {\r\n\t\t\t\t\tthis.cellRefs[rowIndex] = new Array(31);\r\n\t\t\t\t}\r\n\t\t\t\tthis.cellRefs[rowIndex][extraData.colIndex] = ref;\r\n\t\t\t\treturn true;\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t};\r\n\r\n\tsizePerPageRenderer = ({\r\n\t\toptions,\r\n\t\tcurrSizePerPage,\r\n\t\tonSizePerPageChange\r\n\t}) => (\r\n\t\t<Dropdown className=\"d-inline pr-2\">\r\n\t\t\t<Dropdown.Toggle variant=\"primary\">\r\n\t\t\t\t{this.state.pageSize === 9999 ? \"Viss\" : this.state.pageSize}\r\n\t\t\t</Dropdown.Toggle>\r\n\r\n\t\t\t<Dropdown.Menu>\r\n\t\t\t\t{\r\n\t\t\t\t\toptions.map((option, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Dropdown.Item \r\n\t\t\t\t\t\t\t\tkey={index} \r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tthis.onClickPageSize(option);\r\n\t\t\t\t\t\t\t\t\tonSizePerPageChange(option.page);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{option.text}\r\n\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Dropdown.Menu>\r\n\t\t</Dropdown>\r\n\t);\r\n\r\n\tonClickPageSize = (option) => {\r\n\t\tthis.setState({\r\n\t\t\tpageSize: option.page\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ContainerBox header={\"Grafiks\"}>\r\n\t\t\t\t<Filters \r\n\t\t\t\t\tonDataFiltered={this.onDataFiltered}\r\n\t\t\t\t\tonFilterChange={this.onFilterChange}\r\n\t\t\t\t\tfilterData={filterData => this.filterData = filterData}\r\n\t\t\t\t/>\r\n\t\t\t\t<Row className=\"mt-3 text-center\" style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<span className=\"dot align-middle\" style={{ backgroundColor: this.dayColor }}/>\r\n\t\t\t\t\t\t<span className=\"ml-2\">(D) Diena</span>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<span className=\"dot align-middle\" style={{ backgroundColor: this.nightColor }}/>\r\n\t\t\t\t\t\t<span className=\"ml-2\">(N) Nakts</span>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<span className=\"dot align-middle\" style={{ backgroundColor: this.dayOffColor }}/>\r\n\t\t\t\t\t\t<span className=\"ml-2\">(B) Brvdiena</span>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<span className=\"dot align-middle\" style={{ backgroundColor: this.vacationColor }}/>\r\n\t\t\t\t\t\t<span className=\"ml-2\">(A) Atvainjums</span>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<span className=\"dot align-middle\" style={{ backgroundColor: this.sickListColor }}/>\r\n\t\t\t\t\t\t<span className=\"ml-2\">(S) Slimbas lapa</span>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<span className=\"dot align-middle\" style={{ backgroundColor: this.lateColor }}/>\r\n\t\t\t\t\t\t<span className=\"ml-2\">(K) Darba kavjums</span>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row className=\"mb-3 mt-3\">\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<ul style={{ fontSize: \"12px\" }}>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\tCTRL + KLIKIS - Iezm vairkus individulus laucius\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\tSHIFT + KLIKIS - Iezm vairkus no-ldz laucius\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Button  \r\n\t\t\t\t\t\t\tonClick={this.saveSchedules}\r\n\t\t\t\t\t\t\tclassName=\"float-right\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.saving \r\n\t\t\t\t\t\t\t\t? \"Saglab...\"\r\n\t\t\t\t\t\t\t\t: \"Saglabt\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<BoostrapDatePicker\r\n\t\t\t\t\t\t\tdateFormat=\"MM.yyyy.\"\r\n\t\t\t\t\t\t\tselected={this.state.scheduleDate}\r\n\t\t\t\t\t\t\tonChange={this.onChangeScheduleDate}\r\n\t\t\t\t\t\t\tshowMonthYearPicker\r\n\t\t\t\t\t\t\tclassName=\"float-right mr-2 text-center\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<BootstrapTable \r\n\t\t\t\t\tbootstrap4={ true }\r\n\t\t\t\t\tkeyField=\"id\"\r\n\t\t\t\t\tdata={ this.state.tableData } \r\n\t\t\t\t\tcolumns={ this.columns } \r\n\t\t\t\t\tbordered={ true }\r\n\t\t\t\t\tcondensed={ true }\r\n\t\t\t\t\thover={ true }\r\n\t\t\t\t\tdefaultSorted={ this.defaultSorted }\r\n\t\t\t\t\tremote={ { filter: true } }\r\n\t\t\t\t\tpagination={ this.pagination }\r\n\t\t\t\t/>\r\n\t\t\t</ContainerBox>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\temployees: state.employees.employees,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowRegisterEmployee: () => dispatch(showRegisterEmployee()),\r\n\t\tshowExportExcel: () => dispatch(showExportExcel()),\r\n\t\tshowCheckCard: () => dispatch(showCheckCard()),\r\n\t\tshowEmployeeWorkLog: (id) => dispatch(showEmployeeWorkLog(id))\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Employees);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Alert } from \"react-bootstrap\";\r\n\r\nimport { hideNotifications } from \"../actions/employeeActions\";\r\n\r\nclass Notifications extends React.Component {\r\n\tconstructor(props) {\r\n        super(props);\r\n\t}\r\n\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\tif(nextProps.employees.length > 0) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tdisplayNotifications = () => {\r\n\t\treturn this.props.notifications.data.map((notification) => {\r\n\t\t\tconst notificationData = JSON.parse(notification.data);\r\n\r\n\t\t\tswitch(notification.type) {\r\n\t\t\t\tcase \"EMPLOYEE_LATE\": {\r\n\t\t\t\t\tconst employee = this.props.employees.find((employee) => employee.id === notificationData.id);\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Alert key={notification.id} variant={\"danger\"}>\r\n\t\t\t\t\t\t\t<b>{employee.surname + \" \" + employee.name}</b> - Darba kavjums\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tdefault: {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Alert key={notification.id}>\r\n\t\t\t\t\t\t\tNezinms ieraksts\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tonHide = () => {\r\n\t\tthis.props.hideNotifications();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tsize=\"lg\"\r\n\t\t\t\tshow={this.props.notifications.show}\r\n\t\t\t\tonHide={() => this.onHide()}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>Paziojumi</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t{this.displayNotifications()}\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tnotifications: state.employees.notifications,\r\n\t\temployees: state.employees.employees,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\thideNotifications: () => dispatch(hideNotifications()),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Notifications);\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nimport { Route, BrowserRouter as Router, Switch } from \"react-router-dom\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { Container, Row, Col, Navbar, Nav, Spinner } from \"react-bootstrap\";\r\n\r\nimport { production, employeeUpdateInterval } from \"../utils/config\";\r\n\r\nimport Employees from \"./Employees\";\r\nimport Report from \"./Report\";\r\nimport RegisterEmployee from \"./RegisterEmployee\";\r\nimport NotFound from \"./NotFound\";\r\nimport ViewEmployee from \"./ViewEmployee\";\r\nimport DeleteEmployee from \"./DeleteEmployee\";\r\nimport EditEmployee from \"./EditEmployee\";\r\nimport ExportExcel from \"./ExportExcel\";\r\nimport LogIn from \"./LogIn\";\r\nimport CheckCard from \"./CheckCard\";\r\nimport CommentEmployee from \"./CommentEmployee\";\r\nimport Schedule from \"./Schedule\";\r\nimport Notifications from \"./Notifications\";\r\n\r\nimport { checkSession, logOut, getUserByKey } from \"../utils/userUtils\";\r\nimport { pingServer } from \"../utils/commonUtils\";\r\nimport { storeUpdateEmployees, cardScanned } from \"../utils/employeeUtils\";\r\n\r\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\r\nimport \"../styles/table.css\";\r\n\r\nimport logo from \"../images/logo.png\";\r\nimport { FiLogOut } from \"react-icons/fi\";\r\nimport { updateNotifications, showNotifications } from \"../actions/employeeActions\";\r\nimport { getNotifications } from \"../utils/employeeUtils\";\r\n\r\nclass App extends React.PureComponent {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\tpingInterval: null,\r\n\t\t\tserverConnectionEstablished: false,\r\n\t\t\tscannerConnectionEstablished: false,\r\n\t\t\tloading: true,\r\n\t\t\tauthenticated: false,\r\n\t\t\tuser: {\r\n\t\t\t\tusername: \"\"\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\twindow.scanCard = cardScanned;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t// Check user session before displaying anything\r\n\t\tthis.establishConnection();\r\n\t\tthis.setState({ \r\n\t\t\tpingInterval: setInterval(() => {\r\n\t\t\t\tthis.establishConnection();\r\n\t\t\t}, 1000)\r\n\t\t});\r\n\t}\r\n\r\n\testablishConnection = () => {\r\n\t\tpingServer().then((res) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tserverConnectionEstablished: res.data.server,\r\n\t\t\t\tscannerConnectionEstablished: res.data.scanner,\r\n\t\t\t}, () => {\r\n\t\t\t\tcheckSession().then((res) => {\r\n\t\t\t\t\tif(!production\r\n\t\t\t\t\t\t|| (this.state.serverConnectionEstablished === true\r\n\t\t\t\t\t\t&& this.state.scannerConnectionEstablished === true)) {\r\n\t\t\t\t\t\tclearInterval(this.state.pingInterval);\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\t\tauthenticated: res.data,\r\n\t\t\t\t\t\t}, () => {\r\n\t\t\t\t\t\t\tif(this.state.authenticated) {\r\n\t\t\t\t\t\t\t\tthis.onAuthentification();\r\n\t\t\t\t\t\t\t\tgetUserByKey().then((res) => {\r\n\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\tuser: res.data,\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\t\r\n\tonAuthentification = () => {\r\n\t\tstoreUpdateEmployees();\r\n\t\tgetNotifications().then(res => {\r\n\t\t\tthis.props.updateNotifications(res.data);\r\n\t\t});\r\n\r\n\t\tsetInterval(() => {\r\n\t\t\tstoreUpdateEmployees();\r\n\t\t\tgetNotifications().then(res => {\r\n\t\t\t\tthis.props.updateNotifications(res.data);\r\n\t\t\t});\r\n\t\t}, employeeUpdateInterval);\r\n\t}\r\n\r\n\tlogOut = () => {\r\n\t\tlogOut();\r\n\t\twindow.location.reload();\r\n\t}\r\n\r\n\trender() {\r\n\t\tif(this.state.loading) {\r\n\t\t\t// Loading screen\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<Spinner animation=\"border\"/>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.serverConnectionEstablished\r\n\t\t\t\t\t\t? \tthis.state.scannerConnectionEstablished\r\n\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t: <div>Veido savienojumu ar NFC skeneri...</div>\r\n\t\t\t\t\t\t: <div>Veido savienojumu ar serveri...</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tif(this.state.authenticated) {\r\n\t\t\t\t// User interface\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Router>\r\n\t\t\t\t\t\t<Container fluid={true}>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Navbar bg=\"dark\" variant=\"dark\" fixed=\"top\" expand=\"md\">\r\n\t\t\t\t\t\t\t\t\t\t<Navbar.Brand>\r\n\t\t\t\t\t\t\t\t\t\t\t<img \r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={logo}\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth=\"30\"\r\n\t\t\t\t\t\t\t\t\t\t\t\theight=\"30\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline-block align-top\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t{\" VRPAS 1\"}\r\n\t\t\t\t\t\t\t\t\t\t</Navbar.Brand>\r\n\t\t\t\t\t\t\t\t\t\t<Navbar.Toggle aria-controls=\"responsive-navbar-nav\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Navbar.Collapse id=\"responsive-navbar-nav\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Nav className=\"mr-auto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LinkContainer exact={true} to=\"/\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Nav.Link>Darbinieki</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LinkContainer exact={true} to=\"/report\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Nav.Link>Atskaites</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LinkContainer exact={true} to=\"/schedule\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Nav.Link>Grafiks</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Nav.Link \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.props.showNotifications} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ position: \"relative\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tPaziojumi\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tposition: \"absolute\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tright: \"-10px\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: \"red\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlineHeight: \"19px\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: \"50%\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: \"20px\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: \"20px\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"12px\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.notifications.data.length}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t\t\t\t\t\t<Nav>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Navbar.Text className=\"ml-md-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<u>{this.state.user.username}</u>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Navbar.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Nav.Link className=\"ml-md-2\" onClick={this.logOut}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tIziet\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FiLogOut className=\"ml-1\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t\t\t\t\t\t</Navbar>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t\t\t<Route exact path=\"/\" component={Employees} />\r\n\t\t\t\t\t\t\t\t\t\t<Route exact path=\"/report\" component={Report} />\r\n\t\t\t\t\t\t\t\t\t\t<Route exact path=\"/schedule\" component={Schedule} />\r\n\t\t\t\t\t\t\t\t\t\t<Route component={NotFound} />\r\n\t\t\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t\t\t<ViewEmployee/>\r\n\t\t\t\t\t\t\t\t\t<RegisterEmployee/>\r\n\t\t\t\t\t\t\t\t\t<DeleteEmployee/>\r\n\t\t\t\t\t\t\t\t\t<EditEmployee/>\r\n\t\t\t\t\t\t\t\t\t<ExportExcel/>\r\n\t\t\t\t\t\t\t\t\t<CheckCard/>\r\n\t\t\t\t\t\t\t\t\t<CommentEmployee/>\r\n\t\t\t\t\t\t\t\t\t<Notifications/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col className=\"footer\">\r\n\t\t\t\t\t\t\t\t\tVrpas 1  2019\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t</Router>\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\t// User Log In\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<LogIn/>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tnotifications: state.employees.notifications,\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tshowNotifications: () => dispatch(showNotifications()),\r\n\t\tupdateNotifications: (data) => dispatch(updateNotifications(data)),\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === \"localhost\" ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === \"[::1]\" ||\r\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(\r\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n\t\t)\r\n);\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won\"t work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twindow.addEventListener(\"load\", () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let\"s check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\"This web app is being served cache-first by a service \" +\r\n\t\t\t\t\t\t\t\"worker. To learn more, visit http://bit.ly/CRA-PWA\"\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing;\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === \"installed\") {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t\"New content is available and will be used when all \" +\r\n\t\t\t\t\t\t\t\t\t\"tabs for this page are closed. See http://bit.ly/CRA-PWA.\"\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It\"s the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log(\"Content is cached for offline use.\");\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error(\"Error during service worker registration:\", error);\r\n\t\t});\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can\"t reload the page.\r\n\tfetch(swUrl)\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get(\"content-type\");\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t\"No internet connection found. App is running in offline mode.\"\r\n\t\t\t);\r\n\t\t});\r\n}\r\n\r\nexport function unregister() {\r\n\tif (\"serviceWorker\" in navigator) {\r\n\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\tregistration.unregister();\r\n\t\t});\r\n\t}\r\n}\r\n","import React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./styles/index.css\";\r\nimport App from \"./components/App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nimport store from \"./store/store\";\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<App />\r\n\t</Provider>,\r\ndocument.getElementById(\"root\"));\r\n\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.96ebfbf9.png\";"],"sourceRoot":""}